{"version":3,"sources":["what-input.js","foundation.core.js","foundation.util.box.js","foundation.util.keyboard.js","foundation.util.mediaQuery.js","foundation.util.motion.js","foundation.util.nest.js","foundation.util.timerAndImageLoader.js","foundation.util.touch.js","foundation.util.triggers.js","foundation.abide.js","foundation.accordion.js","foundation.accordionMenu.js","foundation.drilldown.js","foundation.dropdown.js","foundation.dropdownMenu.js","foundation.equalizer.js","foundation.interchange.js","foundation.magellan.js","foundation.offcanvas.js","foundation.orbit.js","foundation.responsiveMenu.js","foundation.responsiveToggle.js","foundation.reveal.js","foundation.slider.js","foundation.sticky.js","foundation.tabs.js","foundation.toggler.js","foundation.tooltip.js"],"names":[],"mappings":"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","file":"foundation.js","sourcesContent":["window.whatInput = (function() {\r\n\r\n  'use strict';\r\n\r\n  /*\r\n    ---------------\r\n    variables\r\n    ---------------\r\n  */\r\n\r\n  // array of actively pressed keys\r\n  var activeKeys = [];\r\n\r\n  // cache document.body\r\n  var body;\r\n\r\n  // boolean: true if touch buffer timer is running\r\n  var buffer = false;\r\n\r\n  // the last used input type\r\n  var currentInput = null;\r\n\r\n  // `input` types that don't accept text\r\n  var nonTypingInputs = [\r\n    'button',\r\n    'checkbox',\r\n    'file',\r\n    'image',\r\n    'radio',\r\n    'reset',\r\n    'submit'\r\n  ];\r\n\r\n  // detect version of mouse wheel event to use\r\n  // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\r\n  var mouseWheel = detectWheel();\r\n\r\n  // list of modifier keys commonly used with the mouse and\r\n  // can be safely ignored to prevent false keyboard detection\r\n  var ignoreMap = [\r\n    16, // shift\r\n    17, // control\r\n    18, // alt\r\n    91, // Windows key / left Apple cmd\r\n    93  // Windows menu / right Apple cmd\r\n  ];\r\n\r\n  // mapping of events to input types\r\n  var inputMap = {\r\n    'keydown': 'keyboard',\r\n    'keyup': 'keyboard',\r\n    'mousedown': 'mouse',\r\n    'mousemove': 'mouse',\r\n    'MSPointerDown': 'pointer',\r\n    'MSPointerMove': 'pointer',\r\n    'pointerdown': 'pointer',\r\n    'pointermove': 'pointer',\r\n    'touchstart': 'touch'\r\n  };\r\n\r\n  // add correct mouse wheel event mapping to `inputMap`\r\n  inputMap[detectWheel()] = 'mouse';\r\n\r\n  // array of all used input types\r\n  var inputTypes = [];\r\n\r\n  // mapping of key codes to a common name\r\n  var keyMap = {\r\n    9: 'tab',\r\n    13: 'enter',\r\n    16: 'shift',\r\n    27: 'esc',\r\n    32: 'space',\r\n    37: 'left',\r\n    38: 'up',\r\n    39: 'right',\r\n    40: 'down'\r\n  };\r\n\r\n  // map of IE 10 pointer events\r\n  var pointerMap = {\r\n    2: 'touch',\r\n    3: 'touch', // treat pen like touch\r\n    4: 'mouse'\r\n  };\r\n\r\n  // touch buffer timer\r\n  var timer;\r\n\r\n\r\n  /*\r\n    ---------------\r\n    functions\r\n    ---------------\r\n  */\r\n\r\n  // allows events that are also triggered to be filtered out for `touchstart`\r\n  function eventBuffer() {\r\n    clearTimer();\r\n    setInput(event);\r\n\r\n    buffer = true;\r\n    timer = window.setTimeout(function() {\r\n      buffer = false;\r\n    }, 650);\r\n  }\r\n\r\n  function bufferedEvent(event) {\r\n    if (!buffer) setInput(event);\r\n  }\r\n\r\n  function unBufferedEvent(event) {\r\n    clearTimer();\r\n    setInput(event);\r\n  }\r\n\r\n  function clearTimer() {\r\n    window.clearTimeout(timer);\r\n  }\r\n\r\n  function setInput(event) {\r\n    var eventKey = key(event);\r\n    var value = inputMap[event.type];\r\n    if (value === 'pointer') value = pointerType(event);\r\n\r\n    // don't do anything if the value matches the input type already set\r\n    if (currentInput !== value) {\r\n      var eventTarget = target(event);\r\n      var eventTargetNode = eventTarget.nodeName.toLowerCase();\r\n      var eventTargetType = (eventTargetNode === 'input') ? eventTarget.getAttribute('type') : null;\r\n\r\n      if (\r\n        (// only if the user flag to allow typing in form fields isn't set\r\n        !body.hasAttribute('data-whatinput-formtyping') &&\r\n\r\n        // only if currentInput has a value\r\n        currentInput &&\r\n\r\n        // only if the input is `keyboard`\r\n        value === 'keyboard' &&\r\n\r\n        // not if the key is `TAB`\r\n        keyMap[eventKey] !== 'tab' &&\r\n\r\n        // only if the target is a form input that accepts text\r\n        (\r\n           eventTargetNode === 'textarea' ||\r\n           eventTargetNode === 'select' ||\r\n           (eventTargetNode === 'input' && nonTypingInputs.indexOf(eventTargetType) < 0)\r\n        )) || (\r\n          // ignore modifier keys\r\n          ignoreMap.indexOf(eventKey) > -1\r\n        )\r\n      ) {\r\n        // ignore keyboard typing\r\n      } else {\r\n        switchInput(value);\r\n      }\r\n    }\r\n\r\n    if (value === 'keyboard') logKeys(eventKey);\r\n  }\r\n\r\n  function switchInput(string) {\r\n    currentInput = string;\r\n    body.setAttribute('data-whatinput', currentInput);\r\n\r\n    if (inputTypes.indexOf(currentInput) === -1) inputTypes.push(currentInput);\r\n  }\r\n\r\n  function key(event) {\r\n    return (event.keyCode) ? event.keyCode : event.which;\r\n  }\r\n\r\n  function target(event) {\r\n    return event.target || event.srcElement;\r\n  }\r\n\r\n  function pointerType(event) {\r\n    if (typeof event.pointerType === 'number') {\r\n      return pointerMap[event.pointerType];\r\n    } else {\r\n      return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\r\n    }\r\n  }\r\n\r\n  // keyboard logging\r\n  function logKeys(eventKey) {\r\n    if (activeKeys.indexOf(keyMap[eventKey]) === -1 && keyMap[eventKey]) activeKeys.push(keyMap[eventKey]);\r\n  }\r\n\r\n  function unLogKeys(event) {\r\n    var eventKey = key(event);\r\n    var arrayPos = activeKeys.indexOf(keyMap[eventKey]);\r\n\r\n    if (arrayPos !== -1) activeKeys.splice(arrayPos, 1);\r\n  }\r\n\r\n  function bindEvents() {\r\n    body = document.body;\r\n\r\n    // pointer events (mouse, pen, touch)\r\n    if (window.PointerEvent) {\r\n      body.addEventListener('pointerdown', bufferedEvent);\r\n      body.addEventListener('pointermove', bufferedEvent);\r\n    } else if (window.MSPointerEvent) {\r\n      body.addEventListener('MSPointerDown', bufferedEvent);\r\n      body.addEventListener('MSPointerMove', bufferedEvent);\r\n    } else {\r\n\r\n      // mouse events\r\n      body.addEventListener('mousedown', bufferedEvent);\r\n      body.addEventListener('mousemove', bufferedEvent);\r\n\r\n      // touch events\r\n      if ('ontouchstart' in window) {\r\n        body.addEventListener('touchstart', eventBuffer);\r\n      }\r\n    }\r\n\r\n    // mouse wheel\r\n    body.addEventListener(mouseWheel, bufferedEvent);\r\n\r\n    // keyboard events\r\n    body.addEventListener('keydown', unBufferedEvent);\r\n    body.addEventListener('keyup', unBufferedEvent);\r\n    document.addEventListener('keyup', unLogKeys);\r\n  }\r\n\r\n\r\n  /*\r\n    ---------------\r\n    utilities\r\n    ---------------\r\n  */\r\n\r\n  // detect version of mouse wheel event to use\r\n  // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\r\n  function detectWheel() {\r\n    return mouseWheel = 'onwheel' in document.createElement('div') ?\r\n      'wheel' : // Modern browsers support \"wheel\"\r\n\r\n      document.onmousewheel !== undefined ?\r\n        'mousewheel' : // Webkit and IE support at least \"mousewheel\"\r\n        'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\r\n  }\r\n\r\n\r\n  /*\r\n    ---------------\r\n    init\r\n\r\n    don't start script unless browser cuts the mustard,\r\n    also passes if polyfills are used\r\n    ---------------\r\n  */\r\n\r\n  if (\r\n    'addEventListener' in window &&\r\n    Array.prototype.indexOf\r\n  ) {\r\n\r\n    // if the dom is already ready already (script was placed at bottom of <body>)\r\n    if (document.body) {\r\n      bindEvents();\r\n\r\n    // otherwise wait for the dom to load (script was placed in the <head>)\r\n    } else {\r\n      document.addEventListener('DOMContentLoaded', bindEvents);\r\n    }\r\n  }\r\n\r\n\r\n  /*\r\n    ---------------\r\n    api\r\n    ---------------\r\n  */\r\n\r\n  return {\r\n\r\n    // returns string: the current input type\r\n    ask: function() { return currentInput; },\r\n\r\n    // returns array: currently pressed keys\r\n    keys: function() { return activeKeys; },\r\n\r\n    // returns array: all the detected input types\r\n    types: function() { return inputTypes; },\r\n\r\n    // accepts string: manually set the input type\r\n    set: switchInput\r\n  };\r\n\r\n}());\r\n","!function($) {\r\n\r\n\"use strict\";\r\n\r\nvar FOUNDATION_VERSION = '6.2.4';\r\n\r\n// Global Foundation object\r\n// This is attached to the window, or used as a module for AMD/Browserify\r\nvar Foundation = {\r\n  version: FOUNDATION_VERSION,\r\n\r\n  /**\r\n   * Stores initialized plugins.\r\n   */\r\n  _plugins: {},\r\n\r\n  /**\r\n   * Stores generated unique ids for plugin instances\r\n   */\r\n  _uuids: [],\r\n\r\n  /**\r\n   * Returns a boolean for RTL support\r\n   */\r\n  rtl: function(){\r\n    return $('html').attr('dir') === 'rtl';\r\n  },\r\n  /**\r\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\r\n   * @param {Object} plugin - The constructor of the plugin.\r\n   */\r\n  plugin: function(plugin, name) {\r\n    // Object key to use when adding to global Foundation object\r\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\r\n    var className = (name || functionName(plugin));\r\n    // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\r\n    // Examples: data-reveal, data-off-canvas\r\n    var attrName  = hyphenate(className);\r\n\r\n    // Add to the Foundation object and the plugins list (for reflowing)\r\n    this._plugins[attrName] = this[className] = plugin;\r\n  },\r\n  /**\r\n   * @function\r\n   * Populates the _uuids array with pointers to each individual plugin instance.\r\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\r\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\r\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\r\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\r\n   * @fires Plugin#init\r\n   */\r\n  registerPlugin: function(plugin, name){\r\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\r\n    plugin.uuid = this.GetYoDigits(6, pluginName);\r\n\r\n    if(!plugin.$element.attr(`data-${pluginName}`)){ plugin.$element.attr(`data-${pluginName}`, plugin.uuid); }\r\n    if(!plugin.$element.data('zfPlugin')){ plugin.$element.data('zfPlugin', plugin); }\r\n          /**\r\n           * Fires when the plugin has initialized.\r\n           * @event Plugin#init\r\n           */\r\n    plugin.$element.trigger(`init.zf.${pluginName}`);\r\n\r\n    this._uuids.push(plugin.uuid);\r\n\r\n    return;\r\n  },\r\n  /**\r\n   * @function\r\n   * Removes the plugins uuid from the _uuids array.\r\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\r\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\r\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\r\n   * @fires Plugin#destroyed\r\n   */\r\n  unregisterPlugin: function(plugin){\r\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\r\n\r\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\r\n    plugin.$element.removeAttr(`data-${pluginName}`).removeData('zfPlugin')\r\n          /**\r\n           * Fires when the plugin has been destroyed.\r\n           * @event Plugin#destroyed\r\n           */\r\n          .trigger(`destroyed.zf.${pluginName}`);\r\n    for(var prop in plugin){\r\n      plugin[prop] = null;//clean up script to prep for garbage collection.\r\n    }\r\n    return;\r\n  },\r\n\r\n  /**\r\n   * @function\r\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\r\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\r\n   * @default If no argument is passed, reflow all currently active plugins.\r\n   */\r\n   reInit: function(plugins){\r\n     var isJQ = plugins instanceof $;\r\n     try{\r\n       if(isJQ){\r\n         plugins.each(function(){\r\n           $(this).data('zfPlugin')._init();\r\n         });\r\n       }else{\r\n         var type = typeof plugins,\r\n         _this = this,\r\n         fns = {\r\n           'object': function(plgs){\r\n             plgs.forEach(function(p){\r\n               p = hyphenate(p);\r\n               $('[data-'+ p +']').foundation('_init');\r\n             });\r\n           },\r\n           'string': function(){\r\n             plugins = hyphenate(plugins);\r\n             $('[data-'+ plugins +']').foundation('_init');\r\n           },\r\n           'undefined': function(){\r\n             this['object'](Object.keys(_this._plugins));\r\n           }\r\n         };\r\n         fns[type](plugins);\r\n       }\r\n     }catch(err){\r\n       console.error(err);\r\n     }finally{\r\n       return plugins;\r\n     }\r\n   },\r\n\r\n  /**\r\n   * returns a random base-36 uid with namespacing\r\n   * @function\r\n   * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\r\n   * @param {String} namespace - name of plugin to be incorporated in uid, optional.\r\n   * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\r\n   * @returns {String} - unique id\r\n   */\r\n  GetYoDigits: function(length, namespace){\r\n    length = length || 6;\r\n    return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1) + (namespace ? `-${namespace}` : '');\r\n  },\r\n  /**\r\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\r\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\r\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\r\n   */\r\n  reflow: function(elem, plugins) {\r\n\r\n    // If plugins is undefined, just grab everything\r\n    if (typeof plugins === 'undefined') {\r\n      plugins = Object.keys(this._plugins);\r\n    }\r\n    // If plugins is a string, convert it to an array with one item\r\n    else if (typeof plugins === 'string') {\r\n      plugins = [plugins];\r\n    }\r\n\r\n    var _this = this;\r\n\r\n    // Iterate through each plugin\r\n    $.each(plugins, function(i, name) {\r\n      // Get the current plugin\r\n      var plugin = _this._plugins[name];\r\n\r\n      // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\r\n      var $elem = $(elem).find('[data-'+name+']').addBack('[data-'+name+']');\r\n\r\n      // For each plugin found, initialize it\r\n      $elem.each(function() {\r\n        var $el = $(this),\r\n            opts = {};\r\n        // Don't double-dip on plugins\r\n        if ($el.data('zfPlugin')) {\r\n          console.warn(\"Tried to initialize \"+name+\" on an element that already has a Foundation plugin.\");\r\n          return;\r\n        }\r\n\r\n        if($el.attr('data-options')){\r\n          var thing = $el.attr('data-options').split(';').forEach(function(e, i){\r\n            var opt = e.split(':').map(function(el){ return el.trim(); });\r\n            if(opt[0]) opts[opt[0]] = parseValue(opt[1]);\r\n          });\r\n        }\r\n        try{\r\n          $el.data('zfPlugin', new plugin($(this), opts));\r\n        }catch(er){\r\n          console.error(er);\r\n        }finally{\r\n          return;\r\n        }\r\n      });\r\n    });\r\n  },\r\n  getFnName: functionName,\r\n  transitionend: function($elem){\r\n    var transitions = {\r\n      'transition': 'transitionend',\r\n      'WebkitTransition': 'webkitTransitionEnd',\r\n      'MozTransition': 'transitionend',\r\n      'OTransition': 'otransitionend'\r\n    };\r\n    var elem = document.createElement('div'),\r\n        end;\r\n\r\n    for (var t in transitions){\r\n      if (typeof elem.style[t] !== 'undefined'){\r\n        end = transitions[t];\r\n      }\r\n    }\r\n    if(end){\r\n      return end;\r\n    }else{\r\n      end = setTimeout(function(){\r\n        $elem.triggerHandler('transitionend', [$elem]);\r\n      }, 1);\r\n      return 'transitionend';\r\n    }\r\n  }\r\n};\r\n\r\nFoundation.util = {\r\n  /**\r\n   * Function for applying a debounce effect to a function call.\r\n   * @function\r\n   * @param {Function} func - Function to be called at end of timeout.\r\n   * @param {Number} delay - Time in ms to delay the call of `func`.\r\n   * @returns function\r\n   */\r\n  throttle: function (func, delay) {\r\n    var timer = null;\r\n\r\n    return function () {\r\n      var context = this, args = arguments;\r\n\r\n      if (timer === null) {\r\n        timer = setTimeout(function () {\r\n          func.apply(context, args);\r\n          timer = null;\r\n        }, delay);\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\n// TODO: consider not making this a jQuery function\r\n// TODO: need way to reflow vs. re-initialize\r\n/**\r\n * The Foundation jQuery method.\r\n * @param {String|Array} method - An action to perform on the current jQuery object.\r\n */\r\nvar foundation = function(method) {\r\n  var type = typeof method,\r\n      $meta = $('meta.foundation-mq'),\r\n      $noJS = $('.no-js');\r\n\r\n  if(!$meta.length){\r\n    $('<meta class=\"foundation-mq\">').appendTo(document.head);\r\n  }\r\n  if($noJS.length){\r\n    $noJS.removeClass('no-js');\r\n  }\r\n\r\n  if(type === 'undefined'){//needs to initialize the Foundation object, or an individual plugin.\r\n    Foundation.MediaQuery._init();\r\n    Foundation.reflow(this);\r\n  }else if(type === 'string'){//an individual method to invoke on a plugin or group of plugins\r\n    var args = Array.prototype.slice.call(arguments, 1);//collect all the arguments, if necessary\r\n    var plugClass = this.data('zfPlugin');//determine the class of plugin\r\n\r\n    if(plugClass !== undefined && plugClass[method] !== undefined){//make sure both the class and method exist\r\n      if(this.length === 1){//if there's only one, call it directly.\r\n          plugClass[method].apply(plugClass, args);\r\n      }else{\r\n        this.each(function(i, el){//otherwise loop through the jQuery collection and invoke the method on each\r\n          plugClass[method].apply($(el).data('zfPlugin'), args);\r\n        });\r\n      }\r\n    }else{//error for no class or no method\r\n      throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\r\n    }\r\n  }else{//error for invalid argument type\r\n    throw new TypeError(`We're sorry, ${type} is not a valid parameter. You must use a string representing the method you wish to invoke.`);\r\n  }\r\n  return this;\r\n};\r\n\r\nwindow.Foundation = Foundation;\r\n$.fn.foundation = foundation;\r\n\r\n// Polyfill for requestAnimationFrame\r\n(function() {\r\n  if (!Date.now || !window.Date.now)\r\n    window.Date.now = Date.now = function() { return new Date().getTime(); };\r\n\r\n  var vendors = ['webkit', 'moz'];\r\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\r\n      var vp = vendors[i];\r\n      window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];\r\n      window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']\r\n                                 || window[vp+'CancelRequestAnimationFrame']);\r\n  }\r\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)\r\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\r\n    var lastTime = 0;\r\n    window.requestAnimationFrame = function(callback) {\r\n        var now = Date.now();\r\n        var nextTime = Math.max(lastTime + 16, now);\r\n        return setTimeout(function() { callback(lastTime = nextTime); },\r\n                          nextTime - now);\r\n    };\r\n    window.cancelAnimationFrame = clearTimeout;\r\n  }\r\n  /**\r\n   * Polyfill for performance.now, required by rAF\r\n   */\r\n  if(!window.performance || !window.performance.now){\r\n    window.performance = {\r\n      start: Date.now(),\r\n      now: function(){ return Date.now() - this.start; }\r\n    };\r\n  }\r\n})();\r\nif (!Function.prototype.bind) {\r\n  Function.prototype.bind = function(oThis) {\r\n    if (typeof this !== 'function') {\r\n      // closest thing possible to the ECMAScript 5\r\n      // internal IsCallable function\r\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\r\n    }\r\n\r\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\r\n        fToBind = this,\r\n        fNOP    = function() {},\r\n        fBound  = function() {\r\n          return fToBind.apply(this instanceof fNOP\r\n                 ? this\r\n                 : oThis,\r\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\r\n        };\r\n\r\n    if (this.prototype) {\r\n      // native functions don't have a prototype\r\n      fNOP.prototype = this.prototype;\r\n    }\r\n    fBound.prototype = new fNOP();\r\n\r\n    return fBound;\r\n  };\r\n}\r\n// Polyfill to get the name of a function in IE9\r\nfunction functionName(fn) {\r\n  if (Function.prototype.name === undefined) {\r\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\r\n    var results = (funcNameRegex).exec((fn).toString());\r\n    return (results && results.length > 1) ? results[1].trim() : \"\";\r\n  }\r\n  else if (fn.prototype === undefined) {\r\n    return fn.constructor.name;\r\n  }\r\n  else {\r\n    return fn.prototype.constructor.name;\r\n  }\r\n}\r\nfunction parseValue(str){\r\n  if(/true/.test(str)) return true;\r\n  else if(/false/.test(str)) return false;\r\n  else if(!isNaN(str * 1)) return parseFloat(str);\r\n  return str;\r\n}\r\n// Convert PascalCase to kebab-case\r\n// Thank you: http://stackoverflow.com/a/8955580\r\nfunction hyphenate(str) {\r\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n}\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\nFoundation.Box = {\r\n  ImNotTouchingYou: ImNotTouchingYou,\r\n  GetDimensions: GetDimensions,\r\n  GetOffsets: GetOffsets\r\n}\r\n\r\n/**\r\n * Compares the dimensions of an element to a container and determines collision events with container.\r\n * @function\r\n * @param {jQuery} element - jQuery object to test for collisions.\r\n * @param {jQuery} parent - jQuery object to use as bounding container.\r\n * @param {Boolean} lrOnly - set to true to check left and right values only.\r\n * @param {Boolean} tbOnly - set to true to check top and bottom values only.\r\n * @default if no parent object passed, detects collisions with `window`.\r\n * @returns {Boolean} - true if collision free, false if a collision in any direction.\r\n */\r\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\r\n  var eleDims = GetDimensions(element),\r\n      top, bottom, left, right;\r\n\r\n  if (parent) {\r\n    var parDims = GetDimensions(parent);\r\n\r\n    bottom = (eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top);\r\n    top    = (eleDims.offset.top >= parDims.offset.top);\r\n    left   = (eleDims.offset.left >= parDims.offset.left);\r\n    right  = (eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left);\r\n  }\r\n  else {\r\n    bottom = (eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top);\r\n    top    = (eleDims.offset.top >= eleDims.windowDims.offset.top);\r\n    left   = (eleDims.offset.left >= eleDims.windowDims.offset.left);\r\n    right  = (eleDims.offset.left + eleDims.width <= eleDims.windowDims.width);\r\n  }\r\n\r\n  var allDirs = [bottom, top, left, right];\r\n\r\n  if (lrOnly) {\r\n    return left === right === true;\r\n  }\r\n\r\n  if (tbOnly) {\r\n    return top === bottom === true;\r\n  }\r\n\r\n  return allDirs.indexOf(false) === -1;\r\n};\r\n\r\n/**\r\n * Uses native methods to return an object of dimension values.\r\n * @function\r\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\r\n * @returns {Object} - nested object of integer pixel values\r\n * TODO - if element is window, return only those values.\r\n */\r\nfunction GetDimensions(elem, test){\r\n  elem = elem.length ? elem[0] : elem;\r\n\r\n  if (elem === window || elem === document) {\r\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\r\n  }\r\n\r\n  var rect = elem.getBoundingClientRect(),\r\n      parRect = elem.parentNode.getBoundingClientRect(),\r\n      winRect = document.body.getBoundingClientRect(),\r\n      winY = window.pageYOffset,\r\n      winX = window.pageXOffset;\r\n\r\n  return {\r\n    width: rect.width,\r\n    height: rect.height,\r\n    offset: {\r\n      top: rect.top + winY,\r\n      left: rect.left + winX\r\n    },\r\n    parentDims: {\r\n      width: parRect.width,\r\n      height: parRect.height,\r\n      offset: {\r\n        top: parRect.top + winY,\r\n        left: parRect.left + winX\r\n      }\r\n    },\r\n    windowDims: {\r\n      width: winRect.width,\r\n      height: winRect.height,\r\n      offset: {\r\n        top: winY,\r\n        left: winX\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\r\n * such as: Tooltip, Reveal, and Dropdown\r\n * @function\r\n * @param {jQuery} element - jQuery object for the element being positioned.\r\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\r\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\r\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\r\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\r\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\r\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\r\n */\r\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\r\n  var $eleDims = GetDimensions(element),\r\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\r\n\r\n  switch (position) {\r\n    case 'top':\r\n      return {\r\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left),\r\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\r\n      }\r\n      break;\r\n    case 'left':\r\n      return {\r\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\r\n        top: $anchorDims.offset.top\r\n      }\r\n      break;\r\n    case 'right':\r\n      return {\r\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset,\r\n        top: $anchorDims.offset.top\r\n      }\r\n      break;\r\n    case 'center top':\r\n      return {\r\n        left: ($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2),\r\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\r\n      }\r\n      break;\r\n    case 'center bottom':\r\n      return {\r\n        left: isOverflow ? hOffset : (($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2)),\r\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\r\n      }\r\n      break;\r\n    case 'center left':\r\n      return {\r\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\r\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\r\n      }\r\n      break;\r\n    case 'center right':\r\n      return {\r\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\r\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\r\n      }\r\n      break;\r\n    case 'center':\r\n      return {\r\n        left: ($eleDims.windowDims.offset.left + ($eleDims.windowDims.width / 2)) - ($eleDims.width / 2),\r\n        top: ($eleDims.windowDims.offset.top + ($eleDims.windowDims.height / 2)) - ($eleDims.height / 2)\r\n      }\r\n      break;\r\n    case 'reveal':\r\n      return {\r\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2,\r\n        top: $eleDims.windowDims.offset.top + vOffset\r\n      }\r\n    case 'reveal full':\r\n      return {\r\n        left: $eleDims.windowDims.offset.left,\r\n        top: $eleDims.windowDims.offset.top\r\n      }\r\n      break;\r\n    case 'left bottom':\r\n      return {\r\n        left: $anchorDims.offset.left,\r\n        top: $anchorDims.offset.top + $anchorDims.height\r\n      };\r\n      break;\r\n    case 'right bottom':\r\n      return {\r\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\r\n        top: $anchorDims.offset.top + $anchorDims.height\r\n      };\r\n      break;\r\n    default:\r\n      return {\r\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset),\r\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\r\n      }\r\n  }\r\n}\r\n\r\n}(jQuery);\r\n","/*******************************************\r\n *                                         *\r\n * This util was created by Marius Olbertz *\r\n * Please thank Marius on GitHub /owlbertz *\r\n * or the web http://www.mariusolbertz.de/ *\r\n *                                         *\r\n ******************************************/\r\n\r\n'use strict';\r\n\r\n!function($) {\r\n\r\nconst keyCodes = {\r\n  9: 'TAB',\r\n  13: 'ENTER',\r\n  27: 'ESCAPE',\r\n  32: 'SPACE',\r\n  37: 'ARROW_LEFT',\r\n  38: 'ARROW_UP',\r\n  39: 'ARROW_RIGHT',\r\n  40: 'ARROW_DOWN'\r\n}\r\n\r\nvar commands = {}\r\n\r\nvar Keyboard = {\r\n  keys: getKeyCodes(keyCodes),\r\n\r\n  /**\r\n   * Parses the (keyboard) event and returns a String that represents its key\r\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\r\n   * @param {Event} event - the event generated by the event handler\r\n   * @return String key - String that represents the key pressed\r\n   */\r\n  parseKey(event) {\r\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\r\n    if (event.shiftKey) key = `SHIFT_${key}`;\r\n    if (event.ctrlKey) key = `CTRL_${key}`;\r\n    if (event.altKey) key = `ALT_${key}`;\r\n    return key;\r\n  },\r\n\r\n  /**\r\n   * Handles the given (keyboard) event\r\n   * @param {Event} event - the event generated by the event handler\r\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\r\n   * @param {Objects} functions - collection of functions that are to be executed\r\n   */\r\n  handleKey(event, component, functions) {\r\n    var commandList = commands[component],\r\n      keyCode = this.parseKey(event),\r\n      cmds,\r\n      command,\r\n      fn;\r\n\r\n    if (!commandList) return console.warn('Component not defined!');\r\n\r\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\r\n        cmds = commandList; // use plain list\r\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\r\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\r\n\r\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\r\n    }\r\n    command = cmds[keyCode];\r\n\r\n    fn = functions[command];\r\n    if (fn && typeof fn === 'function') { // execute function  if exists\r\n      var returnValue = fn.apply();\r\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\r\n          functions.handled(returnValue);\r\n      }\r\n    } else {\r\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\r\n          functions.unhandled();\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Finds all focusable elements within the given `$element`\r\n   * @param {jQuery} $element - jQuery object to search within\r\n   * @return {jQuery} $focusable - all focusable elements within `$element`\r\n   */\r\n  findFocusable($element) {\r\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\r\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\r\n      return true;\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Returns the component name name\r\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\r\n   * @return String componentName\r\n   */\r\n\r\n  register(componentName, cmds) {\r\n    commands[componentName] = cmds;\r\n  }\r\n}\r\n\r\n/*\r\n * Constants for easier comparing.\r\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\r\n */\r\nfunction getKeyCodes(kcs) {\r\n  var k = {};\r\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\r\n  return k;\r\n}\r\n\r\nFoundation.Keyboard = Keyboard;\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n// Default set of media queries\r\nconst defaultQueries = {\r\n  'default' : 'only screen',\r\n  landscape : 'only screen and (orientation: landscape)',\r\n  portrait : 'only screen and (orientation: portrait)',\r\n  retina : 'only screen and (-webkit-min-device-pixel-ratio: 2),' +\r\n    'only screen and (min--moz-device-pixel-ratio: 2),' +\r\n    'only screen and (-o-min-device-pixel-ratio: 2/1),' +\r\n    'only screen and (min-device-pixel-ratio: 2),' +\r\n    'only screen and (min-resolution: 192dpi),' +\r\n    'only screen and (min-resolution: 2dppx)'\r\n};\r\n\r\nvar MediaQuery = {\r\n  queries: [],\r\n\r\n  current: '',\r\n\r\n  /**\r\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    var self = this;\r\n    var extractedStyles = $('.foundation-mq').css('font-family');\r\n    var namedQueries;\r\n\r\n    namedQueries = parseStyleToObject(extractedStyles);\r\n\r\n    for (var key in namedQueries) {\r\n      if(namedQueries.hasOwnProperty(key)) {\r\n        self.queries.push({\r\n          name: key,\r\n          value: `only screen and (min-width: ${namedQueries[key]})`\r\n        });\r\n      }\r\n    }\r\n\r\n    this.current = this._getCurrentSize();\r\n\r\n    this._watcher();\r\n  },\r\n\r\n  /**\r\n   * Checks if the screen is at least as wide as a breakpoint.\r\n   * @function\r\n   * @param {String} size - Name of the breakpoint to check.\r\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\r\n   */\r\n  atLeast(size) {\r\n    var query = this.get(size);\r\n\r\n    if (query) {\r\n      return window.matchMedia(query).matches;\r\n    }\r\n\r\n    return false;\r\n  },\r\n\r\n  /**\r\n   * Gets the media query of a breakpoint.\r\n   * @function\r\n   * @param {String} size - Name of the breakpoint to get.\r\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\r\n   */\r\n  get(size) {\r\n    for (var i in this.queries) {\r\n      if(this.queries.hasOwnProperty(i)) {\r\n        var query = this.queries[i];\r\n        if (size === query.name) return query.value;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  },\r\n\r\n  /**\r\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\r\n   * @function\r\n   * @private\r\n   * @returns {String} Name of the current breakpoint.\r\n   */\r\n  _getCurrentSize() {\r\n    var matched;\r\n\r\n    for (var i = 0; i < this.queries.length; i++) {\r\n      var query = this.queries[i];\r\n\r\n      if (window.matchMedia(query.value).matches) {\r\n        matched = query;\r\n      }\r\n    }\r\n\r\n    if (typeof matched === 'object') {\r\n      return matched.name;\r\n    } else {\r\n      return matched;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\r\n   * @function\r\n   * @private\r\n   */\r\n  _watcher() {\r\n    $(window).on('resize.zf.mediaquery', () => {\r\n      var newSize = this._getCurrentSize(), currentSize = this.current;\r\n\r\n      if (newSize !== currentSize) {\r\n        // Change the current media query\r\n        this.current = newSize;\r\n\r\n        // Broadcast the media query change on the window\r\n        $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nFoundation.MediaQuery = MediaQuery;\r\n\r\n// matchMedia() polyfill - Test a CSS media type/query in JS.\r\n// Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\r\nwindow.matchMedia || (window.matchMedia = function() {\r\n  'use strict';\r\n\r\n  // For browsers that support matchMedium api such as IE 9 and webkit\r\n  var styleMedia = (window.styleMedia || window.media);\r\n\r\n  // For those that don't support matchMedium\r\n  if (!styleMedia) {\r\n    var style   = document.createElement('style'),\r\n    script      = document.getElementsByTagName('script')[0],\r\n    info        = null;\r\n\r\n    style.type  = 'text/css';\r\n    style.id    = 'matchmediajs-test';\r\n\r\n    script && script.parentNode && script.parentNode.insertBefore(style, script);\r\n\r\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\r\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\r\n\r\n    styleMedia = {\r\n      matchMedium(media) {\r\n        var text = `@media ${media}{ #matchmediajs-test { width: 1px; } }`;\r\n\r\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\r\n        if (style.styleSheet) {\r\n          style.styleSheet.cssText = text;\r\n        } else {\r\n          style.textContent = text;\r\n        }\r\n\r\n        // Test if media query is true or false\r\n        return info.width === '1px';\r\n      }\r\n    }\r\n  }\r\n\r\n  return function(media) {\r\n    return {\r\n      matches: styleMedia.matchMedium(media || 'all'),\r\n      media: media || 'all'\r\n    };\r\n  }\r\n}());\r\n\r\n// Thank you: https://github.com/sindresorhus/query-string\r\nfunction parseStyleToObject(str) {\r\n  var styleObject = {};\r\n\r\n  if (typeof str !== 'string') {\r\n    return styleObject;\r\n  }\r\n\r\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\r\n\r\n  if (!str) {\r\n    return styleObject;\r\n  }\r\n\r\n  styleObject = str.split('&').reduce(function(ret, param) {\r\n    var parts = param.replace(/\\+/g, ' ').split('=');\r\n    var key = parts[0];\r\n    var val = parts[1];\r\n    key = decodeURIComponent(key);\r\n\r\n    // missing `=` should be `null`:\r\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\r\n    val = val === undefined ? null : decodeURIComponent(val);\r\n\r\n    if (!ret.hasOwnProperty(key)) {\r\n      ret[key] = val;\r\n    } else if (Array.isArray(ret[key])) {\r\n      ret[key].push(val);\r\n    } else {\r\n      ret[key] = [ret[key], val];\r\n    }\r\n    return ret;\r\n  }, {});\r\n\r\n  return styleObject;\r\n}\r\n\r\nFoundation.MediaQuery = MediaQuery;\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Motion module.\r\n * @module foundation.motion\r\n */\r\n\r\nconst initClasses   = ['mui-enter', 'mui-leave'];\r\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\r\n\r\nconst Motion = {\r\n  animateIn: function(element, animation, cb) {\r\n    animate(true, element, animation, cb);\r\n  },\r\n\r\n  animateOut: function(element, animation, cb) {\r\n    animate(false, element, animation, cb);\r\n  }\r\n}\r\n\r\nfunction Move(duration, elem, fn){\r\n  var anim, prog, start = null;\r\n  // console.log('called');\r\n\r\n  function move(ts){\r\n    if(!start) start = window.performance.now();\r\n    // console.log(start, ts);\r\n    prog = ts - start;\r\n    fn.apply(elem);\r\n\r\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\r\n    else{\r\n      window.cancelAnimationFrame(anim);\r\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\r\n    }\r\n  }\r\n  anim = window.requestAnimationFrame(move);\r\n}\r\n\r\n/**\r\n * Animates an element in or out using a CSS transition class.\r\n * @function\r\n * @private\r\n * @param {Boolean} isIn - Defines if the animation is in or out.\r\n * @param {Object} element - jQuery or HTML object to animate.\r\n * @param {String} animation - CSS class to use.\r\n * @param {Function} cb - Callback to run when animation is finished.\r\n */\r\nfunction animate(isIn, element, animation, cb) {\r\n  element = $(element).eq(0);\r\n\r\n  if (!element.length) return;\r\n\r\n  var initClass = isIn ? initClasses[0] : initClasses[1];\r\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\r\n\r\n  // Set up the animation\r\n  reset();\r\n\r\n  element\r\n    .addClass(animation)\r\n    .css('transition', 'none');\r\n\r\n  requestAnimationFrame(() => {\r\n    element.addClass(initClass);\r\n    if (isIn) element.show();\r\n  });\r\n\r\n  // Start the animation\r\n  requestAnimationFrame(() => {\r\n    element[0].offsetWidth;\r\n    element\r\n      .css('transition', '')\r\n      .addClass(activeClass);\r\n  });\r\n\r\n  // Clean up the animation when it finishes\r\n  element.one(Foundation.transitionend(element), finish);\r\n\r\n  // Hides the element (for out animations), resets the element, and runs a callback\r\n  function finish() {\r\n    if (!isIn) element.hide();\r\n    reset();\r\n    if (cb) cb.apply(element);\r\n  }\r\n\r\n  // Resets transitions and removes motion-specific classes\r\n  function reset() {\r\n    element[0].style.transitionDuration = 0;\r\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\r\n  }\r\n}\r\n\r\nFoundation.Move = Move;\r\nFoundation.Motion = Motion;\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\nconst Nest = {\r\n  Feather(menu, type = 'zf') {\r\n    menu.attr('role', 'menubar');\r\n\r\n    var items = menu.find('li').attr({'role': 'menuitem'}),\r\n        subMenuClass = `is-${type}-submenu`,\r\n        subItemClass = `${subMenuClass}-item`,\r\n        hasSubClass = `is-${type}-submenu-parent`;\r\n\r\n    menu.find('a:first').attr('tabindex', 0);\r\n\r\n    items.each(function() {\r\n      var $item = $(this),\r\n          $sub = $item.children('ul');\r\n\r\n      if ($sub.length) {\r\n        $item\r\n          .addClass(hasSubClass)\r\n          .attr({\r\n            'aria-haspopup': true,\r\n            'aria-expanded': false,\r\n            'aria-label': $item.children('a:first').text()\r\n          });\r\n\r\n        $sub\r\n          .addClass(`submenu ${subMenuClass}`)\r\n          .attr({\r\n            'data-submenu': '',\r\n            'aria-hidden': true,\r\n            'role': 'menu'\r\n          });\r\n      }\r\n\r\n      if ($item.parent('[data-submenu]').length) {\r\n        $item.addClass(`is-submenu-item ${subItemClass}`);\r\n      }\r\n    });\r\n\r\n    return;\r\n  },\r\n\r\n  Burn(menu, type) {\r\n    var items = menu.find('li').removeAttr('tabindex'),\r\n        subMenuClass = `is-${type}-submenu`,\r\n        subItemClass = `${subMenuClass}-item`,\r\n        hasSubClass = `is-${type}-submenu-parent`;\r\n\r\n    menu\r\n      .find('>li, .menu, .menu > li')\r\n      .removeClass(`${subMenuClass} ${subItemClass} ${hasSubClass} is-submenu-item submenu is-active`)\r\n      .removeAttr('data-submenu').css('display', '');\r\n\r\n    // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\r\n    //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\r\n    //           .removeAttr('data-submenu'));\r\n    // items.each(function(){\r\n    //   var $item = $(this),\r\n    //       $sub = $item.children('ul');\r\n    //   if($item.parent('[data-submenu]').length){\r\n    //     $item.removeClass('is-submenu-item ' + subItemClass);\r\n    //   }\r\n    //   if($sub.length){\r\n    //     $item.removeClass('has-submenu');\r\n    //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\r\n    //   }\r\n    // });\r\n  }\r\n}\r\n\r\nFoundation.Nest = Nest;\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\nfunction Timer(elem, options, cb) {\r\n  var _this = this,\r\n      duration = options.duration,//options is an object for easily adding features later.\r\n      nameSpace = Object.keys(elem.data())[0] || 'timer',\r\n      remain = -1,\r\n      start,\r\n      timer;\r\n\r\n  this.isPaused = false;\r\n\r\n  this.restart = function() {\r\n    remain = -1;\r\n    clearTimeout(timer);\r\n    this.start();\r\n  }\r\n\r\n  this.start = function() {\r\n    this.isPaused = false;\r\n    // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\r\n    clearTimeout(timer);\r\n    remain = remain <= 0 ? duration : remain;\r\n    elem.data('paused', false);\r\n    start = Date.now();\r\n    timer = setTimeout(function(){\r\n      if(options.infinite){\r\n        _this.restart();//rerun the timer.\r\n      }\r\n      if (cb && typeof cb === 'function') { cb(); }\r\n    }, remain);\r\n    elem.trigger(`timerstart.zf.${nameSpace}`);\r\n  }\r\n\r\n  this.pause = function() {\r\n    this.isPaused = true;\r\n    //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\r\n    clearTimeout(timer);\r\n    elem.data('paused', true);\r\n    var end = Date.now();\r\n    remain = remain - (end - start);\r\n    elem.trigger(`timerpaused.zf.${nameSpace}`);\r\n  }\r\n}\r\n\r\n/**\r\n * Runs a callback function when images are fully loaded.\r\n * @param {Object} images - Image(s) to check if loaded.\r\n * @param {Func} callback - Function to execute when image is fully loaded.\r\n */\r\nfunction onImagesLoaded(images, callback){\r\n  var self = this,\r\n      unloaded = images.length;\r\n\r\n  if (unloaded === 0) {\r\n    callback();\r\n  }\r\n\r\n  images.each(function() {\r\n    if (this.complete) {\r\n      singleImageLoaded();\r\n    }\r\n    else if (typeof this.naturalWidth !== 'undefined' && this.naturalWidth > 0) {\r\n      singleImageLoaded();\r\n    }\r\n    else {\r\n      $(this).one('load', function() {\r\n        singleImageLoaded();\r\n      });\r\n    }\r\n  });\r\n\r\n  function singleImageLoaded() {\r\n    unloaded--;\r\n    if (unloaded === 0) {\r\n      callback();\r\n    }\r\n  }\r\n}\r\n\r\nFoundation.Timer = Timer;\r\nFoundation.onImagesLoaded = onImagesLoaded;\r\n\r\n}(jQuery);\r\n","//**************************************************\r\n//**Work inspired by multiple jquery swipe plugins**\r\n//**Done by Yohai Ararat ***************************\r\n//**************************************************\r\n(function($) {\r\n\r\n  $.spotSwipe = {\r\n    version: '1.0.0',\r\n    enabled: 'ontouchstart' in document.documentElement,\r\n    preventDefault: false,\r\n    moveThreshold: 75,\r\n    timeThreshold: 200\r\n  };\r\n\r\n  var   startPosX,\r\n        startPosY,\r\n        startTime,\r\n        elapsedTime,\r\n        isMoving = false;\r\n\r\n  function onTouchEnd() {\r\n    //  alert(this);\r\n    this.removeEventListener('touchmove', onTouchMove);\r\n    this.removeEventListener('touchend', onTouchEnd);\r\n    isMoving = false;\r\n  }\r\n\r\n  function onTouchMove(e) {\r\n    if ($.spotSwipe.preventDefault) { e.preventDefault(); }\r\n    if(isMoving) {\r\n      var x = e.touches[0].pageX;\r\n      var y = e.touches[0].pageY;\r\n      var dx = startPosX - x;\r\n      var dy = startPosY - y;\r\n      var dir;\r\n      elapsedTime = new Date().getTime() - startTime;\r\n      if(Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\r\n        dir = dx > 0 ? 'left' : 'right';\r\n      }\r\n      // else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\r\n      //   dir = dy > 0 ? 'down' : 'up';\r\n      // }\r\n      if(dir) {\r\n        e.preventDefault();\r\n        onTouchEnd.call(this);\r\n        $(this).trigger('swipe', dir).trigger(`swipe${dir}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  function onTouchStart(e) {\r\n    if (e.touches.length == 1) {\r\n      startPosX = e.touches[0].pageX;\r\n      startPosY = e.touches[0].pageY;\r\n      isMoving = true;\r\n      startTime = new Date().getTime();\r\n      this.addEventListener('touchmove', onTouchMove, false);\r\n      this.addEventListener('touchend', onTouchEnd, false);\r\n    }\r\n  }\r\n\r\n  function init() {\r\n    this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\r\n  }\r\n\r\n  function teardown() {\r\n    this.removeEventListener('touchstart', onTouchStart);\r\n  }\r\n\r\n  $.event.special.swipe = { setup: init };\r\n\r\n  $.each(['left', 'up', 'down', 'right'], function () {\r\n    $.event.special[`swipe${this}`] = { setup: function(){\r\n      $(this).on('swipe', $.noop);\r\n    } };\r\n  });\r\n})(jQuery);\r\n/****************************************************\r\n * Method for adding psuedo drag events to elements *\r\n ***************************************************/\r\n!function($){\r\n  $.fn.addTouch = function(){\r\n    this.each(function(i,el){\r\n      $(el).bind('touchstart touchmove touchend touchcancel',function(){\r\n        //we pass the original event object because the jQuery event\r\n        //object is normalized to w3c specs and does not provide the TouchList\r\n        handleTouch(event);\r\n      });\r\n    });\r\n\r\n    var handleTouch = function(event){\r\n      var touches = event.changedTouches,\r\n          first = touches[0],\r\n          eventTypes = {\r\n            touchstart: 'mousedown',\r\n            touchmove: 'mousemove',\r\n            touchend: 'mouseup'\r\n          },\r\n          type = eventTypes[event.type],\r\n          simulatedEvent\r\n        ;\r\n\r\n      if('MouseEvent' in window && typeof window.MouseEvent === 'function') {\r\n        simulatedEvent = new window.MouseEvent(type, {\r\n          'bubbles': true,\r\n          'cancelable': true,\r\n          'screenX': first.screenX,\r\n          'screenY': first.screenY,\r\n          'clientX': first.clientX,\r\n          'clientY': first.clientY\r\n        });\r\n      } else {\r\n        simulatedEvent = document.createEvent('MouseEvent');\r\n        simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0/*left*/, null);\r\n      }\r\n      first.target.dispatchEvent(simulatedEvent);\r\n    };\r\n  };\r\n}(jQuery);\r\n\r\n\r\n//**********************************\r\n//**From the jQuery Mobile Library**\r\n//**need to recreate functionality**\r\n//**and try to improve if possible**\r\n//**********************************\r\n\r\n/* Removing the jQuery function ****\r\n************************************\r\n\r\n(function( $, window, undefined ) {\r\n\r\n\tvar $document = $( document ),\r\n\t\t// supportTouch = $.mobile.support.touch,\r\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\r\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\r\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\r\n\r\n\t// setup new event shortcuts\r\n\t$.each( ( \"touchstart touchmove touchend \" +\r\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\r\n\r\n\t\t$.fn[ name ] = function( fn ) {\r\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\r\n\t\t};\r\n\r\n\t\t// jQuery < 1.8\r\n\t\tif ( $.attrFn ) {\r\n\t\t\t$.attrFn[ name ] = true;\r\n\t\t}\r\n\t});\r\n\r\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\r\n\t\tvar originalType = event.type;\r\n\t\tevent.type = eventType;\r\n\t\tif ( bubble ) {\r\n\t\t\t$.event.trigger( event, undefined, obj );\r\n\t\t} else {\r\n\t\t\t$.event.dispatch.call( obj, event );\r\n\t\t}\r\n\t\tevent.type = originalType;\r\n\t}\r\n\r\n\t// also handles taphold\r\n\r\n\t// Also handles swipeleft, swiperight\r\n\t$.event.special.swipe = {\r\n\r\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\r\n\t\tscrollSupressionThreshold: 30,\r\n\r\n\t\t// More time than this, and it isn't a swipe.\r\n\t\tdurationThreshold: 1000,\r\n\r\n\t\t// Swipe horizontal displacement must be more than this.\r\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\r\n\r\n\t\t// Swipe vertical displacement must be less than this.\r\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\r\n\r\n\t\tgetLocation: function ( event ) {\r\n\t\t\tvar winPageX = window.pageXOffset,\r\n\t\t\t\twinPageY = window.pageYOffset,\r\n\t\t\t\tx = event.clientX,\r\n\t\t\t\ty = event.clientY;\r\n\r\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\r\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\r\n\r\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\r\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\r\n\t\t\t\tx = x - winPageX;\r\n\t\t\t\ty = y - winPageY;\r\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\r\n\r\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\r\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\r\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\r\n\t\t\t\tx = event.pageX - winPageX;\r\n\t\t\t\ty = event.pageY - winPageY;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tstart: function( event ) {\r\n\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\r\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\r\n\t\t\treturn {\r\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\r\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\r\n\t\t\t\t\t\torigin: $( event.target )\r\n\t\t\t\t\t};\r\n\t\t},\r\n\r\n\t\tstop: function( event ) {\r\n\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\r\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\r\n\t\t\treturn {\r\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\r\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\r\n\t\t\t\t\t};\r\n\t\t},\r\n\r\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\r\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\r\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\r\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\r\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\r\n\r\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\r\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t// This serves as a flag to ensure that at most one swipe event event is\r\n\t\t// in work at any given time\r\n\t\teventInProgress: false,\r\n\r\n\t\tsetup: function() {\r\n\t\t\tvar events,\r\n\t\t\t\tthisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tcontext = {};\r\n\r\n\t\t\t// Retrieve the events data for this element and add the swipe context\r\n\t\t\tevents = $.data( this, \"mobile-events\" );\r\n\t\t\tif ( !events ) {\r\n\t\t\t\tevents = { length: 0 };\r\n\t\t\t\t$.data( this, \"mobile-events\", events );\r\n\t\t\t}\r\n\t\t\tevents.length++;\r\n\t\t\tevents.swipe = context;\r\n\r\n\t\t\tcontext.start = function( event ) {\r\n\r\n\t\t\t\t// Bail if we're already working on a swipe event\r\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\r\n\r\n\t\t\t\tvar stop,\r\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\r\n\t\t\t\t\torigTarget = event.target,\r\n\t\t\t\t\temitted = false;\r\n\r\n\t\t\t\tcontext.move = function( event ) {\r\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\r\n\t\t\t\t\tif ( !emitted ) {\r\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\r\n\t\t\t\t\t\tif ( emitted ) {\r\n\r\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\r\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// prevent scrolling\r\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tcontext.stop = function() {\r\n\t\t\t\t\t\temitted = true;\r\n\r\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\r\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\r\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\r\n\t\t\t\t\t\tcontext.move = null;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$document.on( touchMoveEvent, context.move )\r\n\t\t\t\t\t.one( touchStopEvent, context.stop );\r\n\t\t\t};\r\n\t\t\t$this.on( touchStartEvent, context.start );\r\n\t\t},\r\n\r\n\t\tteardown: function() {\r\n\t\t\tvar events, context;\r\n\r\n\t\t\tevents = $.data( this, \"mobile-events\" );\r\n\t\t\tif ( events ) {\r\n\t\t\t\tcontext = events.swipe;\r\n\t\t\t\tdelete events.swipe;\r\n\t\t\t\tevents.length--;\r\n\t\t\t\tif ( events.length === 0 ) {\r\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( context ) {\r\n\t\t\t\tif ( context.start ) {\r\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\r\n\t\t\t\t}\r\n\t\t\t\tif ( context.move ) {\r\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\r\n\t\t\t\t}\r\n\t\t\t\tif ( context.stop ) {\r\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t$.each({\r\n\t\tswipeleft: \"swipe.left\",\r\n\t\tswiperight: \"swipe.right\"\r\n\t}, function( event, sourceEvent ) {\r\n\r\n\t\t$.event.special[ event ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\t$( this ).unbind( sourceEvent );\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n})( jQuery, this );\r\n*/\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\nconst MutationObserver = (function () {\r\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\r\n  for (var i=0; i < prefixes.length; i++) {\r\n    if (`${prefixes[i]}MutationObserver` in window) {\r\n      return window[`${prefixes[i]}MutationObserver`];\r\n    }\r\n  }\r\n  return false;\r\n}());\r\n\r\nconst triggers = (el, type) => {\r\n  el.data(type).split(' ').forEach(id => {\r\n    $(`#${id}`)[ type === 'close' ? 'trigger' : 'triggerHandler'](`${type}.zf.trigger`, [el]);\r\n  });\r\n};\r\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\r\n$(document).on('click.zf.trigger', '[data-open]', function() {\r\n  triggers($(this), 'open');\r\n});\r\n\r\n// Elements with [data-close] will close a plugin that supports it when clicked.\r\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\r\n$(document).on('click.zf.trigger', '[data-close]', function() {\r\n  let id = $(this).data('close');\r\n  if (id) {\r\n    triggers($(this), 'close');\r\n  }\r\n  else {\r\n    $(this).trigger('close.zf.trigger');\r\n  }\r\n});\r\n\r\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\r\n$(document).on('click.zf.trigger', '[data-toggle]', function() {\r\n  triggers($(this), 'toggle');\r\n});\r\n\r\n// Elements with [data-closable] will respond to close.zf.trigger events.\r\n$(document).on('close.zf.trigger', '[data-closable]', function(e){\r\n  e.stopPropagation();\r\n  let animation = $(this).data('closable');\r\n\r\n  if(animation !== ''){\r\n    Foundation.Motion.animateOut($(this), animation, function() {\r\n      $(this).trigger('closed.zf');\r\n    });\r\n  }else{\r\n    $(this).fadeOut().trigger('closed.zf');\r\n  }\r\n});\r\n\r\n$(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function() {\r\n  let id = $(this).data('toggle-focus');\r\n  $(`#${id}`).triggerHandler('toggle.zf.trigger', [$(this)]);\r\n});\r\n\r\n/**\r\n* Fires once after all other scripts have loaded\r\n* @function\r\n* @private\r\n*/\r\n$(window).on('load', () => {\r\n  checkListeners();\r\n});\r\n\r\nfunction checkListeners() {\r\n  eventsListener();\r\n  resizeListener();\r\n  scrollListener();\r\n  closemeListener();\r\n}\r\n\r\n//******** only fires this function once on load, if there's something to watch ********\r\nfunction closemeListener(pluginName) {\r\n  var yetiBoxes = $('[data-yeti-box]'),\r\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\r\n\r\n  if(pluginName){\r\n    if(typeof pluginName === 'string'){\r\n      plugNames.push(pluginName);\r\n    }else if(typeof pluginName === 'object' && typeof pluginName[0] === 'string'){\r\n      plugNames.concat(pluginName);\r\n    }else{\r\n      console.error('Plugin names must be strings');\r\n    }\r\n  }\r\n  if(yetiBoxes.length){\r\n    let listeners = plugNames.map((name) => {\r\n      return `closeme.zf.${name}`;\r\n    }).join(' ');\r\n\r\n    $(window).off(listeners).on(listeners, function(e, pluginId){\r\n      let plugin = e.namespace.split('.')[0];\r\n      let plugins = $(`[data-${plugin}]`).not(`[data-yeti-box=\"${pluginId}\"]`);\r\n\r\n      plugins.each(function(){\r\n        let _this = $(this);\r\n\r\n        _this.triggerHandler('close.zf.trigger', [_this]);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction resizeListener(debounce){\r\n  let timer,\r\n      $nodes = $('[data-resize]');\r\n  if($nodes.length){\r\n    $(window).off('resize.zf.trigger')\r\n    .on('resize.zf.trigger', function(e) {\r\n      if (timer) { clearTimeout(timer); }\r\n\r\n      timer = setTimeout(function(){\r\n\r\n        if(!MutationObserver){//fallback for IE 9\r\n          $nodes.each(function(){\r\n            $(this).triggerHandler('resizeme.zf.trigger');\r\n          });\r\n        }\r\n        //trigger all listening elements and signal a resize event\r\n        $nodes.attr('data-events', \"resize\");\r\n      }, debounce || 10);//default time to emit resize event\r\n    });\r\n  }\r\n}\r\n\r\nfunction scrollListener(debounce){\r\n  let timer,\r\n      $nodes = $('[data-scroll]');\r\n  if($nodes.length){\r\n    $(window).off('scroll.zf.trigger')\r\n    .on('scroll.zf.trigger', function(e){\r\n      if(timer){ clearTimeout(timer); }\r\n\r\n      timer = setTimeout(function(){\r\n\r\n        if(!MutationObserver){//fallback for IE 9\r\n          $nodes.each(function(){\r\n            $(this).triggerHandler('scrollme.zf.trigger');\r\n          });\r\n        }\r\n        //trigger all listening elements and signal a scroll event\r\n        $nodes.attr('data-events', \"scroll\");\r\n      }, debounce || 10);//default time to emit scroll event\r\n    });\r\n  }\r\n}\r\n\r\nfunction eventsListener() {\r\n  if(!MutationObserver){ return false; }\r\n  let nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\r\n\r\n  //element callback\r\n  var listeningElementsMutation = function(mutationRecordsList) {\r\n    var $target = $(mutationRecordsList[0].target);\r\n    //trigger the event handler for the element depending on type\r\n    switch ($target.attr(\"data-events\")) {\r\n\r\n      case \"resize\" :\r\n      $target.triggerHandler('resizeme.zf.trigger', [$target]);\r\n      break;\r\n\r\n      case \"scroll\" :\r\n      $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\r\n      break;\r\n\r\n      // case \"mutate\" :\r\n      // console.log('mutate', $target);\r\n      // $target.triggerHandler('mutate.zf.trigger');\r\n      //\r\n      // //make sure we don't get stuck in an infinite loop from sloppy codeing\r\n      // if ($target.index('[data-mutate]') == $(\"[data-mutate]\").length-1) {\r\n      //   domMutationObserver();\r\n      // }\r\n      // break;\r\n\r\n      default :\r\n      return false;\r\n      //nothing\r\n    }\r\n  }\r\n\r\n  if(nodes.length){\r\n    //for each element that needs to listen for resizing, scrolling, (or coming soon mutation) add a single observer\r\n    for (var i = 0; i <= nodes.length-1; i++) {\r\n      let elementObserver = new MutationObserver(listeningElementsMutation);\r\n      elementObserver.observe(nodes[i], { attributes: true, childList: false, characterData: false, subtree:false, attributeFilter:[\"data-events\"]});\r\n    }\r\n  }\r\n}\r\n\r\n// ------------------------------------\r\n\r\n// [PH]\r\n// Foundation.CheckWatchers = checkWatchers;\r\nFoundation.IHearYou = checkListeners;\r\n// Foundation.ISeeYou = scrollListener;\r\n// Foundation.IFeelYou = closemeListener;\r\n\r\n}(jQuery);\r\n\r\n// function domMutationObserver(debounce) {\r\n//   // !!! This is coming soon and needs more work; not active  !!! //\r\n//   var timer,\r\n//   nodes = document.querySelectorAll('[data-mutate]');\r\n//   //\r\n//   if (nodes.length) {\r\n//     // var MutationObserver = (function () {\r\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\r\n//     //   for (var i=0; i < prefixes.length; i++) {\r\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\r\n//     //       return window[prefixes[i] + 'MutationObserver'];\r\n//     //     }\r\n//     //   }\r\n//     //   return false;\r\n//     // }());\r\n//\r\n//\r\n//     //for the body, we need to listen for all changes effecting the style and class attributes\r\n//     var bodyObserver = new MutationObserver(bodyMutation);\r\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\r\n//\r\n//\r\n//     //body callback\r\n//     function bodyMutation(mutate) {\r\n//       //trigger all listening elements and signal a mutation event\r\n//       if (timer) { clearTimeout(timer); }\r\n//\r\n//       timer = setTimeout(function() {\r\n//         bodyObserver.disconnect();\r\n//         $('[data-mutate]').attr('data-events',\"mutate\");\r\n//       }, debounce || 150);\r\n//     }\r\n//   }\r\n// }\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Abide module.\r\n * @module foundation.abide\r\n */\r\n\r\nclass Abide {\r\n  /**\r\n   * Creates a new instance of Abide.\r\n   * @class\r\n   * @fires Abide#init\r\n   * @param {Object} element - jQuery object to add the trigger to.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options = {}) {\r\n    this.$element = element;\r\n    this.options  = $.extend({}, Abide.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Abide');\r\n  }\r\n\r\n  /**\r\n   * Initializes the Abide plugin and calls functions to get Abide functioning on load.\r\n   * @private\r\n   */\r\n  _init() {\r\n    this.$inputs = this.$element.find('input, textarea, select');\r\n\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Initializes events for Abide.\r\n   * @private\r\n   */\r\n  _events() {\r\n    this.$element.off('.abide')\r\n      .on('reset.zf.abide', () => {\r\n        this.resetForm();\r\n      })\r\n      .on('submit.zf.abide', () => {\r\n        return this.validateForm();\r\n      });\r\n\r\n    if (this.options.validateOn === 'fieldChange') {\r\n      this.$inputs\r\n        .off('change.zf.abide')\r\n        .on('change.zf.abide', (e) => {\r\n          this.validateInput($(e.target));\r\n        });\r\n    }\r\n\r\n    if (this.options.liveValidate) {\r\n      this.$inputs\r\n        .off('input.zf.abide')\r\n        .on('input.zf.abide', (e) => {\r\n          this.validateInput($(e.target));\r\n        });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calls necessary functions to update Abide upon DOM change\r\n   * @private\r\n   */\r\n  _reflow() {\r\n    this._init();\r\n  }\r\n\r\n  /**\r\n   * Checks whether or not a form element has the required attribute and if it's checked or not\r\n   * @param {Object} element - jQuery object to check for required attribute\r\n   * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\r\n   */\r\n  requiredCheck($el) {\r\n    if (!$el.attr('required')) return true;\r\n\r\n    var isGood = true;\r\n\r\n    switch ($el[0].type) {\r\n      case 'checkbox':\r\n        isGood = $el[0].checked;\r\n        break;\r\n\r\n      case 'select':\r\n      case 'select-one':\r\n      case 'select-multiple':\r\n        var opt = $el.find('option:selected');\r\n        if (!opt.length || !opt.val()) isGood = false;\r\n        break;\r\n\r\n      default:\r\n        if(!$el.val() || !$el.val().length) isGood = false;\r\n    }\r\n\r\n    return isGood;\r\n  }\r\n\r\n  /**\r\n   * Based on $el, get the first element with selector in this order:\r\n   * 1. The element's direct sibling('s).\r\n   * 3. The element's parent's children.\r\n   *\r\n   * This allows for multiple form errors per input, though if none are found, no form errors will be shown.\r\n   *\r\n   * @param {Object} $el - jQuery object to use as reference to find the form error selector.\r\n   * @returns {Object} jQuery object with the selector.\r\n   */\r\n  findFormError($el) {\r\n    var $error = $el.siblings(this.options.formErrorSelector);\r\n\r\n    if (!$error.length) {\r\n      $error = $el.parent().find(this.options.formErrorSelector);\r\n    }\r\n\r\n    return $error;\r\n  }\r\n\r\n  /**\r\n   * Get the first element in this order:\r\n   * 2. The <label> with the attribute `[for=\"someInputId\"]`\r\n   * 3. The `.closest()` <label>\r\n   *\r\n   * @param {Object} $el - jQuery object to check for required attribute\r\n   * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\r\n   */\r\n  findLabel($el) {\r\n    var id = $el[0].id;\r\n    var $label = this.$element.find(`label[for=\"${id}\"]`);\r\n\r\n    if (!$label.length) {\r\n      return $el.closest('label');\r\n    }\r\n\r\n    return $label;\r\n  }\r\n\r\n  /**\r\n   * Get the set of labels associated with a set of radio els in this order\r\n   * 2. The <label> with the attribute `[for=\"someInputId\"]`\r\n   * 3. The `.closest()` <label>\r\n   *\r\n   * @param {Object} $el - jQuery object to check for required attribute\r\n   * @returns {Boolean} Boolean value depends on whether or not attribute is checked or empty\r\n   */\r\n  findRadioLabels($els) {\r\n    var labels = $els.map((i, el) => {\r\n      var id = el.id;\r\n      var $label = this.$element.find(`label[for=\"${id}\"]`);\r\n\r\n      if (!$label.length) {\r\n        $label = $(el).closest('label');\r\n      }\r\n      return $label[0];\r\n    });\r\n\r\n    return $(labels);\r\n  }\r\n\r\n  /**\r\n   * Adds the CSS error class as specified by the Abide settings to the label, input, and the form\r\n   * @param {Object} $el - jQuery object to add the class to\r\n   */\r\n  addErrorClasses($el) {\r\n    var $label = this.findLabel($el);\r\n    var $formError = this.findFormError($el);\r\n\r\n    if ($label.length) {\r\n      $label.addClass(this.options.labelErrorClass);\r\n    }\r\n\r\n    if ($formError.length) {\r\n      $formError.addClass(this.options.formErrorClass);\r\n    }\r\n\r\n    $el.addClass(this.options.inputErrorClass).attr('data-invalid', '');\r\n  }\r\n\r\n  /**\r\n   * Remove CSS error classes etc from an entire radio button group\r\n   * @param {String} groupName - A string that specifies the name of a radio button group\r\n   *\r\n   */\r\n\r\n  removeRadioErrorClasses(groupName) {\r\n    var $els = this.$element.find(`:radio[name=\"${groupName}\"]`);\r\n    var $labels = this.findRadioLabels($els);\r\n    var $formErrors = this.findFormError($els);\r\n\r\n    if ($labels.length) {\r\n      $labels.removeClass(this.options.labelErrorClass);\r\n    }\r\n\r\n    if ($formErrors.length) {\r\n      $formErrors.removeClass(this.options.formErrorClass);\r\n    }\r\n\r\n    $els.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');\r\n\r\n  }\r\n\r\n  /**\r\n   * Removes CSS error class as specified by the Abide settings from the label, input, and the form\r\n   * @param {Object} $el - jQuery object to remove the class from\r\n   */\r\n  removeErrorClasses($el) {\r\n    // radios need to clear all of the els\r\n    if($el[0].type == 'radio') {\r\n      return this.removeRadioErrorClasses($el.attr('name'));\r\n    }\r\n\r\n    var $label = this.findLabel($el);\r\n    var $formError = this.findFormError($el);\r\n\r\n    if ($label.length) {\r\n      $label.removeClass(this.options.labelErrorClass);\r\n    }\r\n\r\n    if ($formError.length) {\r\n      $formError.removeClass(this.options.formErrorClass);\r\n    }\r\n\r\n    $el.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');\r\n  }\r\n\r\n  /**\r\n   * Goes through a form to find inputs and proceeds to validate them in ways specific to their type\r\n   * @fires Abide#invalid\r\n   * @fires Abide#valid\r\n   * @param {Object} element - jQuery object to validate, should be an HTML input\r\n   * @returns {Boolean} goodToGo - If the input is valid or not.\r\n   */\r\n  validateInput($el) {\r\n    var clearRequire = this.requiredCheck($el),\r\n        validated = false,\r\n        customValidator = true,\r\n        validator = $el.attr('data-validator'),\r\n        equalTo = true;\r\n\r\n    // don't validate ignored inputs or hidden inputs\r\n    if ($el.is('[data-abide-ignore]') || $el.is('[type=\"hidden\"]')) {\r\n      return true;\r\n    }\r\n\r\n    switch ($el[0].type) {\r\n      case 'radio':\r\n        validated = this.validateRadio($el.attr('name'));\r\n        break;\r\n\r\n      case 'checkbox':\r\n        validated = clearRequire;\r\n        break;\r\n\r\n      case 'select':\r\n      case 'select-one':\r\n      case 'select-multiple':\r\n        validated = clearRequire;\r\n        break;\r\n\r\n      default:\r\n        validated = this.validateText($el);\r\n    }\r\n\r\n    if (validator) {\r\n      customValidator = this.matchValidation($el, validator, $el.attr('required'));\r\n    }\r\n\r\n    if ($el.attr('data-equalto')) {\r\n      equalTo = this.options.validators.equalTo($el);\r\n    }\r\n\r\n\r\n    var goodToGo = [clearRequire, validated, customValidator, equalTo].indexOf(false) === -1;\r\n    var message = (goodToGo ? 'valid' : 'invalid') + '.zf.abide';\r\n\r\n    this[goodToGo ? 'removeErrorClasses' : 'addErrorClasses']($el);\r\n\r\n    /**\r\n     * Fires when the input is done checking for validation. Event trigger is either `valid.zf.abide` or `invalid.zf.abide`\r\n     * Trigger includes the DOM element of the input.\r\n     * @event Abide#valid\r\n     * @event Abide#invalid\r\n     */\r\n    $el.trigger(message, [$el]);\r\n\r\n    return goodToGo;\r\n  }\r\n\r\n  /**\r\n   * Goes through a form and if there are any invalid inputs, it will display the form error element\r\n   * @returns {Boolean} noError - true if no errors were detected...\r\n   * @fires Abide#formvalid\r\n   * @fires Abide#forminvalid\r\n   */\r\n  validateForm() {\r\n    var acc = [];\r\n    var _this = this;\r\n\r\n    this.$inputs.each(function() {\r\n      acc.push(_this.validateInput($(this)));\r\n    });\r\n\r\n    var noError = acc.indexOf(false) === -1;\r\n\r\n    this.$element.find('[data-abide-error]').css('display', (noError ? 'none' : 'block'));\r\n\r\n    /**\r\n     * Fires when the form is finished validating. Event trigger is either `formvalid.zf.abide` or `forminvalid.zf.abide`.\r\n     * Trigger includes the element of the form.\r\n     * @event Abide#formvalid\r\n     * @event Abide#forminvalid\r\n     */\r\n    this.$element.trigger((noError ? 'formvalid' : 'forminvalid') + '.zf.abide', [this.$element]);\r\n\r\n    return noError;\r\n  }\r\n\r\n  /**\r\n   * Determines whether or a not a text input is valid based on the pattern specified in the attribute. If no matching pattern is found, returns true.\r\n   * @param {Object} $el - jQuery object to validate, should be a text input HTML element\r\n   * @param {String} pattern - string value of one of the RegEx patterns in Abide.options.patterns\r\n   * @returns {Boolean} Boolean value depends on whether or not the input value matches the pattern specified\r\n   */\r\n  validateText($el, pattern) {\r\n    // A pattern can be passed to this function, or it will be infered from the input's \"pattern\" attribute, or it's \"type\" attribute\r\n    pattern = (pattern || $el.attr('pattern') || $el.attr('type'));\r\n    var inputText = $el.val();\r\n    var valid = false;\r\n\r\n    if (inputText.length) {\r\n      // If the pattern attribute on the element is in Abide's list of patterns, then test that regexp\r\n      if (this.options.patterns.hasOwnProperty(pattern)) {\r\n        valid = this.options.patterns[pattern].test(inputText);\r\n      }\r\n      // If the pattern name isn't also the type attribute of the field, then test it as a regexp\r\n      else if (pattern !== $el.attr('type')) {\r\n        valid = new RegExp(pattern).test(inputText);\r\n      }\r\n      else {\r\n        valid = true;\r\n      }\r\n    }\r\n    // An empty field is valid if it's not required\r\n    else if (!$el.prop('required')) {\r\n      valid = true;\r\n    }\r\n\r\n    return valid;\r\n   }\r\n\r\n  /**\r\n   * Determines whether or a not a radio input is valid based on whether or not it is required and selected. Although the function targets a single `<input>`, it validates by checking the `required` and `checked` properties of all radio buttons in its group.\r\n   * @param {String} groupName - A string that specifies the name of a radio button group\r\n   * @returns {Boolean} Boolean value depends on whether or not at least one radio input has been selected (if it's required)\r\n   */\r\n  validateRadio(groupName) {\r\n    // If at least one radio in the group has the `required` attribute, the group is considered required\r\n    // Per W3C spec, all radio buttons in a group should have `required`, but we're being nice\r\n    var $group = this.$element.find(`:radio[name=\"${groupName}\"]`);\r\n    var valid = false, required = false;\r\n\r\n    // For the group to be required, at least one radio needs to be required\r\n    $group.each((i, e) => {\r\n      if ($(e).attr('required')) {\r\n        required = true;\r\n      }\r\n    });\r\n    if(!required) valid=true;\r\n\r\n    if (!valid) {\r\n      // For the group to be valid, at least one radio needs to be checked\r\n      $group.each((i, e) => {\r\n        if ($(e).prop('checked')) {\r\n          valid = true;\r\n        }\r\n      });\r\n    };\r\n\r\n    return valid;\r\n  }\r\n\r\n  /**\r\n   * Determines if a selected input passes a custom validation function. Multiple validations can be used, if passed to the element with `data-validator=\"foo bar baz\"` in a space separated listed.\r\n   * @param {Object} $el - jQuery input element.\r\n   * @param {String} validators - a string of function names matching functions in the Abide.options.validators object.\r\n   * @param {Boolean} required - self explanatory?\r\n   * @returns {Boolean} - true if validations passed.\r\n   */\r\n  matchValidation($el, validators, required) {\r\n    required = required ? true : false;\r\n\r\n    var clear = validators.split(' ').map((v) => {\r\n      return this.options.validators[v]($el, required, $el.parent());\r\n    });\r\n    return clear.indexOf(false) === -1;\r\n  }\r\n\r\n  /**\r\n   * Resets form inputs and styles\r\n   * @fires Abide#formreset\r\n   */\r\n  resetForm() {\r\n    var $form = this.$element,\r\n        opts = this.options;\r\n\r\n    $(`.${opts.labelErrorClass}`, $form).not('small').removeClass(opts.labelErrorClass);\r\n    $(`.${opts.inputErrorClass}`, $form).not('small').removeClass(opts.inputErrorClass);\r\n    $(`${opts.formErrorSelector}.${opts.formErrorClass}`).removeClass(opts.formErrorClass);\r\n    $form.find('[data-abide-error]').css('display', 'none');\r\n    $(':input', $form).not(':button, :submit, :reset, :hidden, :radio, :checkbox, [data-abide-ignore]').val('').removeAttr('data-invalid');\r\n    $(':input:radio', $form).not('[data-abide-ignore]').prop('checked',false).removeAttr('data-invalid');\r\n    $(':input:checkbox', $form).not('[data-abide-ignore]').prop('checked',false).removeAttr('data-invalid');\r\n    /**\r\n     * Fires when the form has been reset.\r\n     * @event Abide#formreset\r\n     */\r\n    $form.trigger('formreset.zf.abide', [$form]);\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of Abide.\r\n   * Removes error styles and classes from elements, without resetting their values.\r\n   */\r\n  destroy() {\r\n    var _this = this;\r\n    this.$element\r\n      .off('.abide')\r\n      .find('[data-abide-error]')\r\n        .css('display', 'none');\r\n\r\n    this.$inputs\r\n      .off('.abide')\r\n      .each(function() {\r\n        _this.removeErrorClasses($(this));\r\n      });\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\n/**\r\n * Default settings for plugin\r\n */\r\nAbide.defaults = {\r\n  /**\r\n   * The default event to validate inputs. Checkboxes and radios validate immediately.\r\n   * Remove or change this value for manual validation.\r\n   * @option\r\n   * @example 'fieldChange'\r\n   */\r\n  validateOn: 'fieldChange',\r\n\r\n  /**\r\n   * Class to be applied to input labels on failed validation.\r\n   * @option\r\n   * @example 'is-invalid-label'\r\n   */\r\n  labelErrorClass: 'is-invalid-label',\r\n\r\n  /**\r\n   * Class to be applied to inputs on failed validation.\r\n   * @option\r\n   * @example 'is-invalid-input'\r\n   */\r\n  inputErrorClass: 'is-invalid-input',\r\n\r\n  /**\r\n   * Class selector to use to target Form Errors for show/hide.\r\n   * @option\r\n   * @example '.form-error'\r\n   */\r\n  formErrorSelector: '.form-error',\r\n\r\n  /**\r\n   * Class added to Form Errors on failed validation.\r\n   * @option\r\n   * @example 'is-visible'\r\n   */\r\n  formErrorClass: 'is-visible',\r\n\r\n  /**\r\n   * Set to true to validate text inputs on any value change.\r\n   * @option\r\n   * @example false\r\n   */\r\n  liveValidate: false,\r\n\r\n  patterns: {\r\n    alpha : /^[a-zA-Z]+$/,\r\n    alpha_numeric : /^[a-zA-Z0-9]+$/,\r\n    integer : /^[-+]?\\d+$/,\r\n    number : /^[-+]?\\d*(?:[\\.\\,]\\d+)?$/,\r\n\r\n    // amex, visa, diners\r\n    card : /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$/,\r\n    cvv : /^([0-9]){3,4}$/,\r\n\r\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#valid-e-mail-address\r\n    email : /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,\r\n\r\n    url : /^(https?|ftp|file|ssh):\\/\\/(((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-zA-Z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-zA-Z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-zA-Z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/,\r\n    // abc.de\r\n    domain : /^([a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,8}$/,\r\n\r\n    datetime : /^([0-2][0-9]{3})\\-([0-1][0-9])\\-([0-3][0-9])T([0-5][0-9])\\:([0-5][0-9])\\:([0-5][0-9])(Z|([\\-\\+]([0-1][0-9])\\:00))$/,\r\n    // YYYY-MM-DD\r\n    date : /(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,\r\n    // HH:MM:SS\r\n    time : /^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,\r\n    dateISO : /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/,\r\n    // MM/DD/YYYY\r\n    month_day_year : /^(0[1-9]|1[012])[- \\/.](0[1-9]|[12][0-9]|3[01])[- \\/.]\\d{4}$/,\r\n    // DD/MM/YYYY\r\n    day_month_year : /^(0[1-9]|[12][0-9]|3[01])[- \\/.](0[1-9]|1[012])[- \\/.]\\d{4}$/,\r\n\r\n    // #FFF or #FFFFFF\r\n    color : /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/\r\n  },\r\n\r\n  /**\r\n   * Optional validation functions to be used. `equalTo` being the only default included function.\r\n   * Functions should return only a boolean if the input is valid or not. Functions are given the following arguments:\r\n   * el : The jQuery element to validate.\r\n   * required : Boolean value of the required attribute be present or not.\r\n   * parent : The direct parent of the input.\r\n   * @option\r\n   */\r\n  validators: {\r\n    equalTo: function (el, required, parent) {\r\n      return $(`#${el.attr('data-equalto')}`).val() === el.val();\r\n    }\r\n  }\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(Abide, 'Abide');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Accordion module.\r\n * @module foundation.accordion\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.motion\r\n */\r\n\r\nclass Accordion {\r\n  /**\r\n   * Creates a new instance of an accordion.\r\n   * @class\r\n   * @fires Accordion#init\r\n   * @param {jQuery} element - jQuery object to make into an accordion.\r\n   * @param {Object} options - a plain object with settings to override the default options.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Accordion');\r\n    Foundation.Keyboard.register('Accordion', {\r\n      'ENTER': 'toggle',\r\n      'SPACE': 'toggle',\r\n      'ARROW_DOWN': 'next',\r\n      'ARROW_UP': 'previous'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes the accordion by animating the preset active pane(s).\r\n   * @private\r\n   */\r\n  _init() {\r\n    this.$element.attr('role', 'tablist');\r\n    this.$tabs = this.$element.children('li, [data-accordion-item]');\r\n\r\n    this.$tabs.each(function(idx, el) {\r\n      var $el = $(el),\r\n          $content = $el.children('[data-tab-content]'),\r\n          id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\r\n          linkId = el.id || `${id}-label`;\r\n\r\n      $el.find('a:first').attr({\r\n        'aria-controls': id,\r\n        'role': 'tab',\r\n        'id': linkId,\r\n        'aria-expanded': false,\r\n        'aria-selected': false\r\n      });\r\n\r\n      $content.attr({'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id});\r\n    });\r\n    var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\r\n    if($initActive.length){\r\n      this.down($initActive, true);\r\n    }\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers for items within the accordion.\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n\r\n    this.$tabs.each(function() {\r\n      var $elem = $(this);\r\n      var $tabContent = $elem.children('[data-tab-content]');\r\n      if ($tabContent.length) {\r\n        $elem.children('a').off('click.zf.accordion keydown.zf.accordion')\r\n               .on('click.zf.accordion', function(e) {\r\n          e.preventDefault();\r\n          _this.toggle($tabContent);\r\n        }).on('keydown.zf.accordion', function(e){\r\n          Foundation.Keyboard.handleKey(e, 'Accordion', {\r\n            toggle: function() {\r\n              _this.toggle($tabContent);\r\n            },\r\n            next: function() {\r\n              var $a = $elem.next().find('a').focus();\r\n              if (!_this.options.multiExpand) {\r\n                $a.trigger('click.zf.accordion')\r\n              }\r\n            },\r\n            previous: function() {\r\n              var $a = $elem.prev().find('a').focus();\r\n              if (!_this.options.multiExpand) {\r\n                $a.trigger('click.zf.accordion')\r\n              }\r\n            },\r\n            handled: function() {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n            }\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Toggles the selected content pane's open/close state.\r\n   * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\r\n   * @function\r\n   */\r\n  toggle($target) {\r\n    if($target.parent().hasClass('is-active')) {\r\n      this.up($target);\r\n    } else {\r\n      this.down($target);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Opens the accordion tab defined by `$target`.\r\n   * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\r\n   * @param {Boolean} firstTime - flag to determine if reflow should happen.\r\n   * @fires Accordion#down\r\n   * @function\r\n   */\r\n  down($target, firstTime) {\r\n    $target\r\n      .attr('aria-hidden', false)\r\n      .parent('[data-tab-content]')\r\n      .addBack()\r\n      .parent().addClass('is-active');\r\n\r\n    if (!this.options.multiExpand && !firstTime) {\r\n      var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\r\n      if ($currentActive.length) {\r\n        this.up($currentActive.not($target));\r\n      }\r\n    }\r\n\r\n    $target.slideDown(this.options.slideSpeed, () => {\r\n      /**\r\n       * Fires when the tab is done opening.\r\n       * @event Accordion#down\r\n       */\r\n      this.$element.trigger('down.zf.accordion', [$target]);\r\n    });\r\n\r\n    $(`#${$target.attr('aria-labelledby')}`).attr({\r\n      'aria-expanded': true,\r\n      'aria-selected': true\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Closes the tab defined by `$target`.\r\n   * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\r\n   * @fires Accordion#up\r\n   * @function\r\n   */\r\n  up($target) {\r\n    var $aunts = $target.parent().siblings(),\r\n        _this = this;\r\n\r\n    if((!this.options.allowAllClosed && !$aunts.hasClass('is-active')) || !$target.parent().hasClass('is-active')) {\r\n      return;\r\n    }\r\n\r\n    // Foundation.Move(this.options.slideSpeed, $target, function(){\r\n      $target.slideUp(_this.options.slideSpeed, function () {\r\n        /**\r\n         * Fires when the tab is done collapsing up.\r\n         * @event Accordion#up\r\n         */\r\n        _this.$element.trigger('up.zf.accordion', [$target]);\r\n      });\r\n    // });\r\n\r\n    $target.attr('aria-hidden', true)\r\n           .parent().removeClass('is-active');\r\n\r\n    $(`#${$target.attr('aria-labelledby')}`).attr({\r\n     'aria-expanded': false,\r\n     'aria-selected': false\r\n   });\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of an accordion.\r\n   * @fires Accordion#destroyed\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\r\n    this.$element.find('a').off('.zf.accordion');\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nAccordion.defaults = {\r\n  /**\r\n   * Amount of time to animate the opening of an accordion pane.\r\n   * @option\r\n   * @example 250\r\n   */\r\n  slideSpeed: 250,\r\n  /**\r\n   * Allow the accordion to have multiple open panes.\r\n   * @option\r\n   * @example false\r\n   */\r\n  multiExpand: false,\r\n  /**\r\n   * Allow the accordion to close all panes.\r\n   * @option\r\n   * @example false\r\n   */\r\n  allowAllClosed: false\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Accordion, 'Accordion');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * AccordionMenu module.\r\n * @module foundation.accordionMenu\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.motion\r\n * @requires foundation.util.nest\r\n */\r\n\r\nclass AccordionMenu {\r\n  /**\r\n   * Creates a new instance of an accordion menu.\r\n   * @class\r\n   * @fires AccordionMenu#init\r\n   * @param {jQuery} element - jQuery object to make into an accordion menu.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, AccordionMenu.defaults, this.$element.data(), options);\r\n\r\n    Foundation.Nest.Feather(this.$element, 'accordion');\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'AccordionMenu');\r\n    Foundation.Keyboard.register('AccordionMenu', {\r\n      'ENTER': 'toggle',\r\n      'SPACE': 'toggle',\r\n      'ARROW_RIGHT': 'open',\r\n      'ARROW_UP': 'up',\r\n      'ARROW_DOWN': 'down',\r\n      'ARROW_LEFT': 'close',\r\n      'ESCAPE': 'closeAll'\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Initializes the accordion menu by hiding all nested menus.\r\n   * @private\r\n   */\r\n  _init() {\r\n    this.$element.find('[data-submenu]').not('.is-active').slideUp(0);//.find('a').css('padding-left', '1rem');\r\n    this.$element.attr({\r\n      'role': 'menu',\r\n      'aria-multiselectable': this.options.multiOpen\r\n    });\r\n\r\n    this.$menuLinks = this.$element.find('.is-accordion-submenu-parent');\r\n    this.$menuLinks.each(function(){\r\n      var linkId = this.id || Foundation.GetYoDigits(6, 'acc-menu-link'),\r\n          $elem = $(this),\r\n          $sub = $elem.children('[data-submenu]'),\r\n          subId = $sub[0].id || Foundation.GetYoDigits(6, 'acc-menu'),\r\n          isActive = $sub.hasClass('is-active');\r\n      $elem.attr({\r\n        'aria-controls': subId,\r\n        'aria-expanded': isActive,\r\n        'role': 'menuitem',\r\n        'id': linkId\r\n      });\r\n      $sub.attr({\r\n        'aria-labelledby': linkId,\r\n        'aria-hidden': !isActive,\r\n        'role': 'menu',\r\n        'id': subId\r\n      });\r\n    });\r\n    var initPanes = this.$element.find('.is-active');\r\n    if(initPanes.length){\r\n      var _this = this;\r\n      initPanes.each(function(){\r\n        _this.down($(this));\r\n      });\r\n    }\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers for items within the menu.\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n\r\n    this.$element.find('li').each(function() {\r\n      var $submenu = $(this).children('[data-submenu]');\r\n\r\n      if ($submenu.length) {\r\n        $(this).children('a').off('click.zf.accordionMenu').on('click.zf.accordionMenu', function(e) {\r\n          e.preventDefault();\r\n\r\n          _this.toggle($submenu);\r\n        });\r\n      }\r\n    }).on('keydown.zf.accordionmenu', function(e){\r\n      var $element = $(this),\r\n          $elements = $element.parent('ul').children('li'),\r\n          $prevElement,\r\n          $nextElement,\r\n          $target = $element.children('[data-submenu]');\r\n\r\n      $elements.each(function(i) {\r\n        if ($(this).is($element)) {\r\n          $prevElement = $elements.eq(Math.max(0, i-1)).find('a').first();\r\n          $nextElement = $elements.eq(Math.min(i+1, $elements.length-1)).find('a').first();\r\n\r\n          if ($(this).children('[data-submenu]:visible').length) { // has open sub menu\r\n            $nextElement = $element.find('li:first-child').find('a').first();\r\n          }\r\n          if ($(this).is(':first-child')) { // is first element of sub menu\r\n            $prevElement = $element.parents('li').first().find('a').first();\r\n          } else if ($prevElement.parents('li').first().children('[data-submenu]:visible').length) { // if previous element has open sub menu\r\n            $prevElement = $prevElement.parents('li').find('li:last-child').find('a').first();\r\n          }\r\n          if ($(this).is(':last-child')) { // is last element of sub menu\r\n            $nextElement = $element.parents('li').first().next('li').find('a').first();\r\n          }\r\n\r\n          return;\r\n        }\r\n      });\r\n\r\n      Foundation.Keyboard.handleKey(e, 'AccordionMenu', {\r\n        open: function() {\r\n          if ($target.is(':hidden')) {\r\n            _this.down($target);\r\n            $target.find('li').first().find('a').first().focus();\r\n          }\r\n        },\r\n        close: function() {\r\n          if ($target.length && !$target.is(':hidden')) { // close active sub of this item\r\n            _this.up($target);\r\n          } else if ($element.parent('[data-submenu]').length) { // close currently open sub\r\n            _this.up($element.parent('[data-submenu]'));\r\n            $element.parents('li').first().find('a').first().focus();\r\n          }\r\n        },\r\n        up: function() {\r\n          $prevElement.focus();\r\n          return true;\r\n        },\r\n        down: function() {\r\n          $nextElement.focus();\r\n          return true;\r\n        },\r\n        toggle: function() {\r\n          if ($element.children('[data-submenu]').length) {\r\n            _this.toggle($element.children('[data-submenu]'));\r\n          }\r\n        },\r\n        closeAll: function() {\r\n          _this.hideAll();\r\n        },\r\n        handled: function(preventDefault) {\r\n          if (preventDefault) {\r\n            e.preventDefault();\r\n          }\r\n          e.stopImmediatePropagation();\r\n        }\r\n      });\r\n    });//.attr('tabindex', 0);\r\n  }\r\n\r\n  /**\r\n   * Closes all panes of the menu.\r\n   * @function\r\n   */\r\n  hideAll() {\r\n    this.$element.find('[data-submenu]').slideUp(this.options.slideSpeed);\r\n  }\r\n\r\n  /**\r\n   * Toggles the open/close state of a submenu.\r\n   * @function\r\n   * @param {jQuery} $target - the submenu to toggle\r\n   */\r\n  toggle($target){\r\n    if(!$target.is(':animated')) {\r\n      if (!$target.is(':hidden')) {\r\n        this.up($target);\r\n      }\r\n      else {\r\n        this.down($target);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Opens the sub-menu defined by `$target`.\r\n   * @param {jQuery} $target - Sub-menu to open.\r\n   * @fires AccordionMenu#down\r\n   */\r\n  down($target) {\r\n    var _this = this;\r\n\r\n    if(!this.options.multiOpen) {\r\n      this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));\r\n    }\r\n\r\n    $target.addClass('is-active').attr({'aria-hidden': false})\r\n      .parent('.is-accordion-submenu-parent').attr({'aria-expanded': true});\r\n\r\n      //Foundation.Move(this.options.slideSpeed, $target, function() {\r\n        $target.slideDown(_this.options.slideSpeed, function () {\r\n          /**\r\n           * Fires when the menu is done opening.\r\n           * @event AccordionMenu#down\r\n           */\r\n          _this.$element.trigger('down.zf.accordionMenu', [$target]);\r\n        });\r\n      //});\r\n  }\r\n\r\n  /**\r\n   * Closes the sub-menu defined by `$target`. All sub-menus inside the target will be closed as well.\r\n   * @param {jQuery} $target - Sub-menu to close.\r\n   * @fires AccordionMenu#up\r\n   */\r\n  up($target) {\r\n    var _this = this;\r\n    //Foundation.Move(this.options.slideSpeed, $target, function(){\r\n      $target.slideUp(_this.options.slideSpeed, function () {\r\n        /**\r\n         * Fires when the menu is done collapsing up.\r\n         * @event AccordionMenu#up\r\n         */\r\n        _this.$element.trigger('up.zf.accordionMenu', [$target]);\r\n      });\r\n    //});\r\n\r\n    var $menus = $target.find('[data-submenu]').slideUp(0).addBack().attr('aria-hidden', true);\r\n\r\n    $menus.parent('.is-accordion-submenu-parent').attr('aria-expanded', false);\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of accordion menu.\r\n   * @fires AccordionMenu#destroyed\r\n   */\r\n  destroy() {\r\n    this.$element.find('[data-submenu]').slideDown(0).css('display', '');\r\n    this.$element.find('a').off('click.zf.accordionMenu');\r\n\r\n    Foundation.Nest.Burn(this.$element, 'accordion');\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nAccordionMenu.defaults = {\r\n  /**\r\n   * Amount of time to animate the opening of a submenu in ms.\r\n   * @option\r\n   * @example 250\r\n   */\r\n  slideSpeed: 250,\r\n  /**\r\n   * Allow the menu to have multiple open panes.\r\n   * @option\r\n   * @example true\r\n   */\r\n  multiOpen: true\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(AccordionMenu, 'AccordionMenu');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Drilldown module.\r\n * @module foundation.drilldown\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.motion\r\n * @requires foundation.util.nest\r\n */\r\n\r\nclass Drilldown {\r\n  /**\r\n   * Creates a new instance of a drilldown menu.\r\n   * @class\r\n   * @param {jQuery} element - jQuery object to make into an accordion menu.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\r\n\r\n    Foundation.Nest.Feather(this.$element, 'drilldown');\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Drilldown');\r\n    Foundation.Keyboard.register('Drilldown', {\r\n      'ENTER': 'open',\r\n      'SPACE': 'open',\r\n      'ARROW_RIGHT': 'next',\r\n      'ARROW_UP': 'up',\r\n      'ARROW_DOWN': 'down',\r\n      'ARROW_LEFT': 'previous',\r\n      'ESCAPE': 'close',\r\n      'TAB': 'down',\r\n      'SHIFT_TAB': 'up'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes the drilldown by creating jQuery collections of elements\r\n   * @private\r\n   */\r\n  _init() {\r\n    this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\r\n    this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');\r\n    this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');\r\n\r\n    this._prepareMenu();\r\n\r\n    this._keyboardEvents();\r\n  }\r\n\r\n  /**\r\n   * prepares drilldown menu by setting attributes to links and elements\r\n   * sets a min height to prevent content jumping\r\n   * wraps the element if not already wrapped\r\n   * @private\r\n   * @function\r\n   */\r\n  _prepareMenu() {\r\n    var _this = this;\r\n    // if(!this.options.holdOpen){\r\n    //   this._menuLinkEvents();\r\n    // }\r\n    this.$submenuAnchors.each(function(){\r\n      var $link = $(this);\r\n      var $sub = $link.parent();\r\n      if(_this.options.parentLink){\r\n        $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menu-item\"></li>');\r\n      }\r\n      $link.data('savedHref', $link.attr('href')).removeAttr('href').attr('tabindex', 0);\r\n      $link.children('[data-submenu]')\r\n          .attr({\r\n            'aria-hidden': true,\r\n            'tabindex': 0,\r\n            'role': 'menu'\r\n          });\r\n      _this._events($link);\r\n    });\r\n    this.$submenus.each(function(){\r\n      var $menu = $(this),\r\n          $back = $menu.find('.js-drilldown-back');\r\n      if(!$back.length){\r\n        $menu.prepend(_this.options.backButton);\r\n      }\r\n      _this._back($menu);\r\n    });\r\n    if(!this.$element.parent().hasClass('is-drilldown')){\r\n      this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');\r\n      this.$wrapper = this.$element.wrap(this.$wrapper).parent().css(this._getMaxDims());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers to elements in the menu.\r\n   * @function\r\n   * @private\r\n   * @param {jQuery} $elem - the current menu item to add handlers to.\r\n   */\r\n  _events($elem) {\r\n    var _this = this;\r\n\r\n    $elem.off('click.zf.drilldown')\r\n    .on('click.zf.drilldown', function(e){\r\n      if($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')){\r\n        e.stopImmediatePropagation();\r\n        e.preventDefault();\r\n      }\r\n\r\n      // if(e.target !== e.currentTarget.firstElementChild){\r\n      //   return false;\r\n      // }\r\n      _this._show($elem.parent('li'));\r\n\r\n      if(_this.options.closeOnClick){\r\n        var $body = $('body');\r\n        $body.off('.zf.drilldown').on('click.zf.drilldown', function(e){\r\n          if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) { return; }\r\n          e.preventDefault();\r\n          _this._hideAll();\r\n          $body.off('.zf.drilldown');\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Adds keydown event listener to `li`'s in the menu.\r\n   * @private\r\n   */\r\n  _keyboardEvents() {\r\n    var _this = this;\r\n\r\n    this.$menuItems.add(this.$element.find('.js-drilldown-back > a')).on('keydown.zf.drilldown', function(e){\r\n\r\n      var $element = $(this),\r\n          $elements = $element.parent('li').parent('ul').children('li').children('a'),\r\n          $prevElement,\r\n          $nextElement;\r\n\r\n      $elements.each(function(i) {\r\n        if ($(this).is($element)) {\r\n          $prevElement = $elements.eq(Math.max(0, i-1));\r\n          $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\r\n          return;\r\n        }\r\n      });\r\n\r\n      Foundation.Keyboard.handleKey(e, 'Drilldown', {\r\n        next: function() {\r\n          if ($element.is(_this.$submenuAnchors)) {\r\n            _this._show($element.parent('li'));\r\n            $element.parent('li').one(Foundation.transitionend($element), function(){\r\n              $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\r\n            });\r\n            return true;\r\n          }\r\n        },\r\n        previous: function() {\r\n          _this._hide($element.parent('li').parent('ul'));\r\n          $element.parent('li').parent('ul').one(Foundation.transitionend($element), function(){\r\n            setTimeout(function() {\r\n              $element.parent('li').parent('ul').parent('li').children('a').first().focus();\r\n            }, 1);\r\n          });\r\n          return true;\r\n        },\r\n        up: function() {\r\n          $prevElement.focus();\r\n          return true;\r\n        },\r\n        down: function() {\r\n          $nextElement.focus();\r\n          return true;\r\n        },\r\n        close: function() {\r\n          _this._back();\r\n          //_this.$menuItems.first().focus(); // focus to first element\r\n        },\r\n        open: function() {\r\n          if (!$element.is(_this.$menuItems)) { // not menu item means back button\r\n            _this._hide($element.parent('li').parent('ul'));\r\n            $element.parent('li').parent('ul').one(Foundation.transitionend($element), function(){\r\n              setTimeout(function() {\r\n                $element.parent('li').parent('ul').parent('li').children('a').first().focus();\r\n              }, 1);\r\n            });\r\n            return true;            \r\n          } else if ($element.is(_this.$submenuAnchors)) {\r\n            _this._show($element.parent('li'));\r\n            $element.parent('li').one(Foundation.transitionend($element), function(){\r\n              $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\r\n            });\r\n            return true;\r\n          }\r\n        },\r\n        handled: function(preventDefault) {\r\n          if (preventDefault) {\r\n            e.preventDefault();\r\n          }\r\n          e.stopImmediatePropagation();\r\n        }\r\n      });\r\n    }); // end keyboardAccess\r\n  }\r\n\r\n  /**\r\n   * Closes all open elements, and returns to root menu.\r\n   * @function\r\n   * @fires Drilldown#closed\r\n   */\r\n  _hideAll() {\r\n    var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\r\n    $elem.one(Foundation.transitionend($elem), function(e){\r\n      $elem.removeClass('is-active is-closing');\r\n    });\r\n        /**\r\n         * Fires when the menu is fully closed.\r\n         * @event Drilldown#closed\r\n         */\r\n    this.$element.trigger('closed.zf.drilldown');\r\n  }\r\n\r\n  /**\r\n   * Adds event listener for each `back` button, and closes open menus.\r\n   * @function\r\n   * @fires Drilldown#back\r\n   * @param {jQuery} $elem - the current sub-menu to add `back` event.\r\n   */\r\n  _back($elem) {\r\n    var _this = this;\r\n    $elem.off('click.zf.drilldown');\r\n    $elem.children('.js-drilldown-back')\r\n      .on('click.zf.drilldown', function(e){\r\n        e.stopImmediatePropagation();\r\n        // console.log('mouseup on back');\r\n        _this._hide($elem);\r\n\r\n        // If there is a parent submenu, call show\r\n        let parentSubMenu = $elem.parent('li').parent('ul').parent('li');\r\n        if (parentSubMenu.length) { \r\n          _this._show(parentSubMenu);\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Adds event listener to menu items w/o submenus to close open menus on click.\r\n   * @function\r\n   * @private\r\n   */\r\n  _menuLinkEvents() {\r\n    var _this = this;\r\n    this.$menuItems.not('.is-drilldown-submenu-parent')\r\n        .off('click.zf.drilldown')\r\n        .on('click.zf.drilldown', function(e){\r\n          // e.stopImmediatePropagation();\r\n          setTimeout(function(){\r\n            _this._hideAll();\r\n          }, 0);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Opens a submenu.\r\n   * @function\r\n   * @fires Drilldown#open\r\n   * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\r\n   */\r\n  _show($elem) {\r\n    $elem.attr('aria-expanded', true);\r\n    $elem.children('[data-submenu]').addClass('is-active').attr('aria-hidden', false);\r\n    /**\r\n     * Fires when the submenu has opened.\r\n     * @event Drilldown#open\r\n     */\r\n    this.$element.trigger('open.zf.drilldown', [$elem]);\r\n  };\r\n\r\n  /**\r\n   * Hides a submenu\r\n   * @function\r\n   * @fires Drilldown#hide\r\n   * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\r\n   */\r\n  _hide($elem) {\r\n    var _this = this;\r\n    $elem.parent('li').attr('aria-expanded', false);\r\n    $elem.attr('aria-hidden', true).addClass('is-closing')\r\n         .one(Foundation.transitionend($elem), function(){\r\n           $elem.removeClass('is-active is-closing');\r\n           $elem.blur();\r\n         });\r\n    /**\r\n     * Fires when the submenu has closed.\r\n     * @event Drilldown#hide\r\n     */\r\n    $elem.trigger('hide.zf.drilldown', [$elem]);\r\n  }\r\n\r\n  /**\r\n   * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\r\n   * Prevents content jumping.\r\n   * @function\r\n   * @private\r\n   */\r\n  _getMaxDims() {\r\n    var biggest = 0\r\n    var result = {};\r\n\r\n    this.$submenus.add(this.$element).each((i, elem) => {\r\n      var height = elem.getBoundingClientRect().height;\r\n      if (height > biggest) biggest = height;\r\n    });\r\n\r\n    result['min-height'] = `${biggest}px`;\r\n    result['max-width'] = `${this.$element[0].getBoundingClientRect().width}px`;\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Destroys the Drilldown Menu\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this._hideAll();\r\n    Foundation.Nest.Burn(this.$element, 'drilldown');\r\n    this.$element.unwrap()\r\n                 .find('.js-drilldown-back, .is-submenu-parent-item').remove()\r\n                 .end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu')\r\n                 .end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\r\n    this.$submenuAnchors.each(function() {\r\n      $(this).off('.zf.drilldown');\r\n    });\r\n    this.$element.find('a').each(function(){\r\n      var $link = $(this);\r\n      $link.removeAttr('tabindex');\r\n      if($link.data('savedHref')){\r\n        $link.attr('href', $link.data('savedHref')).removeData('savedHref');\r\n      }else{ return; }\r\n    });\r\n    Foundation.unregisterPlugin(this);\r\n  };\r\n}\r\n\r\nDrilldown.defaults = {\r\n  /**\r\n   * Markup used for JS generated back button. Prepended to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\r\n   * @option\r\n   * @example '<\\li><\\a>Back<\\/a><\\/li>'\r\n   */\r\n  backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\r\n  /**\r\n   * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\r\n   * @option\r\n   * @example '<\\div class=\"is-drilldown\"><\\/div>'\r\n   */\r\n  wrapper: '<div></div>',\r\n  /**\r\n   * Adds the parent link to the submenu.\r\n   * @option\r\n   * @example false\r\n   */\r\n  parentLink: false,\r\n  /**\r\n   * Allow the menu to return to root list on body click.\r\n   * @option\r\n   * @example false\r\n   */\r\n  closeOnClick: false\r\n  // holdOpen: false\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Drilldown, 'Drilldown');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Dropdown module.\r\n * @module foundation.dropdown\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.box\r\n * @requires foundation.util.triggers\r\n */\r\n\r\nclass Dropdown {\r\n  /**\r\n   * Creates a new instance of a dropdown.\r\n   * @class\r\n   * @param {jQuery} element - jQuery object to make into a dropdown.\r\n   *        Object should be of the dropdown panel, rather than its anchor.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Dropdown.defaults, this.$element.data(), options);\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Dropdown');\r\n    Foundation.Keyboard.register('Dropdown', {\r\n      'ENTER': 'open',\r\n      'SPACE': 'open',\r\n      'ESCAPE': 'close',\r\n      'TAB': 'tab_forward',\r\n      'SHIFT_TAB': 'tab_backward'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes the plugin by setting/checking options and attributes, adding helper variables, and saving the anchor.\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    var $id = this.$element.attr('id');\r\n\r\n    this.$anchor = $(`[data-toggle=\"${$id}\"]`).length ? $(`[data-toggle=\"${$id}\"]`) : $(`[data-open=\"${$id}\"]`);\r\n    this.$anchor.attr({\r\n      'aria-controls': $id,\r\n      'data-is-focus': false,\r\n      'data-yeti-box': $id,\r\n      'aria-haspopup': true,\r\n      'aria-expanded': false\r\n\r\n    });\r\n\r\n    this.options.positionClass = this.getPositionClass();\r\n    this.counter = 4;\r\n    this.usedPositions = [];\r\n    this.$element.attr({\r\n      'aria-hidden': 'true',\r\n      'data-yeti-box': $id,\r\n      'data-resize': $id,\r\n      'aria-labelledby': this.$anchor[0].id || Foundation.GetYoDigits(6, 'dd-anchor')\r\n    });\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Helper function to determine current orientation of dropdown pane.\r\n   * @function\r\n   * @returns {String} position - string value of a position class.\r\n   */\r\n  getPositionClass() {\r\n    var verticalPosition = this.$element[0].className.match(/(top|left|right|bottom)/g);\r\n        verticalPosition = verticalPosition ? verticalPosition[0] : '';\r\n    var horizontalPosition = /float-(\\S+)/.exec(this.$anchor[0].className);\r\n        horizontalPosition = horizontalPosition ? horizontalPosition[1] : '';\r\n    var position = horizontalPosition ? horizontalPosition + ' ' + verticalPosition : verticalPosition;\r\n\r\n    return position;\r\n  }\r\n\r\n  /**\r\n   * Adjusts the dropdown panes orientation by adding/removing positioning classes.\r\n   * @function\r\n   * @private\r\n   * @param {String} position - position class to remove.\r\n   */\r\n  _reposition(position) {\r\n    this.usedPositions.push(position ? position : 'bottom');\r\n    //default, try switching to opposite side\r\n    if(!position && (this.usedPositions.indexOf('top') < 0)){\r\n      this.$element.addClass('top');\r\n    }else if(position === 'top' && (this.usedPositions.indexOf('bottom') < 0)){\r\n      this.$element.removeClass(position);\r\n    }else if(position === 'left' && (this.usedPositions.indexOf('right') < 0)){\r\n      this.$element.removeClass(position)\r\n          .addClass('right');\r\n    }else if(position === 'right' && (this.usedPositions.indexOf('left') < 0)){\r\n      this.$element.removeClass(position)\r\n          .addClass('left');\r\n    }\r\n\r\n    //if default change didn't work, try bottom or left first\r\n    else if(!position && (this.usedPositions.indexOf('top') > -1) && (this.usedPositions.indexOf('left') < 0)){\r\n      this.$element.addClass('left');\r\n    }else if(position === 'top' && (this.usedPositions.indexOf('bottom') > -1) && (this.usedPositions.indexOf('left') < 0)){\r\n      this.$element.removeClass(position)\r\n          .addClass('left');\r\n    }else if(position === 'left' && (this.usedPositions.indexOf('right') > -1) && (this.usedPositions.indexOf('bottom') < 0)){\r\n      this.$element.removeClass(position);\r\n    }else if(position === 'right' && (this.usedPositions.indexOf('left') > -1) && (this.usedPositions.indexOf('bottom') < 0)){\r\n      this.$element.removeClass(position);\r\n    }\r\n    //if nothing cleared, set to bottom\r\n    else{\r\n      this.$element.removeClass(position);\r\n    }\r\n    this.classChanged = true;\r\n    this.counter--;\r\n  }\r\n\r\n  /**\r\n   * Sets the position and orientation of the dropdown pane, checks for collisions.\r\n   * Recursively calls itself if a collision is detected, with a new position class.\r\n   * @function\r\n   * @private\r\n   */\r\n  _setPosition() {\r\n    if(this.$anchor.attr('aria-expanded') === 'false'){ return false; }\r\n    var position = this.getPositionClass(),\r\n        $eleDims = Foundation.Box.GetDimensions(this.$element),\r\n        $anchorDims = Foundation.Box.GetDimensions(this.$anchor),\r\n        _this = this,\r\n        direction = (position === 'left' ? 'left' : ((position === 'right') ? 'left' : 'top')),\r\n        param = (direction === 'top') ? 'height' : 'width',\r\n        offset = (param === 'height') ? this.options.vOffset : this.options.hOffset;\r\n\r\n\r\n\r\n    if(($eleDims.width >= $eleDims.windowDims.width) || (!this.counter && !Foundation.Box.ImNotTouchingYou(this.$element))){\r\n      this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\r\n        'width': $eleDims.windowDims.width - (this.options.hOffset * 2),\r\n        'height': 'auto'\r\n      });\r\n      this.classChanged = true;\r\n      return false;\r\n    }\r\n\r\n    this.$element.offset(Foundation.Box.GetOffsets(this.$element, this.$anchor, position, this.options.vOffset, this.options.hOffset));\r\n\r\n    while(!Foundation.Box.ImNotTouchingYou(this.$element, false, true) && this.counter){\r\n      this._reposition(position);\r\n      this._setPosition();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds event listeners to the element utilizing the triggers utility library.\r\n   * @function\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n    this.$element.on({\r\n      'open.zf.trigger': this.open.bind(this),\r\n      'close.zf.trigger': this.close.bind(this),\r\n      'toggle.zf.trigger': this.toggle.bind(this),\r\n      'resizeme.zf.trigger': this._setPosition.bind(this)\r\n    });\r\n\r\n    if(this.options.hover){\r\n      this.$anchor.off('mouseenter.zf.dropdown mouseleave.zf.dropdown')\r\n      .on('mouseenter.zf.dropdown', function(){\r\n            if($('body[data-whatinput=\"mouse\"]').is('*')) {\r\n              clearTimeout(_this.timeout);\r\n              _this.timeout = setTimeout(function(){\r\n                _this.open();\r\n                _this.$anchor.data('hover', true);\r\n              }, _this.options.hoverDelay);\r\n            }\r\n          }).on('mouseleave.zf.dropdown', function(){\r\n            clearTimeout(_this.timeout);\r\n            _this.timeout = setTimeout(function(){\r\n              _this.close();\r\n              _this.$anchor.data('hover', false);\r\n            }, _this.options.hoverDelay);\r\n          });\r\n      if(this.options.hoverPane){\r\n        this.$element.off('mouseenter.zf.dropdown mouseleave.zf.dropdown')\r\n            .on('mouseenter.zf.dropdown', function(){\r\n              clearTimeout(_this.timeout);\r\n            }).on('mouseleave.zf.dropdown', function(){\r\n              clearTimeout(_this.timeout);\r\n              _this.timeout = setTimeout(function(){\r\n                _this.close();\r\n                _this.$anchor.data('hover', false);\r\n              }, _this.options.hoverDelay);\r\n            });\r\n      }\r\n    }\r\n    this.$anchor.add(this.$element).on('keydown.zf.dropdown', function(e) {\r\n\r\n      var $target = $(this),\r\n        visibleFocusableElements = Foundation.Keyboard.findFocusable(_this.$element);\r\n\r\n      Foundation.Keyboard.handleKey(e, 'Dropdown', {\r\n        tab_forward: function() {\r\n          if (_this.$element.find(':focus').is(visibleFocusableElements.eq(-1))) { // left modal downwards, setting focus to first element\r\n            if (_this.options.trapFocus) { // if focus shall be trapped\r\n              visibleFocusableElements.eq(0).focus();\r\n              e.preventDefault();\r\n            } else { // if focus is not trapped, close dropdown on focus out\r\n              _this.close();\r\n            }\r\n          }\r\n        },\r\n        tab_backward: function() {\r\n          if (_this.$element.find(':focus').is(visibleFocusableElements.eq(0)) || _this.$element.is(':focus')) { // left modal upwards, setting focus to last element\r\n            if (_this.options.trapFocus) { // if focus shall be trapped\r\n              visibleFocusableElements.eq(-1).focus();\r\n              e.preventDefault();\r\n            } else { // if focus is not trapped, close dropdown on focus out\r\n              _this.close();\r\n            }\r\n          }\r\n        },\r\n        open: function() {\r\n          if ($target.is(_this.$anchor)) {\r\n            _this.open();\r\n            _this.$element.attr('tabindex', -1).focus();\r\n            e.preventDefault();\r\n          }\r\n        },\r\n        close: function() {\r\n          _this.close();\r\n          _this.$anchor.focus();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Adds an event handler to the body to close any dropdowns on a click.\r\n   * @function\r\n   * @private\r\n   */\r\n  _addBodyHandler() {\r\n     var $body = $(document.body).not(this.$element),\r\n         _this = this;\r\n     $body.off('click.zf.dropdown')\r\n          .on('click.zf.dropdown', function(e){\r\n            if(_this.$anchor.is(e.target) || _this.$anchor.find(e.target).length) {\r\n              return;\r\n            }\r\n            if(_this.$element.find(e.target).length) {\r\n              return;\r\n            }\r\n            _this.close();\r\n            $body.off('click.zf.dropdown');\r\n          });\r\n  }\r\n\r\n  /**\r\n   * Opens the dropdown pane, and fires a bubbling event to close other dropdowns.\r\n   * @function\r\n   * @fires Dropdown#closeme\r\n   * @fires Dropdown#show\r\n   */\r\n  open() {\r\n    // var _this = this;\r\n    /**\r\n     * Fires to close other open dropdowns\r\n     * @event Dropdown#closeme\r\n     */\r\n    this.$element.trigger('closeme.zf.dropdown', this.$element.attr('id'));\r\n    this.$anchor.addClass('hover')\r\n        .attr({'aria-expanded': true});\r\n    // this.$element/*.show()*/;\r\n    this._setPosition();\r\n    this.$element.addClass('is-open')\r\n        .attr({'aria-hidden': false});\r\n\r\n    if(this.options.autoFocus){\r\n      var $focusable = Foundation.Keyboard.findFocusable(this.$element);\r\n      if($focusable.length){\r\n        $focusable.eq(0).focus();\r\n      }\r\n    }\r\n\r\n    if(this.options.closeOnClick){ this._addBodyHandler(); }\r\n\r\n    /**\r\n     * Fires once the dropdown is visible.\r\n     * @event Dropdown#show\r\n     */\r\n    this.$element.trigger('show.zf.dropdown', [this.$element]);\r\n  }\r\n\r\n  /**\r\n   * Closes the open dropdown pane.\r\n   * @function\r\n   * @fires Dropdown#hide\r\n   */\r\n  close() {\r\n    if(!this.$element.hasClass('is-open')){\r\n      return false;\r\n    }\r\n    this.$element.removeClass('is-open')\r\n        .attr({'aria-hidden': true});\r\n\r\n    this.$anchor.removeClass('hover')\r\n        .attr('aria-expanded', false);\r\n\r\n    if(this.classChanged){\r\n      var curPositionClass = this.getPositionClass();\r\n      if(curPositionClass){\r\n        this.$element.removeClass(curPositionClass);\r\n      }\r\n      this.$element.addClass(this.options.positionClass)\r\n          /*.hide()*/.css({height: '', width: ''});\r\n      this.classChanged = false;\r\n      this.counter = 4;\r\n      this.usedPositions.length = 0;\r\n    }\r\n    this.$element.trigger('hide.zf.dropdown', [this.$element]);\r\n  }\r\n\r\n  /**\r\n   * Toggles the dropdown pane's visibility.\r\n   * @function\r\n   */\r\n  toggle() {\r\n    if(this.$element.hasClass('is-open')){\r\n      if(this.$anchor.data('hover')) return;\r\n      this.close();\r\n    }else{\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroys the dropdown.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.$element.off('.zf.trigger').hide();\r\n    this.$anchor.off('.zf.dropdown');\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nDropdown.defaults = {\r\n  /**\r\n   * Amount of time to delay opening a submenu on hover event.\r\n   * @option\r\n   * @example 250\r\n   */\r\n  hoverDelay: 250,\r\n  /**\r\n   * Allow submenus to open on hover events\r\n   * @option\r\n   * @example false\r\n   */\r\n  hover: false,\r\n  /**\r\n   * Don't close dropdown when hovering over dropdown pane\r\n   * @option\r\n   * @example true\r\n   */\r\n  hoverPane: false,\r\n  /**\r\n   * Number of pixels between the dropdown pane and the triggering element on open.\r\n   * @option\r\n   * @example 1\r\n   */\r\n  vOffset: 1,\r\n  /**\r\n   * Number of pixels between the dropdown pane and the triggering element on open.\r\n   * @option\r\n   * @example 1\r\n   */\r\n  hOffset: 1,\r\n  /**\r\n   * Class applied to adjust open position. JS will test and fill this in.\r\n   * @option\r\n   * @example 'top'\r\n   */\r\n  positionClass: '',\r\n  /**\r\n   * Allow the plugin to trap focus to the dropdown pane if opened with keyboard commands.\r\n   * @option\r\n   * @example false\r\n   */\r\n  trapFocus: false,\r\n  /**\r\n   * Allow the plugin to set focus to the first focusable element within the pane, regardless of method of opening.\r\n   * @option\r\n   * @example true\r\n   */\r\n  autoFocus: false,\r\n  /**\r\n   * Allows a click on the body to close the dropdown.\r\n   * @option\r\n   * @example false\r\n   */\r\n  closeOnClick: false\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(Dropdown, 'Dropdown');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * DropdownMenu module.\r\n * @module foundation.dropdown-menu\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.box\r\n * @requires foundation.util.nest\r\n */\r\n\r\nclass DropdownMenu {\r\n  /**\r\n   * Creates a new instance of DropdownMenu.\r\n   * @class\r\n   * @fires DropdownMenu#init\r\n   * @param {jQuery} element - jQuery object to make into a dropdown menu.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\r\n\r\n    Foundation.Nest.Feather(this.$element, 'dropdown');\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'DropdownMenu');\r\n    Foundation.Keyboard.register('DropdownMenu', {\r\n      'ENTER': 'open',\r\n      'SPACE': 'open',\r\n      'ARROW_RIGHT': 'next',\r\n      'ARROW_UP': 'up',\r\n      'ARROW_DOWN': 'down',\r\n      'ARROW_LEFT': 'previous',\r\n      'ESCAPE': 'close'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes the plugin, and calls _prepareMenu\r\n   * @private\r\n   * @function\r\n   */\r\n  _init() {\r\n    var subs = this.$element.find('li.is-dropdown-submenu-parent');\r\n    this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\r\n\r\n    this.$menuItems = this.$element.find('[role=\"menuitem\"]');\r\n    this.$tabs = this.$element.children('[role=\"menuitem\"]');\r\n    this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\r\n\r\n    if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {\r\n      this.options.alignment = 'right';\r\n      subs.addClass('opens-left');\r\n    } else {\r\n      subs.addClass('opens-right');\r\n    }\r\n    this.changed = false;\r\n    this._events();\r\n  };\r\n\r\n  _isVertical() {\r\n    return this.$tabs.css('display') === 'block';\r\n  }\r\n\r\n  /**\r\n   * Adds event listeners to elements within the menu\r\n   * @private\r\n   * @function\r\n   */\r\n  _events() {\r\n    var _this = this,\r\n        hasTouch = 'ontouchstart' in window || (typeof window.ontouchstart !== 'undefined'),\r\n        parClass = 'is-dropdown-submenu-parent';\r\n\r\n    // used for onClick and in the keyboard handlers\r\n    var handleClickFn = function(e) {\r\n      var $elem = $(e.target).parentsUntil('ul', `.${parClass}`),\r\n          hasSub = $elem.hasClass(parClass),\r\n          hasClicked = $elem.attr('data-is-click') === 'true',\r\n          $sub = $elem.children('.is-dropdown-submenu');\r\n\r\n      if (hasSub) {\r\n        if (hasClicked) {\r\n          if (!_this.options.closeOnClick || (!_this.options.clickOpen && !hasTouch) || (_this.options.forceFollow && hasTouch)) { return; }\r\n          else {\r\n            e.stopImmediatePropagation();\r\n            e.preventDefault();\r\n            _this._hide($elem);\r\n          }\r\n        } else {\r\n          e.preventDefault();\r\n          e.stopImmediatePropagation();\r\n          _this._show($sub);\r\n          $elem.add($elem.parentsUntil(_this.$element, `.${parClass}`)).attr('data-is-click', true);\r\n        }\r\n      } else {\r\n        if(_this.options.closeOnClickInside){\r\n          _this._hide($elem);\r\n        }\r\n        return;\r\n      }\r\n    };\r\n\r\n    if (this.options.clickOpen || hasTouch) {\r\n      this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu', handleClickFn);\r\n    }\r\n\r\n    if (!this.options.disableHover) {\r\n      this.$menuItems.on('mouseenter.zf.dropdownmenu', function(e) {\r\n        var $elem = $(this),\r\n            hasSub = $elem.hasClass(parClass);\r\n\r\n        if (hasSub) {\r\n          clearTimeout(_this.delay);\r\n          _this.delay = setTimeout(function() {\r\n            _this._show($elem.children('.is-dropdown-submenu'));\r\n          }, _this.options.hoverDelay);\r\n        }\r\n      }).on('mouseleave.zf.dropdownmenu', function(e) {\r\n        var $elem = $(this),\r\n            hasSub = $elem.hasClass(parClass);\r\n        if (hasSub && _this.options.autoclose) {\r\n          if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) { return false; }\r\n\r\n          clearTimeout(_this.delay);\r\n          _this.delay = setTimeout(function() {\r\n            _this._hide($elem);\r\n          }, _this.options.closingTime);\r\n        }\r\n      });\r\n    }\r\n    this.$menuItems.on('keydown.zf.dropdownmenu', function(e) {\r\n      var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\r\n          isTab = _this.$tabs.index($element) > -1,\r\n          $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\r\n          $prevElement,\r\n          $nextElement;\r\n\r\n      $elements.each(function(i) {\r\n        if ($(this).is($element)) {\r\n          $prevElement = $elements.eq(i-1);\r\n          $nextElement = $elements.eq(i+1);\r\n          return;\r\n        }\r\n      });\r\n\r\n      var nextSibling = function() {\r\n        if (!$element.is(':last-child')) {\r\n          $nextElement.children('a:first').focus();\r\n          e.preventDefault();\r\n        }\r\n      }, prevSibling = function() {\r\n        $prevElement.children('a:first').focus();\r\n        e.preventDefault();\r\n      }, openSub = function() {\r\n        var $sub = $element.children('ul.is-dropdown-submenu');\r\n        if ($sub.length) {\r\n          _this._show($sub);\r\n          $element.find('li > a:first').focus();\r\n          e.preventDefault();\r\n        } else { return; }\r\n      }, closeSub = function() {\r\n        //if ($element.is(':first-child')) {\r\n        var close = $element.parent('ul').parent('li');\r\n        close.children('a:first').focus();\r\n        _this._hide(close);\r\n        e.preventDefault();\r\n        //}\r\n      };\r\n      var functions = {\r\n        open: openSub,\r\n        close: function() {\r\n          _this._hide(_this.$element);\r\n          _this.$menuItems.find('a:first').focus(); // focus to first element\r\n          e.preventDefault();\r\n        },\r\n        handled: function() {\r\n          e.stopImmediatePropagation();\r\n        }\r\n      };\r\n\r\n      if (isTab) {\r\n        if (_this._isVertical()) { // vertical menu\r\n          if (Foundation.rtl()) { // right aligned\r\n            $.extend(functions, {\r\n              down: nextSibling,\r\n              up: prevSibling,\r\n              next: closeSub,\r\n              previous: openSub\r\n            });\r\n          } else { // left aligned\r\n            $.extend(functions, {\r\n              down: nextSibling,\r\n              up: prevSibling,\r\n              next: openSub,\r\n              previous: closeSub\r\n            });\r\n          }\r\n        } else { // horizontal menu\r\n          if (Foundation.rtl()) { // right aligned\r\n            $.extend(functions, {\r\n              next: prevSibling,\r\n              previous: nextSibling,\r\n              down: openSub,\r\n              up: closeSub\r\n            });\r\n          } else { // left aligned\r\n            $.extend(functions, {\r\n              next: nextSibling,\r\n              previous: prevSibling,\r\n              down: openSub,\r\n              up: closeSub\r\n            });\r\n          }\r\n        }\r\n      } else { // not tabs -> one sub\r\n        if (Foundation.rtl()) { // right aligned\r\n          $.extend(functions, {\r\n            next: closeSub,\r\n            previous: openSub,\r\n            down: nextSibling,\r\n            up: prevSibling\r\n          });\r\n        } else { // left aligned\r\n          $.extend(functions, {\r\n            next: openSub,\r\n            previous: closeSub,\r\n            down: nextSibling,\r\n            up: prevSibling\r\n          });\r\n        }\r\n      }\r\n      Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);\r\n\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Adds an event handler to the body to close any dropdowns on a click.\r\n   * @function\r\n   * @private\r\n   */\r\n  _addBodyHandler() {\r\n    var $body = $(document.body),\r\n        _this = this;\r\n    $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu')\r\n         .on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function(e) {\r\n           var $link = _this.$element.find(e.target);\r\n           if ($link.length) { return; }\r\n\r\n           _this._hide();\r\n           $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\r\n         });\r\n  }\r\n\r\n  /**\r\n   * Opens a dropdown pane, and checks for collisions first.\r\n   * @param {jQuery} $sub - ul element that is a submenu to show\r\n   * @function\r\n   * @private\r\n   * @fires DropdownMenu#show\r\n   */\r\n  _show($sub) {\r\n    var idx = this.$tabs.index(this.$tabs.filter(function(i, el) {\r\n      return $(el).find($sub).length > 0;\r\n    }));\r\n    var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\r\n    this._hide($sibs, idx);\r\n    $sub.css('visibility', 'hidden').addClass('js-dropdown-active').attr({'aria-hidden': false})\r\n        .parent('li.is-dropdown-submenu-parent').addClass('is-active')\r\n        .attr({'aria-expanded': true});\r\n    var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\r\n    if (!clear) {\r\n      var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\r\n          $parentLi = $sub.parent('.is-dropdown-submenu-parent');\r\n      $parentLi.removeClass(`opens${oldClass}`).addClass(`opens-${this.options.alignment}`);\r\n      clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\r\n      if (!clear) {\r\n        $parentLi.removeClass(`opens-${this.options.alignment}`).addClass('opens-inner');\r\n      }\r\n      this.changed = true;\r\n    }\r\n    $sub.css('visibility', '');\r\n    if (this.options.closeOnClick) { this._addBodyHandler(); }\r\n    /**\r\n     * Fires when the new dropdown pane is visible.\r\n     * @event DropdownMenu#show\r\n     */\r\n    this.$element.trigger('show.zf.dropdownmenu', [$sub]);\r\n  }\r\n\r\n  /**\r\n   * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\r\n   * @function\r\n   * @param {jQuery} $elem - element with a submenu to hide\r\n   * @param {Number} idx - index of the $tabs collection to hide\r\n   * @private\r\n   */\r\n  _hide($elem, idx) {\r\n    var $toClose;\r\n    if ($elem && $elem.length) {\r\n      $toClose = $elem;\r\n    } else if (idx !== undefined) {\r\n      $toClose = this.$tabs.not(function(i, el) {\r\n        return i === idx;\r\n      });\r\n    }\r\n    else {\r\n      $toClose = this.$element;\r\n    }\r\n    var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\r\n\r\n    if (somethingToClose) {\r\n      $toClose.find('li.is-active').add($toClose).attr({\r\n        'aria-expanded': false,\r\n        'data-is-click': false\r\n      }).removeClass('is-active');\r\n\r\n      $toClose.find('ul.js-dropdown-active').attr({\r\n        'aria-hidden': true\r\n      }).removeClass('js-dropdown-active');\r\n\r\n      if (this.changed || $toClose.find('opens-inner').length) {\r\n        var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\r\n        $toClose.find('li.is-dropdown-submenu-parent').add($toClose)\r\n                .removeClass(`opens-inner opens-${this.options.alignment}`)\r\n                .addClass(`opens-${oldClass}`);\r\n        this.changed = false;\r\n      }\r\n      /**\r\n       * Fires when the open menus are closed.\r\n       * @event DropdownMenu#hide\r\n       */\r\n      this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroys the plugin.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click')\r\n        .removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\r\n    $(document.body).off('.zf.dropdownmenu');\r\n    Foundation.Nest.Burn(this.$element, 'dropdown');\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\n/**\r\n * Default settings for plugin\r\n */\r\nDropdownMenu.defaults = {\r\n  /**\r\n   * Disallows hover events from opening submenus\r\n   * @option\r\n   * @example false\r\n   */\r\n  disableHover: false,\r\n  /**\r\n   * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\r\n   * @option\r\n   * @example true\r\n   */\r\n  autoclose: true,\r\n  /**\r\n   * Amount of time to delay opening a submenu on hover event.\r\n   * @option\r\n   * @example 50\r\n   */\r\n  hoverDelay: 50,\r\n  /**\r\n   * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\r\n   * @option\r\n   * @example true\r\n   */\r\n  clickOpen: false,\r\n  /**\r\n   * Amount of time to delay closing a submenu on a mouseleave event.\r\n   * @option\r\n   * @example 500\r\n   */\r\n\r\n  closingTime: 500,\r\n  /**\r\n   * Position of the menu relative to what direction the submenus should open. Handled by JS.\r\n   * @option\r\n   * @example 'left'\r\n   */\r\n  alignment: 'left',\r\n  /**\r\n   * Allow clicks on the body to close any open submenus.\r\n   * @option\r\n   * @example true\r\n   */\r\n  closeOnClick: true,\r\n  /**\r\n   * Allow clicks on leaf anchor links to close any open submenus.\r\n   * @option\r\n   * @example true\r\n   */\r\n  closeOnClickInside: true,\r\n  /**\r\n   * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\r\n   * @option\r\n   * @example 'vertical'\r\n   */\r\n  verticalClass: 'vertical',\r\n  /**\r\n   * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\r\n   * @option\r\n   * @example 'align-right'\r\n   */\r\n  rightClass: 'align-right',\r\n  /**\r\n   * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\r\n   * @option\r\n   * @example false\r\n   */\r\n  forceFollow: true\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(DropdownMenu, 'DropdownMenu');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Equalizer module.\r\n * @module foundation.equalizer\r\n * @requires foundation.util.mediaQuery\r\n * @requires foundation.util.timerAndImageLoader if equalizer contains images\r\n */\r\n\r\nclass Equalizer {\r\n  /**\r\n   * Creates a new instance of Equalizer.\r\n   * @class\r\n   * @fires Equalizer#init\r\n   * @param {Object} element - jQuery object to add the trigger to.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options){\r\n    this.$element = element;\r\n    this.options  = $.extend({}, Equalizer.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Equalizer');\r\n  }\r\n\r\n  /**\r\n   * Initializes the Equalizer plugin and calls functions to get equalizer functioning on load.\r\n   * @private\r\n   */\r\n  _init() {\r\n    var eqId = this.$element.attr('data-equalizer') || '';\r\n    var $watched = this.$element.find(`[data-equalizer-watch=\"${eqId}\"]`);\r\n\r\n    this.$watched = $watched.length ? $watched : this.$element.find('[data-equalizer-watch]');\r\n    this.$element.attr('data-resize', (eqId || Foundation.GetYoDigits(6, 'eq')));\r\n\r\n    this.hasNested = this.$element.find('[data-equalizer]').length > 0;\r\n    this.isNested = this.$element.parentsUntil(document.body, '[data-equalizer]').length > 0;\r\n    this.isOn = false;\r\n    this._bindHandler = {\r\n      onResizeMeBound: this._onResizeMe.bind(this),\r\n      onPostEqualizedBound: this._onPostEqualized.bind(this)\r\n    };\r\n\r\n    var imgs = this.$element.find('img');\r\n    var tooSmall;\r\n    if(this.options.equalizeOn){\r\n      tooSmall = this._checkMQ();\r\n      $(window).on('changed.zf.mediaquery', this._checkMQ.bind(this));\r\n    }else{\r\n      this._events();\r\n    }\r\n    if((tooSmall !== undefined && tooSmall === false) || tooSmall === undefined){\r\n      if(imgs.length){\r\n        Foundation.onImagesLoaded(imgs, this._reflow.bind(this));\r\n      }else{\r\n        this._reflow();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes event listeners if the breakpoint is too small.\r\n   * @private\r\n   */\r\n  _pauseEvents() {\r\n    this.isOn = false;\r\n    this.$element.off({\r\n      '.zf.equalizer': this._bindHandler.onPostEqualizedBound,\r\n      'resizeme.zf.trigger': this._bindHandler.onResizeMeBound\r\n    });\r\n  }\r\n\r\n  /**\r\n   * function to handle $elements resizeme.zf.trigger, with bound this on _bindHandler.onResizeMeBound\r\n   * @private\r\n   */\r\n  _onResizeMe(e) {\r\n    this._reflow();\r\n  }\r\n\r\n  /**\r\n   * function to handle $elements postequalized.zf.equalizer, with bound this on _bindHandler.onPostEqualizedBound\r\n   * @private\r\n   */\r\n  _onPostEqualized(e) {\r\n    if(e.target !== this.$element[0]){ this._reflow(); }\r\n  }\r\n\r\n  /**\r\n   * Initializes events for Equalizer.\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n    this._pauseEvents();\r\n    if(this.hasNested){\r\n      this.$element.on('postequalized.zf.equalizer', this._bindHandler.onPostEqualizedBound);\r\n    }else{\r\n      this.$element.on('resizeme.zf.trigger', this._bindHandler.onResizeMeBound);\r\n    }\r\n    this.isOn = true;\r\n  }\r\n\r\n  /**\r\n   * Checks the current breakpoint to the minimum required size.\r\n   * @private\r\n   */\r\n  _checkMQ() {\r\n    var tooSmall = !Foundation.MediaQuery.atLeast(this.options.equalizeOn);\r\n    if(tooSmall){\r\n      if(this.isOn){\r\n        this._pauseEvents();\r\n        this.$watched.css('height', 'auto');\r\n      }\r\n    }else{\r\n      if(!this.isOn){\r\n        this._events();\r\n      }\r\n    }\r\n    return tooSmall;\r\n  }\r\n\r\n  /**\r\n   * A noop version for the plugin\r\n   * @private\r\n   */\r\n  _killswitch() {\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Calls necessary functions to update Equalizer upon DOM change\r\n   * @private\r\n   */\r\n  _reflow() {\r\n    if(!this.options.equalizeOnStack){\r\n      if(this._isStacked()){\r\n        this.$watched.css('height', 'auto');\r\n        return false;\r\n      }\r\n    }\r\n    if (this.options.equalizeByRow) {\r\n      this.getHeightsByRow(this.applyHeightByRow.bind(this));\r\n    }else{\r\n      this.getHeights(this.applyHeight.bind(this));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Manually determines if the first 2 elements are *NOT* stacked.\r\n   * @private\r\n   */\r\n  _isStacked() {\r\n    return this.$watched[0].getBoundingClientRect().top !== this.$watched[1].getBoundingClientRect().top;\r\n  }\r\n\r\n  /**\r\n   * Finds the outer heights of children contained within an Equalizer parent and returns them in an array\r\n   * @param {Function} cb - A non-optional callback to return the heights array to.\r\n   * @returns {Array} heights - An array of heights of children within Equalizer container\r\n   */\r\n  getHeights(cb) {\r\n    var heights = [];\r\n    for(var i = 0, len = this.$watched.length; i < len; i++){\r\n      this.$watched[i].style.height = 'auto';\r\n      heights.push(this.$watched[i].offsetHeight);\r\n    }\r\n    cb(heights);\r\n  }\r\n\r\n  /**\r\n   * Finds the outer heights of children contained within an Equalizer parent and returns them in an array\r\n   * @param {Function} cb - A non-optional callback to return the heights array to.\r\n   * @returns {Array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child\r\n   */\r\n  getHeightsByRow(cb) {\r\n    var lastElTopOffset = (this.$watched.length ? this.$watched.first().offset().top : 0),\r\n        groups = [],\r\n        group = 0;\r\n    //group by Row\r\n    groups[group] = [];\r\n    for(var i = 0, len = this.$watched.length; i < len; i++){\r\n      this.$watched[i].style.height = 'auto';\r\n      //maybe could use this.$watched[i].offsetTop\r\n      var elOffsetTop = $(this.$watched[i]).offset().top;\r\n      if (elOffsetTop!=lastElTopOffset) {\r\n        group++;\r\n        groups[group] = [];\r\n        lastElTopOffset=elOffsetTop;\r\n      }\r\n      groups[group].push([this.$watched[i],this.$watched[i].offsetHeight]);\r\n    }\r\n\r\n    for (var j = 0, ln = groups.length; j < ln; j++) {\r\n      var heights = $(groups[j]).map(function(){ return this[1]; }).get();\r\n      var max         = Math.max.apply(null, heights);\r\n      groups[j].push(max);\r\n    }\r\n    cb(groups);\r\n  }\r\n\r\n  /**\r\n   * Changes the CSS height property of each child in an Equalizer parent to match the tallest\r\n   * @param {array} heights - An array of heights of children within Equalizer container\r\n   * @fires Equalizer#preequalized\r\n   * @fires Equalizer#postequalized\r\n   */\r\n  applyHeight(heights) {\r\n    var max = Math.max.apply(null, heights);\r\n    /**\r\n     * Fires before the heights are applied\r\n     * @event Equalizer#preequalized\r\n     */\r\n    this.$element.trigger('preequalized.zf.equalizer');\r\n\r\n    this.$watched.css('height', max);\r\n\r\n    /**\r\n     * Fires when the heights have been applied\r\n     * @event Equalizer#postequalized\r\n     */\r\n     this.$element.trigger('postequalized.zf.equalizer');\r\n  }\r\n\r\n  /**\r\n   * Changes the CSS height property of each child in an Equalizer parent to match the tallest by row\r\n   * @param {array} groups - An array of heights of children within Equalizer container grouped by row with element,height and max as last child\r\n   * @fires Equalizer#preequalized\r\n   * @fires Equalizer#preequalizedRow\r\n   * @fires Equalizer#postequalizedRow\r\n   * @fires Equalizer#postequalized\r\n   */\r\n  applyHeightByRow(groups) {\r\n    /**\r\n     * Fires before the heights are applied\r\n     */\r\n    this.$element.trigger('preequalized.zf.equalizer');\r\n    for (var i = 0, len = groups.length; i < len ; i++) {\r\n      var groupsILength = groups[i].length,\r\n          max = groups[i][groupsILength - 1];\r\n      if (groupsILength<=2) {\r\n        $(groups[i][0][0]).css({'height':'auto'});\r\n        continue;\r\n      }\r\n      /**\r\n        * Fires before the heights per row are applied\r\n        * @event Equalizer#preequalizedRow\r\n        */\r\n      this.$element.trigger('preequalizedrow.zf.equalizer');\r\n      for (var j = 0, lenJ = (groupsILength-1); j < lenJ ; j++) {\r\n        $(groups[i][j][0]).css({'height':max});\r\n      }\r\n      /**\r\n        * Fires when the heights per row have been applied\r\n        * @event Equalizer#postequalizedRow\r\n        */\r\n      this.$element.trigger('postequalizedrow.zf.equalizer');\r\n    }\r\n    /**\r\n     * Fires when the heights have been applied\r\n     */\r\n     this.$element.trigger('postequalized.zf.equalizer');\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of Equalizer.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this._pauseEvents();\r\n    this.$watched.css('height', 'auto');\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\n/**\r\n * Default settings for plugin\r\n */\r\nEqualizer.defaults = {\r\n  /**\r\n   * Enable height equalization when stacked on smaller screens.\r\n   * @option\r\n   * @example true\r\n   */\r\n  equalizeOnStack: false,\r\n  /**\r\n   * Enable height equalization row by row.\r\n   * @option\r\n   * @example false\r\n   */\r\n  equalizeByRow: false,\r\n  /**\r\n   * String representing the minimum breakpoint size the plugin should equalize heights on.\r\n   * @option\r\n   * @example 'medium'\r\n   */\r\n  equalizeOn: ''\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Equalizer, 'Equalizer');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Interchange module.\r\n * @module foundation.interchange\r\n * @requires foundation.util.mediaQuery\r\n * @requires foundation.util.timerAndImageLoader\r\n */\r\n\r\nclass Interchange {\r\n  /**\r\n   * Creates a new instance of Interchange.\r\n   * @class\r\n   * @fires Interchange#init\r\n   * @param {Object} element - jQuery object to add the trigger to.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Interchange.defaults, options);\r\n    this.rules = [];\r\n    this.currentPath = '';\r\n\r\n    this._init();\r\n    this._events();\r\n\r\n    Foundation.registerPlugin(this, 'Interchange');\r\n  }\r\n\r\n  /**\r\n   * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    this._addBreakpoints();\r\n    this._generateRules();\r\n    this._reflow();\r\n  }\r\n\r\n  /**\r\n   * Initializes events for Interchange.\r\n   * @function\r\n   * @private\r\n   */\r\n  _events() {\r\n    $(window).on('resize.zf.interchange', Foundation.util.throttle(this._reflow.bind(this), 50));\r\n  }\r\n\r\n  /**\r\n   * Calls necessary functions to update Interchange upon DOM change\r\n   * @function\r\n   * @private\r\n   */\r\n  _reflow() {\r\n    var match;\r\n\r\n    // Iterate through each rule, but only save the last match\r\n    for (var i in this.rules) {\r\n      if(this.rules.hasOwnProperty(i)) {\r\n        var rule = this.rules[i];\r\n\r\n        if (window.matchMedia(rule.query).matches) {\r\n          match = rule;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (match) {\r\n      this.replace(match.path);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\r\n   * @function\r\n   * @private\r\n   */\r\n  _addBreakpoints() {\r\n    for (var i in Foundation.MediaQuery.queries) {\r\n      if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\r\n        var query = Foundation.MediaQuery.queries[i];\r\n        Interchange.SPECIAL_QUERIES[query.name] = query.value;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks the Interchange element for the provided media query + content pairings\r\n   * @function\r\n   * @private\r\n   * @param {Object} element - jQuery object that is an Interchange instance\r\n   * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\r\n   */\r\n  _generateRules(element) {\r\n    var rulesList = [];\r\n    var rules;\r\n\r\n    if (this.options.rules) {\r\n      rules = this.options.rules;\r\n    }\r\n    else {\r\n      rules = this.$element.data('interchange').match(/\\[.*?\\]/g);\r\n    }\r\n\r\n    for (var i in rules) {\r\n      if(rules.hasOwnProperty(i)) {\r\n        var rule = rules[i].slice(1, -1).split(', ');\r\n        var path = rule.slice(0, -1).join('');\r\n        var query = rule[rule.length - 1];\r\n\r\n        if (Interchange.SPECIAL_QUERIES[query]) {\r\n          query = Interchange.SPECIAL_QUERIES[query];\r\n        }\r\n\r\n        rulesList.push({\r\n          path: path,\r\n          query: query\r\n        });\r\n      }\r\n    }\r\n\r\n    this.rules = rulesList;\r\n  }\r\n\r\n  /**\r\n   * Update the `src` property of an image, or change the HTML of a container, to the specified path.\r\n   * @function\r\n   * @param {String} path - Path to the image or HTML partial.\r\n   * @fires Interchange#replaced\r\n   */\r\n  replace(path) {\r\n    if (this.currentPath === path) return;\r\n\r\n    var _this = this,\r\n        trigger = 'replaced.zf.interchange';\r\n\r\n    // Replacing images\r\n    if (this.$element[0].nodeName === 'IMG') {\r\n      this.$element.attr('src', path).on('load', function() {\r\n        _this.currentPath = path;\r\n      })\r\n      .trigger(trigger);\r\n    }\r\n    // Replacing background images\r\n    else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\r\n      this.$element.css({ 'background-image': 'url('+path+')' })\r\n          .trigger(trigger);\r\n    }\r\n    // Replacing HTML\r\n    else {\r\n      $.get(path, function(response) {\r\n        _this.$element.html(response)\r\n             .trigger(trigger);\r\n        $(response).foundation();\r\n        _this.currentPath = path;\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Fires when content in an Interchange element is done being loaded.\r\n     * @event Interchange#replaced\r\n     */\r\n    // this.$element.trigger('replaced.zf.interchange');\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of interchange.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    //TODO this.\r\n  }\r\n}\r\n\r\n/**\r\n * Default settings for plugin\r\n */\r\nInterchange.defaults = {\r\n  /**\r\n   * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\r\n   * @option\r\n   */\r\n  rules: null\r\n};\r\n\r\nInterchange.SPECIAL_QUERIES = {\r\n  'landscape': 'screen and (orientation: landscape)',\r\n  'portrait': 'screen and (orientation: portrait)',\r\n  'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Interchange, 'Interchange');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Magellan module.\r\n * @module foundation.magellan\r\n */\r\n\r\nclass Magellan {\r\n  /**\r\n   * Creates a new instance of Magellan.\r\n   * @class\r\n   * @fires Magellan#init\r\n   * @param {Object} element - jQuery object to add the trigger to.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options  = $.extend({}, Magellan.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Magellan');\r\n  }\r\n\r\n  /**\r\n   * Initializes the Magellan plugin and calls functions to get equalizer functioning on load.\r\n   * @private\r\n   */\r\n  _init() {\r\n    var id = this.$element[0].id || Foundation.GetYoDigits(6, 'magellan');\r\n    var _this = this;\r\n    this.$targets = $('[data-magellan-target]');\r\n    this.$links = this.$element.find('a');\r\n    this.$element.attr({\r\n      'data-resize': id,\r\n      'data-scroll': id,\r\n      'id': id\r\n    });\r\n    this.$active = $();\r\n    this.scrollPos = parseInt(window.pageYOffset, 10);\r\n\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Calculates an array of pixel values that are the demarcation lines between locations on the page.\r\n   * Can be invoked if new elements are added or the size of a location changes.\r\n   * @function\r\n   */\r\n  calcPoints() {\r\n    var _this = this,\r\n        body = document.body,\r\n        html = document.documentElement;\r\n\r\n    this.points = [];\r\n    this.winHeight = Math.round(Math.max(window.innerHeight, html.clientHeight));\r\n    this.docHeight = Math.round(Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight));\r\n\r\n    this.$targets.each(function(){\r\n      var $tar = $(this),\r\n          pt = Math.round($tar.offset().top - _this.options.threshold);\r\n      $tar.targetPoint = pt;\r\n      _this.points.push(pt);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes events for Magellan.\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this,\r\n        $body = $('html, body'),\r\n        opts = {\r\n          duration: _this.options.animationDuration,\r\n          easing:   _this.options.animationEasing\r\n        };\r\n    $(window).one('load', function(){\r\n      if(_this.options.deepLinking){\r\n        if(location.hash){\r\n          _this.scrollToLoc(location.hash);\r\n        }\r\n      }\r\n      _this.calcPoints();\r\n      _this._updateActive();\r\n    });\r\n\r\n    this.$element.on({\r\n      'resizeme.zf.trigger': this.reflow.bind(this),\r\n      'scrollme.zf.trigger': this._updateActive.bind(this)\r\n    }).on('click.zf.magellan', 'a[href^=\"#\"]', function(e) {\r\n        e.preventDefault();\r\n        var arrival   = this.getAttribute('href');\r\n        _this.scrollToLoc(arrival);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Function to scroll to a given location on the page.\r\n   * @param {String} loc - a properly formatted jQuery id selector. Example: '#foo'\r\n   * @function\r\n   */\r\n  scrollToLoc(loc) {\r\n    // Do nothing if target does not exist to prevent errors\r\n    if (!$(loc).length) {return false;}\r\n    var scrollPos = Math.round($(loc).offset().top - this.options.threshold / 2 - this.options.barOffset);\r\n\r\n    $('html, body').stop(true).animate({ scrollTop: scrollPos }, this.options.animationDuration, this.options.animationEasing);\r\n  }\r\n\r\n  /**\r\n   * Calls necessary functions to update Magellan upon DOM change\r\n   * @function\r\n   */\r\n  reflow() {\r\n    this.calcPoints();\r\n    this._updateActive();\r\n  }\r\n\r\n  /**\r\n   * Updates the visibility of an active location link, and updates the url hash for the page, if deepLinking enabled.\r\n   * @private\r\n   * @function\r\n   * @fires Magellan#update\r\n   */\r\n  _updateActive(/*evt, elem, scrollPos*/) {\r\n    var winPos = /*scrollPos ||*/ parseInt(window.pageYOffset, 10),\r\n        curIdx;\r\n\r\n    if(winPos + this.winHeight === this.docHeight){ curIdx = this.points.length - 1; }\r\n    else if(winPos < this.points[0]){ curIdx = 0; }\r\n    else{\r\n      var isDown = this.scrollPos < winPos,\r\n          _this = this,\r\n          curVisible = this.points.filter(function(p, i){\r\n            return isDown ? p - _this.options.barOffset <= winPos : p - _this.options.barOffset - _this.options.threshold <= winPos;\r\n          });\r\n      curIdx = curVisible.length ? curVisible.length - 1 : 0;\r\n    }\r\n\r\n    this.$active.removeClass(this.options.activeClass);\r\n    this.$active = this.$links.filter('[href=\"#' + this.$targets.eq(curIdx).data('magellan-target') + '\"]').addClass(this.options.activeClass);\r\n\r\n    if(this.options.deepLinking){\r\n      var hash = this.$active[0].getAttribute('href');\r\n      if(window.history.pushState){\r\n        window.history.pushState(null, null, hash);\r\n      }else{\r\n        window.location.hash = hash;\r\n      }\r\n    }\r\n\r\n    this.scrollPos = winPos;\r\n    /**\r\n     * Fires when magellan is finished updating to the new active element.\r\n     * @event Magellan#update\r\n     */\r\n    this.$element.trigger('update.zf.magellan', [this.$active]);\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of Magellan and resets the url of the window.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.$element.off('.zf.trigger .zf.magellan')\r\n        .find(`.${this.options.activeClass}`).removeClass(this.options.activeClass);\r\n\r\n    if(this.options.deepLinking){\r\n      var hash = this.$active[0].getAttribute('href');\r\n      window.location.hash.replace(hash, '');\r\n    }\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\n/**\r\n * Default settings for plugin\r\n */\r\nMagellan.defaults = {\r\n  /**\r\n   * Amount of time, in ms, the animated scrolling should take between locations.\r\n   * @option\r\n   * @example 500\r\n   */\r\n  animationDuration: 500,\r\n  /**\r\n   * Animation style to use when scrolling between locations.\r\n   * @option\r\n   * @example 'ease-in-out'\r\n   */\r\n  animationEasing: 'linear',\r\n  /**\r\n   * Number of pixels to use as a marker for location changes.\r\n   * @option\r\n   * @example 50\r\n   */\r\n  threshold: 50,\r\n  /**\r\n   * Class applied to the active locations link on the magellan container.\r\n   * @option\r\n   * @example 'active'\r\n   */\r\n  activeClass: 'active',\r\n  /**\r\n   * Allows the script to manipulate the url of the current page, and if supported, alter the history.\r\n   * @option\r\n   * @example true\r\n   */\r\n  deepLinking: false,\r\n  /**\r\n   * Number of pixels to offset the scroll of the page on item click if using a sticky nav bar.\r\n   * @option\r\n   * @example 25\r\n   */\r\n  barOffset: 0\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(Magellan, 'Magellan');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * OffCanvas module.\r\n * @module foundation.offcanvas\r\n * @requires foundation.util.mediaQuery\r\n * @requires foundation.util.triggers\r\n * @requires foundation.util.motion\r\n */\r\n\r\nclass OffCanvas {\r\n  /**\r\n   * Creates a new instance of an off-canvas wrapper.\r\n   * @class\r\n   * @fires OffCanvas#init\r\n   * @param {Object} element - jQuery object to initialize.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, OffCanvas.defaults, this.$element.data(), options);\r\n    this.$lastTrigger = $();\r\n    this.$triggers = $();\r\n\r\n    this._init();\r\n    this._events();\r\n\r\n    Foundation.registerPlugin(this, 'OffCanvas')\r\n    Foundation.Keyboard.register('OffCanvas', {\r\n      'ESCAPE': 'close'\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * Initializes the off-canvas wrapper by adding the exit overlay (if needed).\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    var id = this.$element.attr('id');\r\n\r\n    this.$element.attr('aria-hidden', 'true');\r\n\r\n    // Find triggers that affect this element and add aria-expanded to them\r\n    this.$triggers = $(document)\r\n      .find('[data-open=\"'+id+'\"], [data-close=\"'+id+'\"], [data-toggle=\"'+id+'\"]')\r\n      .attr('aria-expanded', 'false')\r\n      .attr('aria-controls', id);\r\n\r\n    // Add a close trigger over the body if necessary\r\n    if (this.options.closeOnClick) {\r\n      if ($('.js-off-canvas-exit').length) {\r\n        this.$exiter = $('.js-off-canvas-exit');\r\n      } else {\r\n        var exiter = document.createElement('div');\r\n        exiter.setAttribute('class', 'js-off-canvas-exit');\r\n        $('[data-off-canvas-content]').append(exiter);\r\n\r\n        this.$exiter = $(exiter);\r\n      }\r\n    }\r\n\r\n    this.options.isRevealed = this.options.isRevealed || new RegExp(this.options.revealClass, 'g').test(this.$element[0].className);\r\n\r\n    if (this.options.isRevealed) {\r\n      this.options.revealOn = this.options.revealOn || this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split('-')[2];\r\n      this._setMQChecker();\r\n    }\r\n    if (!this.options.transitionTime) {\r\n      this.options.transitionTime = parseFloat(window.getComputedStyle($('[data-off-canvas-wrapper]')[0]).transitionDuration) * 1000;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers to the off-canvas wrapper and the exit overlay.\r\n   * @function\r\n   * @private\r\n   */\r\n  _events() {\r\n    this.$element.off('.zf.trigger .zf.offcanvas').on({\r\n      'open.zf.trigger': this.open.bind(this),\r\n      'close.zf.trigger': this.close.bind(this),\r\n      'toggle.zf.trigger': this.toggle.bind(this),\r\n      'keydown.zf.offcanvas': this._handleKeyboard.bind(this)\r\n    });\r\n\r\n    if (this.options.closeOnClick && this.$exiter.length) {\r\n      this.$exiter.on({'click.zf.offcanvas': this.close.bind(this)});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Applies event listener for elements that will reveal at certain breakpoints.\r\n   * @private\r\n   */\r\n  _setMQChecker() {\r\n    var _this = this;\r\n\r\n    $(window).on('changed.zf.mediaquery', function() {\r\n      if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {\r\n        _this.reveal(true);\r\n      } else {\r\n        _this.reveal(false);\r\n      }\r\n    }).one('load.zf.offcanvas', function() {\r\n      if (Foundation.MediaQuery.atLeast(_this.options.revealOn)) {\r\n        _this.reveal(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handles the revealing/hiding the off-canvas at breakpoints, not the same as open.\r\n   * @param {Boolean} isRevealed - true if element should be revealed.\r\n   * @function\r\n   */\r\n  reveal(isRevealed) {\r\n    var $closer = this.$element.find('[data-close]');\r\n    if (isRevealed) {\r\n      this.close();\r\n      this.isRevealed = true;\r\n      // if (!this.options.forceTop) {\r\n      //   var scrollPos = parseInt(window.pageYOffset);\r\n      //   this.$element[0].style.transform = 'translate(0,' + scrollPos + 'px)';\r\n      // }\r\n      // if (this.options.isSticky) { this._stick(); }\r\n      this.$element.off('open.zf.trigger toggle.zf.trigger');\r\n      if ($closer.length) { $closer.hide(); }\r\n    } else {\r\n      this.isRevealed = false;\r\n      // if (this.options.isSticky || !this.options.forceTop) {\r\n      //   this.$element[0].style.transform = '';\r\n      //   $(window).off('scroll.zf.offcanvas');\r\n      // }\r\n      this.$element.on({\r\n        'open.zf.trigger': this.open.bind(this),\r\n        'toggle.zf.trigger': this.toggle.bind(this)\r\n      });\r\n      if ($closer.length) {\r\n        $closer.show();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Opens the off-canvas menu.\r\n   * @function\r\n   * @param {Object} event - Event object passed from listener.\r\n   * @param {jQuery} trigger - element that triggered the off-canvas to open.\r\n   * @fires OffCanvas#opened\r\n   */\r\n  open(event, trigger) {\r\n    if (this.$element.hasClass('is-open') || this.isRevealed) { return; }\r\n    var _this = this,\r\n        $body = $(document.body);\r\n\r\n    if (this.options.forceTop) {\r\n      $('body').scrollTop(0);\r\n    }\r\n    // window.pageYOffset = 0;\r\n\r\n    // if (!this.options.forceTop) {\r\n    //   var scrollPos = parseInt(window.pageYOffset);\r\n    //   this.$element[0].style.transform = 'translate(0,' + scrollPos + 'px)';\r\n    //   if (this.$exiter.length) {\r\n    //     this.$exiter[0].style.transform = 'translate(0,' + scrollPos + 'px)';\r\n    //   }\r\n    // }\r\n    /**\r\n     * Fires when the off-canvas menu opens.\r\n     * @event OffCanvas#opened\r\n     */\r\n\r\n    var $wrapper = $('[data-off-canvas-wrapper]');\r\n    $wrapper.addClass('is-off-canvas-open is-open-'+ _this.options.position);\r\n\r\n    _this.$element.addClass('is-open')\r\n\r\n      // if (_this.options.isSticky) {\r\n      //   _this._stick();\r\n      // }\r\n\r\n    this.$triggers.attr('aria-expanded', 'true');\r\n    this.$element.attr('aria-hidden', 'false')\r\n        .trigger('opened.zf.offcanvas');\r\n\r\n    if (this.options.closeOnClick) {\r\n      this.$exiter.addClass('is-visible');\r\n    }\r\n\r\n    if (trigger) {\r\n      this.$lastTrigger = trigger;\r\n    }\r\n\r\n    if (this.options.autoFocus) {\r\n      $wrapper.one(Foundation.transitionend($wrapper), function() {\r\n        if(_this.$element.hasClass('is-open')) { // handle double clicks\r\n          _this.$element.attr('tabindex', '-1');\r\n          _this.$element.focus();\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.options.trapFocus) {\r\n      $wrapper.one(Foundation.transitionend($wrapper), function() {\r\n        if(_this.$element.hasClass('is-open')) { // handle double clicks\r\n          _this.$element.attr('tabindex', '-1');\r\n          _this.trapFocus();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Traps focus within the offcanvas on open.\r\n   * @private\r\n   */\r\n  _trapFocus() {\r\n    var focusable = Foundation.Keyboard.findFocusable(this.$element),\r\n        first = focusable.eq(0),\r\n        last = focusable.eq(-1);\r\n\r\n    focusable.off('.zf.offcanvas').on('keydown.zf.offcanvas', function(e) {\r\n      var key = Foundation.Keyboard.parseKey(e);\r\n      if (key === 'TAB' && e.target === last[0]) {\r\n        e.preventDefault();\r\n        first.focus();\r\n      }\r\n      if (key === 'SHIFT_TAB' && e.target === first[0]) {\r\n        e.preventDefault();\r\n        last.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Allows the offcanvas to appear sticky utilizing translate properties.\r\n   * @private\r\n   */\r\n  // OffCanvas.prototype._stick = function() {\r\n  //   var elStyle = this.$element[0].style;\r\n  //\r\n  //   if (this.options.closeOnClick) {\r\n  //     var exitStyle = this.$exiter[0].style;\r\n  //   }\r\n  //\r\n  //   $(window).on('scroll.zf.offcanvas', function(e) {\r\n  //     console.log(e);\r\n  //     var pageY = window.pageYOffset;\r\n  //     elStyle.transform = 'translate(0,' + pageY + 'px)';\r\n  //     if (exitStyle !== undefined) { exitStyle.transform = 'translate(0,' + pageY + 'px)'; }\r\n  //   });\r\n  //   // this.$element.trigger('stuck.zf.offcanvas');\r\n  // };\r\n  /**\r\n   * Closes the off-canvas menu.\r\n   * @function\r\n   * @param {Function} cb - optional cb to fire after closure.\r\n   * @fires OffCanvas#closed\r\n   */\r\n  close(cb) {\r\n    if (!this.$element.hasClass('is-open') || this.isRevealed) { return; }\r\n\r\n    var _this = this;\r\n\r\n    //  Foundation.Move(this.options.transitionTime, this.$element, function() {\r\n    $('[data-off-canvas-wrapper]').removeClass(`is-off-canvas-open is-open-${_this.options.position}`);\r\n    _this.$element.removeClass('is-open');\r\n      // Foundation._reflow();\r\n    // });\r\n    this.$element.attr('aria-hidden', 'true')\r\n      /**\r\n       * Fires when the off-canvas menu opens.\r\n       * @event OffCanvas#closed\r\n       */\r\n        .trigger('closed.zf.offcanvas');\r\n    // if (_this.options.isSticky || !_this.options.forceTop) {\r\n    //   setTimeout(function() {\r\n    //     _this.$element[0].style.transform = '';\r\n    //     $(window).off('scroll.zf.offcanvas');\r\n    //   }, this.options.transitionTime);\r\n    // }\r\n    if (this.options.closeOnClick) {\r\n      this.$exiter.removeClass('is-visible');\r\n    }\r\n\r\n    this.$triggers.attr('aria-expanded', 'false');\r\n    if (this.options.trapFocus) {\r\n      $('[data-off-canvas-content]').removeAttr('tabindex');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles the off-canvas menu open or closed.\r\n   * @function\r\n   * @param {Object} event - Event object passed from listener.\r\n   * @param {jQuery} trigger - element that triggered the off-canvas to open.\r\n   */\r\n  toggle(event, trigger) {\r\n    if (this.$element.hasClass('is-open')) {\r\n      this.close(event, trigger);\r\n    }\r\n    else {\r\n      this.open(event, trigger);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles keyboard input when detected. When the escape key is pressed, the off-canvas menu closes, and focus is restored to the element that opened the menu.\r\n   * @function\r\n   * @private\r\n   */\r\n  _handleKeyboard(e) {\r\n    Foundation.Keyboard.handleKey(e, 'OffCanvas', {\r\n      close: () => {\r\n        this.close();\r\n        this.$lastTrigger.focus();\r\n        return true;\r\n      },\r\n      handled: () => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Destroys the offcanvas plugin.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.close();\r\n    this.$element.off('.zf.trigger .zf.offcanvas');\r\n    this.$exiter.off('.zf.offcanvas');\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nOffCanvas.defaults = {\r\n  /**\r\n   * Allow the user to click outside of the menu to close it.\r\n   * @option\r\n   * @example true\r\n   */\r\n  closeOnClick: true,\r\n\r\n  /**\r\n   * Amount of time in ms the open and close transition requires. If none selected, pulls from body style.\r\n   * @option\r\n   * @example 500\r\n   */\r\n  transitionTime: 0,\r\n\r\n  /**\r\n   * Direction the offcanvas opens from. Determines class applied to body.\r\n   * @option\r\n   * @example left\r\n   */\r\n  position: 'left',\r\n\r\n  /**\r\n   * Force the page to scroll to top on open.\r\n   * @option\r\n   * @example true\r\n   */\r\n  forceTop: true,\r\n\r\n  /**\r\n   * Allow the offcanvas to remain open for certain breakpoints.\r\n   * @option\r\n   * @example false\r\n   */\r\n  isRevealed: false,\r\n\r\n  /**\r\n   * Breakpoint at which to reveal. JS will use a RegExp to target standard classes, if changing classnames, pass your class with the `revealClass` option.\r\n   * @option\r\n   * @example reveal-for-large\r\n   */\r\n  revealOn: null,\r\n\r\n  /**\r\n   * Force focus to the offcanvas on open. If true, will focus the opening trigger on close. Sets tabindex of [data-off-canvas-content] to -1 for accessibility purposes.\r\n   * @option\r\n   * @example true\r\n   */\r\n  autoFocus: true,\r\n\r\n  /**\r\n   * Class used to force an offcanvas to remain open. Foundation defaults for this are `reveal-for-large` & `reveal-for-medium`.\r\n   * @option\r\n   * TODO improve the regex testing for this.\r\n   * @example reveal-for-large\r\n   */\r\n  revealClass: 'reveal-for-',\r\n\r\n  /**\r\n   * Triggers optional focus trapping when opening an offcanvas. Sets tabindex of [data-off-canvas-content] to -1 for accessibility purposes.\r\n   * @option\r\n   * @example true\r\n   */\r\n  trapFocus: false\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(OffCanvas, 'OffCanvas');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Orbit module.\r\n * @module foundation.orbit\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.motion\r\n * @requires foundation.util.timerAndImageLoader\r\n * @requires foundation.util.touch\r\n */\r\n\r\nclass Orbit {\r\n  /**\r\n  * Creates a new instance of an orbit carousel.\r\n  * @class\r\n  * @param {jQuery} element - jQuery object to make into an Orbit Carousel.\r\n  * @param {Object} options - Overrides to the default plugin settings.\r\n  */\r\n  constructor(element, options){\r\n    this.$element = element;\r\n    this.options = $.extend({}, Orbit.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Orbit');\r\n    Foundation.Keyboard.register('Orbit', {\r\n      'ltr': {\r\n        'ARROW_RIGHT': 'next',\r\n        'ARROW_LEFT': 'previous'\r\n      },\r\n      'rtl': {\r\n        'ARROW_LEFT': 'next',\r\n        'ARROW_RIGHT': 'previous'\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  * Initializes the plugin by creating jQuery collections, setting attributes, and starting the animation.\r\n  * @function\r\n  * @private\r\n  */\r\n  _init() {\r\n    this.$wrapper = this.$element.find(`.${this.options.containerClass}`);\r\n    this.$slides = this.$element.find(`.${this.options.slideClass}`);\r\n    var $images = this.$element.find('img'),\r\n    initActive = this.$slides.filter('.is-active');\r\n\r\n    if (!initActive.length) {\r\n      this.$slides.eq(0).addClass('is-active');\r\n    }\r\n\r\n    if (!this.options.useMUI) {\r\n      this.$slides.addClass('no-motionui');\r\n    }\r\n\r\n    if ($images.length) {\r\n      Foundation.onImagesLoaded($images, this._prepareForOrbit.bind(this));\r\n    } else {\r\n      this._prepareForOrbit();//hehe\r\n    }\r\n\r\n    if (this.options.bullets) {\r\n      this._loadBullets();\r\n    }\r\n\r\n    this._events();\r\n\r\n    if (this.options.autoPlay && this.$slides.length > 1) {\r\n      this.geoSync();\r\n    }\r\n\r\n    if (this.options.accessible) { // allow wrapper to be focusable to enable arrow navigation\r\n      this.$wrapper.attr('tabindex', 0);\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Creates a jQuery collection of bullets, if they are being used.\r\n  * @function\r\n  * @private\r\n  */\r\n  _loadBullets() {\r\n    this.$bullets = this.$element.find(`.${this.options.boxOfBullets}`).find('button');\r\n  }\r\n\r\n  /**\r\n  * Sets a `timer` object on the orbit, and starts the counter for the next slide.\r\n  * @function\r\n  */\r\n  geoSync() {\r\n    var _this = this;\r\n    this.timer = new Foundation.Timer(\r\n      this.$element,\r\n      {\r\n        duration: this.options.timerDelay,\r\n        infinite: false\r\n      },\r\n      function() {\r\n        _this.changeSlide(true);\r\n      });\r\n    this.timer.start();\r\n  }\r\n\r\n  /**\r\n  * Sets wrapper and slide heights for the orbit.\r\n  * @function\r\n  * @private\r\n  */\r\n  _prepareForOrbit() {\r\n    var _this = this;\r\n    this._setWrapperHeight(function(max){\r\n      _this._setSlideHeight(max);\r\n    });\r\n  }\r\n\r\n  /**\r\n  * Calulates the height of each slide in the collection, and uses the tallest one for the wrapper height.\r\n  * @function\r\n  * @private\r\n  * @param {Function} cb - a callback function to fire when complete.\r\n  */\r\n  _setWrapperHeight(cb) {//rewrite this to `for` loop\r\n    var max = 0, temp, counter = 0;\r\n\r\n    this.$slides.each(function() {\r\n      temp = this.getBoundingClientRect().height;\r\n      $(this).attr('data-slide', counter);\r\n\r\n      if (counter) {//if not the first slide, set css position and display property\r\n        $(this).css({'position': 'relative', 'display': 'none'});\r\n      }\r\n      max = temp > max ? temp : max;\r\n      counter++;\r\n    });\r\n\r\n    if (counter === this.$slides.length) {\r\n      this.$wrapper.css({'height': max}); //only change the wrapper height property once.\r\n      cb(max); //fire callback with max height dimension.\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Sets the max-height of each slide.\r\n  * @function\r\n  * @private\r\n  */\r\n  _setSlideHeight(height) {\r\n    this.$slides.each(function() {\r\n      $(this).css('max-height', height);\r\n    });\r\n  }\r\n\r\n  /**\r\n  * Adds event listeners to basically everything within the element.\r\n  * @function\r\n  * @private\r\n  */\r\n  _events() {\r\n    var _this = this;\r\n\r\n    //***************************************\r\n    //**Now using custom event - thanks to:**\r\n    //**      Yohai Ararat of Toronto      **\r\n    //***************************************\r\n    if (this.$slides.length > 1) {\r\n\r\n      if (this.options.swipe) {\r\n        this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit')\r\n        .on('swipeleft.zf.orbit', function(e){\r\n          e.preventDefault();\r\n          _this.changeSlide(true);\r\n        }).on('swiperight.zf.orbit', function(e){\r\n          e.preventDefault();\r\n          _this.changeSlide(false);\r\n        });\r\n      }\r\n      //***************************************\r\n\r\n      if (this.options.autoPlay) {\r\n        this.$slides.on('click.zf.orbit', function() {\r\n          _this.$element.data('clickedOn', _this.$element.data('clickedOn') ? false : true);\r\n          _this.timer[_this.$element.data('clickedOn') ? 'pause' : 'start']();\r\n        });\r\n\r\n        if (this.options.pauseOnHover) {\r\n          this.$element.on('mouseenter.zf.orbit', function() {\r\n            _this.timer.pause();\r\n          }).on('mouseleave.zf.orbit', function() {\r\n            if (!_this.$element.data('clickedOn')) {\r\n              _this.timer.start();\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      if (this.options.navButtons) {\r\n        var $controls = this.$element.find(`.${this.options.nextClass}, .${this.options.prevClass}`);\r\n        $controls.attr('tabindex', 0)\r\n        //also need to handle enter/return and spacebar key presses\r\n        .on('click.zf.orbit touchend.zf.orbit', function(e){\r\n\t  e.preventDefault();\r\n          _this.changeSlide($(this).hasClass(_this.options.nextClass));\r\n        });\r\n      }\r\n\r\n      if (this.options.bullets) {\r\n        this.$bullets.on('click.zf.orbit touchend.zf.orbit', function() {\r\n          if (/is-active/g.test(this.className)) { return false; }//if this is active, kick out of function.\r\n          var idx = $(this).data('slide'),\r\n          ltr = idx > _this.$slides.filter('.is-active').data('slide'),\r\n          $slide = _this.$slides.eq(idx);\r\n\r\n          _this.changeSlide(ltr, $slide, idx);\r\n        });\r\n      }\r\n      \r\n      if (this.options.accessible) {\r\n        this.$wrapper.add(this.$bullets).on('keydown.zf.orbit', function(e) {\r\n          // handle keyboard event with keyboard util\r\n          Foundation.Keyboard.handleKey(e, 'Orbit', {\r\n            next: function() {\r\n              _this.changeSlide(true);\r\n            },\r\n            previous: function() {\r\n              _this.changeSlide(false);\r\n            },\r\n            handled: function() { // if bullet is focused, make sure focus moves\r\n              if ($(e.target).is(_this.$bullets)) {\r\n                _this.$bullets.filter('.is-active').focus();\r\n              }\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Changes the current slide to a new one.\r\n  * @function\r\n  * @param {Boolean} isLTR - flag if the slide should move left to right.\r\n  * @param {jQuery} chosenSlide - the jQuery element of the slide to show next, if one is selected.\r\n  * @param {Number} idx - the index of the new slide in its collection, if one chosen.\r\n  * @fires Orbit#slidechange\r\n  */\r\n  changeSlide(isLTR, chosenSlide, idx) {\r\n    var $curSlide = this.$slides.filter('.is-active').eq(0);\r\n\r\n    if (/mui/g.test($curSlide[0].className)) { return false; } //if the slide is currently animating, kick out of the function\r\n\r\n    var $firstSlide = this.$slides.first(),\r\n    $lastSlide = this.$slides.last(),\r\n    dirIn = isLTR ? 'Right' : 'Left',\r\n    dirOut = isLTR ? 'Left' : 'Right',\r\n    _this = this,\r\n    $newSlide;\r\n\r\n    if (!chosenSlide) { //most of the time, this will be auto played or clicked from the navButtons.\r\n      $newSlide = isLTR ? //if wrapping enabled, check to see if there is a `next` or `prev` sibling, if not, select the first or last slide to fill in. if wrapping not enabled, attempt to select `next` or `prev`, if there's nothing there, the function will kick out on next step. CRAZY NESTED TERNARIES!!!!!\r\n      (this.options.infiniteWrap ? $curSlide.next(`.${this.options.slideClass}`).length ? $curSlide.next(`.${this.options.slideClass}`) : $firstSlide : $curSlide.next(`.${this.options.slideClass}`))//pick next slide if moving left to right\r\n      :\r\n      (this.options.infiniteWrap ? $curSlide.prev(`.${this.options.slideClass}`).length ? $curSlide.prev(`.${this.options.slideClass}`) : $lastSlide : $curSlide.prev(`.${this.options.slideClass}`));//pick prev slide if moving right to left\r\n    } else {\r\n      $newSlide = chosenSlide;\r\n    }\r\n\r\n    if ($newSlide.length) {\r\n      /**\r\n      * Triggers before the next slide starts animating in and only if a next slide has been found.\r\n      * @event Orbit#beforeslidechange\r\n      */\r\n      this.$element.trigger('beforeslidechange.zf.orbit', [$curSlide, $newSlide]);\r\n      \r\n      if (this.options.bullets) {\r\n        idx = idx || this.$slides.index($newSlide); //grab index to update bullets\r\n        this._updateBullets(idx);\r\n      }\r\n\r\n      if (this.options.useMUI) {\r\n        Foundation.Motion.animateIn(\r\n          $newSlide.addClass('is-active').css({'position': 'absolute', 'top': 0}),\r\n          this.options[`animInFrom${dirIn}`],\r\n          function(){\r\n            $newSlide.css({'position': 'relative', 'display': 'block'})\r\n            .attr('aria-live', 'polite');\r\n        });\r\n\r\n        Foundation.Motion.animateOut(\r\n          $curSlide.removeClass('is-active'),\r\n          this.options[`animOutTo${dirOut}`],\r\n          function(){\r\n            $curSlide.removeAttr('aria-live');\r\n            if(_this.options.autoPlay && !_this.timer.isPaused){\r\n              _this.timer.restart();\r\n            }\r\n            //do stuff?\r\n          });\r\n      } else {\r\n        $curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();\r\n        $newSlide.addClass('is-active is-in').attr('aria-live', 'polite').show();\r\n        if (this.options.autoPlay && !this.timer.isPaused) {\r\n          this.timer.restart();\r\n        }\r\n      }\r\n    /**\r\n    * Triggers when the slide has finished animating in.\r\n    * @event Orbit#slidechange\r\n    */\r\n      this.$element.trigger('slidechange.zf.orbit', [$newSlide]);\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Updates the active state of the bullets, if displayed.\r\n  * @function\r\n  * @private\r\n  * @param {Number} idx - the index of the current slide.\r\n  */\r\n  _updateBullets(idx) {\r\n    var $oldBullet = this.$element.find(`.${this.options.boxOfBullets}`)\r\n    .find('.is-active').removeClass('is-active').blur(),\r\n    span = $oldBullet.find('span:last').detach(),\r\n    $newBullet = this.$bullets.eq(idx).addClass('is-active').append(span);\r\n  }\r\n\r\n  /**\r\n  * Destroys the carousel and hides the element.\r\n  * @function\r\n  */\r\n  destroy() {\r\n    this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nOrbit.defaults = {\r\n  /**\r\n  * Tells the JS to look for and loadBullets.\r\n  * @option\r\n  * @example true\r\n  */\r\n  bullets: true,\r\n  /**\r\n  * Tells the JS to apply event listeners to nav buttons\r\n  * @option\r\n  * @example true\r\n  */\r\n  navButtons: true,\r\n  /**\r\n  * motion-ui animation class to apply\r\n  * @option\r\n  * @example 'slide-in-right'\r\n  */\r\n  animInFromRight: 'slide-in-right',\r\n  /**\r\n  * motion-ui animation class to apply\r\n  * @option\r\n  * @example 'slide-out-right'\r\n  */\r\n  animOutToRight: 'slide-out-right',\r\n  /**\r\n  * motion-ui animation class to apply\r\n  * @option\r\n  * @example 'slide-in-left'\r\n  *\r\n  */\r\n  animInFromLeft: 'slide-in-left',\r\n  /**\r\n  * motion-ui animation class to apply\r\n  * @option\r\n  * @example 'slide-out-left'\r\n  */\r\n  animOutToLeft: 'slide-out-left',\r\n  /**\r\n  * Allows Orbit to automatically animate on page load.\r\n  * @option\r\n  * @example true\r\n  */\r\n  autoPlay: true,\r\n  /**\r\n  * Amount of time, in ms, between slide transitions\r\n  * @option\r\n  * @example 5000\r\n  */\r\n  timerDelay: 5000,\r\n  /**\r\n  * Allows Orbit to infinitely loop through the slides\r\n  * @option\r\n  * @example true\r\n  */\r\n  infiniteWrap: true,\r\n  /**\r\n  * Allows the Orbit slides to bind to swipe events for mobile, requires an additional util library\r\n  * @option\r\n  * @example true\r\n  */\r\n  swipe: true,\r\n  /**\r\n  * Allows the timing function to pause animation on hover.\r\n  * @option\r\n  * @example true\r\n  */\r\n  pauseOnHover: true,\r\n  /**\r\n  * Allows Orbit to bind keyboard events to the slider, to animate frames with arrow keys\r\n  * @option\r\n  * @example true\r\n  */\r\n  accessible: true,\r\n  /**\r\n  * Class applied to the container of Orbit\r\n  * @option\r\n  * @example 'orbit-container'\r\n  */\r\n  containerClass: 'orbit-container',\r\n  /**\r\n  * Class applied to individual slides.\r\n  * @option\r\n  * @example 'orbit-slide'\r\n  */\r\n  slideClass: 'orbit-slide',\r\n  /**\r\n  * Class applied to the bullet container. You're welcome.\r\n  * @option\r\n  * @example 'orbit-bullets'\r\n  */\r\n  boxOfBullets: 'orbit-bullets',\r\n  /**\r\n  * Class applied to the `next` navigation button.\r\n  * @option\r\n  * @example 'orbit-next'\r\n  */\r\n  nextClass: 'orbit-next',\r\n  /**\r\n  * Class applied to the `previous` navigation button.\r\n  * @option\r\n  * @example 'orbit-previous'\r\n  */\r\n  prevClass: 'orbit-previous',\r\n  /**\r\n  * Boolean to flag the js to use motion ui classes or not. Default to true for backwards compatability.\r\n  * @option\r\n  * @example true\r\n  */\r\n  useMUI: true\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Orbit, 'Orbit');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * ResponsiveMenu module.\r\n * @module foundation.responsiveMenu\r\n * @requires foundation.util.triggers\r\n * @requires foundation.util.mediaQuery\r\n * @requires foundation.util.accordionMenu\r\n * @requires foundation.util.drilldown\r\n * @requires foundation.util.dropdown-menu\r\n */\r\n\r\nclass ResponsiveMenu {\r\n  /**\r\n   * Creates a new instance of a responsive menu.\r\n   * @class\r\n   * @fires ResponsiveMenu#init\r\n   * @param {jQuery} element - jQuery object to make into a dropdown menu.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = $(element);\r\n    this.rules = this.$element.data('responsive-menu');\r\n    this.currentMq = null;\r\n    this.currentPlugin = null;\r\n\r\n    this._init();\r\n    this._events();\r\n\r\n    Foundation.registerPlugin(this, 'ResponsiveMenu');\r\n  }\r\n\r\n  /**\r\n   * Initializes the Menu by parsing the classes from the 'data-ResponsiveMenu' attribute on the element.\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    // The first time an Interchange plugin is initialized, this.rules is converted from a string of \"classes\" to an object of rules\r\n    if (typeof this.rules === 'string') {\r\n      let rulesTree = {};\r\n\r\n      // Parse rules from \"classes\" pulled from data attribute\r\n      let rules = this.rules.split(' ');\r\n\r\n      // Iterate through every rule found\r\n      for (let i = 0; i < rules.length; i++) {\r\n        let rule = rules[i].split('-');\r\n        let ruleSize = rule.length > 1 ? rule[0] : 'small';\r\n        let rulePlugin = rule.length > 1 ? rule[1] : rule[0];\r\n\r\n        if (MenuPlugins[rulePlugin] !== null) {\r\n          rulesTree[ruleSize] = MenuPlugins[rulePlugin];\r\n        }\r\n      }\r\n\r\n      this.rules = rulesTree;\r\n    }\r\n\r\n    if (!$.isEmptyObject(this.rules)) {\r\n      this._checkMediaQueries();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initializes events for the Menu.\r\n   * @function\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n\r\n    $(window).on('changed.zf.mediaquery', function() {\r\n      _this._checkMediaQueries();\r\n    });\r\n    // $(window).on('resize.zf.ResponsiveMenu', function() {\r\n    //   _this._checkMediaQueries();\r\n    // });\r\n  }\r\n\r\n  /**\r\n   * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\r\n   * @function\r\n   * @private\r\n   */\r\n  _checkMediaQueries() {\r\n    var matchedMq, _this = this;\r\n    // Iterate through each rule and find the last matching rule\r\n    $.each(this.rules, function(key) {\r\n      if (Foundation.MediaQuery.atLeast(key)) {\r\n        matchedMq = key;\r\n      }\r\n    });\r\n\r\n    // No match? No dice\r\n    if (!matchedMq) return;\r\n\r\n    // Plugin already initialized? We good\r\n    if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;\r\n\r\n    // Remove existing plugin-specific CSS classes\r\n    $.each(MenuPlugins, function(key, value) {\r\n      _this.$element.removeClass(value.cssClass);\r\n    });\r\n\r\n    // Add the CSS class for the new plugin\r\n    this.$element.addClass(this.rules[matchedMq].cssClass);\r\n\r\n    // Create an instance of the new plugin\r\n    if (this.currentPlugin) this.currentPlugin.destroy();\r\n    this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\r\n  }\r\n\r\n  /**\r\n   * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.currentPlugin.destroy();\r\n    $(window).off('.zf.ResponsiveMenu');\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nResponsiveMenu.defaults = {};\r\n\r\n// The plugin matches the plugin classes with these plugin instances.\r\nvar MenuPlugins = {\r\n  dropdown: {\r\n    cssClass: 'dropdown',\r\n    plugin: Foundation._plugins['dropdown-menu'] || null\r\n  },\r\n drilldown: {\r\n    cssClass: 'drilldown',\r\n    plugin: Foundation._plugins['drilldown'] || null\r\n  },\r\n  accordion: {\r\n    cssClass: 'accordion-menu',\r\n    plugin: Foundation._plugins['accordion-menu'] || null\r\n  }\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(ResponsiveMenu, 'ResponsiveMenu');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * ResponsiveToggle module.\r\n * @module foundation.responsiveToggle\r\n * @requires foundation.util.mediaQuery\r\n */\r\n\r\nclass ResponsiveToggle {\r\n  /**\r\n   * Creates a new instance of Tab Bar.\r\n   * @class\r\n   * @fires ResponsiveToggle#init\r\n   * @param {jQuery} element - jQuery object to attach tab bar functionality to.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = $(element);\r\n    this.options = $.extend({}, ResponsiveToggle.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n    this._events();\r\n\r\n    Foundation.registerPlugin(this, 'ResponsiveToggle');\r\n  }\r\n\r\n  /**\r\n   * Initializes the tab bar by finding the target element, toggling element, and running update().\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    var targetID = this.$element.data('responsive-toggle');\r\n    if (!targetID) {\r\n      console.error('Your tab bar needs an ID of a Menu as the value of data-tab-bar.');\r\n    }\r\n\r\n    this.$targetMenu = $(`#${targetID}`);\r\n    this.$toggler = this.$element.find('[data-toggle]');\r\n\r\n    this._update();\r\n  }\r\n\r\n  /**\r\n   * Adds necessary event handlers for the tab bar to work.\r\n   * @function\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n\r\n    this._updateMqHandler = this._update.bind(this);\r\n    \r\n    $(window).on('changed.zf.mediaquery', this._updateMqHandler);\r\n\r\n    this.$toggler.on('click.zf.responsiveToggle', this.toggleMenu.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Checks the current media query to determine if the tab bar should be visible or hidden.\r\n   * @function\r\n   * @private\r\n   */\r\n  _update() {\r\n    // Mobile\r\n    if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {\r\n      this.$element.show();\r\n      this.$targetMenu.hide();\r\n    }\r\n\r\n    // Desktop\r\n    else {\r\n      this.$element.hide();\r\n      this.$targetMenu.show();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles the element attached to the tab bar. The toggle only happens if the screen is small enough to allow it.\r\n   * @function\r\n   * @fires ResponsiveToggle#toggled\r\n   */\r\n  toggleMenu() {   \r\n    if (!Foundation.MediaQuery.atLeast(this.options.hideFor)) {\r\n      this.$targetMenu.toggle(0);\r\n\r\n      /**\r\n       * Fires when the element attached to the tab bar toggles.\r\n       * @event ResponsiveToggle#toggled\r\n       */\r\n      this.$element.trigger('toggled.zf.responsiveToggle');\r\n    }\r\n  };\r\n\r\n  destroy() {\r\n    this.$element.off('.zf.responsiveToggle');\r\n    this.$toggler.off('.zf.responsiveToggle');\r\n    \r\n    $(window).off('changed.zf.mediaquery', this._updateMqHandler);\r\n    \r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nResponsiveToggle.defaults = {\r\n  /**\r\n   * The breakpoint after which the menu is always shown, and the tab bar is hidden.\r\n   * @option\r\n   * @example 'medium'\r\n   */\r\n  hideFor: 'medium'\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(ResponsiveToggle, 'ResponsiveToggle');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Reveal module.\r\n * @module foundation.reveal\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.box\r\n * @requires foundation.util.triggers\r\n * @requires foundation.util.mediaQuery\r\n * @requires foundation.util.motion if using animations\r\n */\r\n\r\nclass Reveal {\r\n  /**\r\n   * Creates a new instance of Reveal.\r\n   * @class\r\n   * @param {jQuery} element - jQuery object to use for the modal.\r\n   * @param {Object} options - optional parameters.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Reveal.defaults, this.$element.data(), options);\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Reveal');\r\n    Foundation.Keyboard.register('Reveal', {\r\n      'ENTER': 'open',\r\n      'SPACE': 'open',\r\n      'ESCAPE': 'close',\r\n      'TAB': 'tab_forward',\r\n      'SHIFT_TAB': 'tab_backward'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes the modal by adding the overlay and close buttons, (if selected).\r\n   * @private\r\n   */\r\n  _init() {\r\n    this.id = this.$element.attr('id');\r\n    this.isActive = false;\r\n    this.cached = {mq: Foundation.MediaQuery.current};\r\n    this.isMobile = mobileSniff();\r\n\r\n    this.$anchor = $(`[data-open=\"${this.id}\"]`).length ? $(`[data-open=\"${this.id}\"]`) : $(`[data-toggle=\"${this.id}\"]`);\r\n    this.$anchor.attr({\r\n      'aria-controls': this.id,\r\n      'aria-haspopup': true,\r\n      'tabindex': 0\r\n    });\r\n\r\n    if (this.options.fullScreen || this.$element.hasClass('full')) {\r\n      this.options.fullScreen = true;\r\n      this.options.overlay = false;\r\n    }\r\n    if (this.options.overlay && !this.$overlay) {\r\n      this.$overlay = this._makeOverlay(this.id);\r\n    }\r\n\r\n    this.$element.attr({\r\n        'role': 'dialog',\r\n        'aria-hidden': true,\r\n        'data-yeti-box': this.id,\r\n        'data-resize': this.id\r\n    });\r\n\r\n    if(this.$overlay) {\r\n      this.$element.detach().appendTo(this.$overlay);\r\n    } else {\r\n      this.$element.detach().appendTo($('body'));\r\n      this.$element.addClass('without-overlay');\r\n    }\r\n    this._events();\r\n    if (this.options.deepLink && window.location.hash === ( `#${this.id}`)) {\r\n      $(window).one('load.zf.reveal', this.open.bind(this));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates an overlay div to display behind the modal.\r\n   * @private\r\n   */\r\n  _makeOverlay(id) {\r\n    var $overlay = $('<div></div>')\r\n                    .addClass('reveal-overlay')\r\n                    .appendTo('body');\r\n    return $overlay;\r\n  }\r\n\r\n  /**\r\n   * Updates position of modal\r\n   * TODO:  Figure out if we actually need to cache these values or if it doesn't matter\r\n   * @private\r\n   */\r\n  _updatePosition() {\r\n    var width = this.$element.outerWidth();\r\n    var outerWidth = $(window).width();\r\n    var height = this.$element.outerHeight();\r\n    var outerHeight = $(window).height();\r\n    var left, top;\r\n    if (this.options.hOffset === 'auto') {\r\n      left = parseInt((outerWidth - width) / 2, 10);\r\n    } else {\r\n      left = parseInt(this.options.hOffset, 10);\r\n    }\r\n    if (this.options.vOffset === 'auto') {\r\n      if (height > outerHeight) {\r\n        top = parseInt(Math.min(100, outerHeight / 10), 10);\r\n      } else {\r\n        top = parseInt((outerHeight - height) / 4, 10);\r\n      }\r\n    } else {\r\n      top = parseInt(this.options.vOffset, 10);\r\n    }\r\n    this.$element.css({top: top + 'px'});\r\n    // only worry about left if we don't have an overlay or we havea  horizontal offset,\r\n    // otherwise we're perfectly in the middle\r\n    if(!this.$overlay || (this.options.hOffset !== 'auto')) {\r\n      this.$element.css({left: left + 'px'});\r\n      this.$element.css({margin: '0px'});\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers for the modal.\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n\r\n    this.$element.on({\r\n      'open.zf.trigger': this.open.bind(this),\r\n      'close.zf.trigger': (event, $element) => {\r\n        if ((event.target === _this.$element[0]) ||\r\n            ($(event.target).parents('[data-closable]')[0] === $element)) { // only close reveal when it's explicitly called\r\n          return this.close.apply(this);\r\n        }\r\n      },\r\n      'toggle.zf.trigger': this.toggle.bind(this),\r\n      'resizeme.zf.trigger': function() {\r\n        _this._updatePosition();\r\n      }\r\n    });\r\n\r\n    if (this.$anchor.length) {\r\n      this.$anchor.on('keydown.zf.reveal', function(e) {\r\n        if (e.which === 13 || e.which === 32) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n          _this.open();\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.options.closeOnClick && this.options.overlay) {\r\n      this.$overlay.off('.zf.reveal').on('click.zf.reveal', function(e) {\r\n        if (e.target === _this.$element[0] || \r\n          $.contains(_this.$element[0], e.target) || \r\n            !$.contains(document, e.target)) { \r\n              return; \r\n        }\r\n        _this.close();\r\n      });\r\n    }\r\n    if (this.options.deepLink) {\r\n      $(window).on(`popstate.zf.reveal:${this.id}`, this._handleState.bind(this));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles modal methods on back/forward button clicks or any other event that triggers popstate.\r\n   * @private\r\n   */\r\n  _handleState(e) {\r\n    if(window.location.hash === ( '#' + this.id) && !this.isActive){ this.open(); }\r\n    else{ this.close(); }\r\n  }\r\n\r\n\r\n  /**\r\n   * Opens the modal controlled by `this.$anchor`, and closes all others by default.\r\n   * @function\r\n   * @fires Reveal#closeme\r\n   * @fires Reveal#open\r\n   */\r\n  open() {\r\n    if (this.options.deepLink) {\r\n      var hash = `#${this.id}`;\r\n\r\n      if (window.history.pushState) {\r\n        window.history.pushState(null, null, hash);\r\n      } else {\r\n        window.location.hash = hash;\r\n      }\r\n    }\r\n\r\n    this.isActive = true;\r\n\r\n    // Make elements invisible, but remove display: none so we can get size and positioning\r\n    this.$element\r\n        .css({ 'visibility': 'hidden' })\r\n        .show()\r\n        .scrollTop(0);\r\n    if (this.options.overlay) {\r\n      this.$overlay.css({'visibility': 'hidden'}).show();\r\n    }\r\n\r\n    this._updatePosition();\r\n\r\n    this.$element\r\n      .hide()\r\n      .css({ 'visibility': '' });\r\n\r\n    if(this.$overlay) {\r\n      this.$overlay.css({'visibility': ''}).hide();\r\n      if(this.$element.hasClass('fast')) {\r\n        this.$overlay.addClass('fast');\r\n      } else if (this.$element.hasClass('slow')) {\r\n        this.$overlay.addClass('slow');\r\n      }\r\n    }\r\n\r\n\r\n    if (!this.options.multipleOpened) {\r\n      /**\r\n       * Fires immediately before the modal opens.\r\n       * Closes any other modals that are currently open\r\n       * @event Reveal#closeme\r\n       */\r\n      this.$element.trigger('closeme.zf.reveal', this.id);\r\n    }\r\n    // Motion UI method of reveal\r\n    if (this.options.animationIn) {\r\n      var _this = this;\r\n      function afterAnimationFocus(){\r\n        _this.$element\r\n          .attr({\r\n            'aria-hidden': false,\r\n            'tabindex': -1\r\n          })\r\n          .focus();\r\n      }\r\n      if (this.options.overlay) {\r\n        Foundation.Motion.animateIn(this.$overlay, 'fade-in');\r\n      }\r\n      Foundation.Motion.animateIn(this.$element, this.options.animationIn, () => {\r\n        this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\r\n        afterAnimationFocus();\r\n      });\r\n    }\r\n    // jQuery method of reveal\r\n    else {\r\n      if (this.options.overlay) {\r\n        this.$overlay.show(0);\r\n      }\r\n      this.$element.show(this.options.showDelay);\r\n    }\r\n\r\n    // handle accessibility\r\n    this.$element\r\n      .attr({\r\n        'aria-hidden': false,\r\n        'tabindex': -1\r\n      })\r\n      .focus();\r\n\r\n    /**\r\n     * Fires when the modal has successfully opened.\r\n     * @event Reveal#open\r\n     */\r\n    this.$element.trigger('open.zf.reveal');\r\n\r\n    if (this.isMobile) {\r\n      this.originalScrollPos = window.pageYOffset;\r\n      $('html, body').addClass('is-reveal-open');\r\n    }\r\n    else {\r\n      $('body').addClass('is-reveal-open');\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this._extraHandlers();\r\n    }, 0);\r\n  }\r\n\r\n  /**\r\n   * Adds extra event handlers for the body and window if necessary.\r\n   * @private\r\n   */\r\n  _extraHandlers() {\r\n    var _this = this;\r\n    this.focusableElements = Foundation.Keyboard.findFocusable(this.$element);\r\n\r\n    if (!this.options.overlay && this.options.closeOnClick && !this.options.fullScreen) {\r\n      $('body').on('click.zf.reveal', function(e) {\r\n        if (e.target === _this.$element[0] || \r\n          $.contains(_this.$element[0], e.target) || \r\n            !$.contains(document, e.target)) { return; }\r\n        _this.close();\r\n      });\r\n    }\r\n\r\n    if (this.options.closeOnEsc) {\r\n      $(window).on('keydown.zf.reveal', function(e) {\r\n        Foundation.Keyboard.handleKey(e, 'Reveal', {\r\n          close: function() {\r\n            if (_this.options.closeOnEsc) {\r\n              _this.close();\r\n              _this.$anchor.focus();\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    // lock focus within modal while tabbing\r\n    this.$element.on('keydown.zf.reveal', function(e) {\r\n      var $target = $(this);\r\n      // handle keyboard event with keyboard util\r\n      Foundation.Keyboard.handleKey(e, 'Reveal', {\r\n        tab_forward: function() {\r\n          _this.focusableElements = Foundation.Keyboard.findFocusable(_this.$element);\r\n          if (_this.$element.find(':focus').is(_this.focusableElements.eq(-1))) { // left modal downwards, setting focus to first element\r\n            _this.focusableElements.eq(0).focus();\r\n            return true;\r\n          }\r\n          if (_this.focusableElements.length === 0) { // no focusable elements inside the modal at all, prevent tabbing in general\r\n            return true;\r\n          }\r\n        },\r\n        tab_backward: function() {\r\n          _this.focusableElements = Foundation.Keyboard.findFocusable(_this.$element);\r\n          if (_this.$element.find(':focus').is(_this.focusableElements.eq(0)) || _this.$element.is(':focus')) { // left modal upwards, setting focus to last element\r\n            _this.focusableElements.eq(-1).focus();\r\n            return true;\r\n          }\r\n          if (_this.focusableElements.length === 0) { // no focusable elements inside the modal at all, prevent tabbing in general\r\n            return true;\r\n          }\r\n        },\r\n        open: function() {\r\n          if (_this.$element.find(':focus').is(_this.$element.find('[data-close]'))) {\r\n            setTimeout(function() { // set focus back to anchor if close button has been activated\r\n              _this.$anchor.focus();\r\n            }, 1);\r\n          } else if ($target.is(_this.focusableElements)) { // dont't trigger if acual element has focus (i.e. inputs, links, ...)\r\n            _this.open();\r\n          }\r\n        },\r\n        close: function() {\r\n          if (_this.options.closeOnEsc) {\r\n            _this.close();\r\n            _this.$anchor.focus();\r\n          }\r\n        },\r\n        handled: function(preventDefault) {\r\n          if (preventDefault) {\r\n            e.preventDefault();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Closes the modal.\r\n   * @function\r\n   * @fires Reveal#closed\r\n   */\r\n  close() {\r\n    if (!this.isActive || !this.$element.is(':visible')) {\r\n      return false;\r\n    }\r\n    var _this = this;\r\n\r\n    // Motion UI method of hiding\r\n    if (this.options.animationOut) {\r\n      if (this.options.overlay) {\r\n        Foundation.Motion.animateOut(this.$overlay, 'fade-out', finishUp);\r\n      }\r\n      else {\r\n        finishUp();\r\n      }\r\n\r\n      Foundation.Motion.animateOut(this.$element, this.options.animationOut);\r\n    }\r\n    // jQuery method of hiding\r\n    else {\r\n      if (this.options.overlay) {\r\n        this.$overlay.hide(0, finishUp);\r\n      }\r\n      else {\r\n        finishUp();\r\n      }\r\n\r\n      this.$element.hide(this.options.hideDelay);\r\n    }\r\n\r\n    // Conditionals to remove extra event listeners added on open\r\n    if (this.options.closeOnEsc) {\r\n      $(window).off('keydown.zf.reveal');\r\n    }\r\n\r\n    if (!this.options.overlay && this.options.closeOnClick) {\r\n      $('body').off('click.zf.reveal');\r\n    }\r\n\r\n    this.$element.off('keydown.zf.reveal');\r\n\r\n    function finishUp() {\r\n      if (_this.isMobile) {\r\n        $('html, body').removeClass('is-reveal-open');\r\n        if(_this.originalScrollPos) {\r\n          $('body').scrollTop(_this.originalScrollPos);\r\n          _this.originalScrollPos = null;\r\n        }\r\n      }\r\n      else {\r\n        $('body').removeClass('is-reveal-open');\r\n      }\r\n\r\n      _this.$element.attr('aria-hidden', true);\r\n\r\n      /**\r\n      * Fires when the modal is done closing.\r\n      * @event Reveal#closed\r\n      */\r\n      _this.$element.trigger('closed.zf.reveal');\r\n    }\r\n\r\n    /**\r\n    * Resets the modal content\r\n    * This prevents a running video to keep going in the background\r\n    */\r\n    if (this.options.resetOnClose) {\r\n      this.$element.html(this.$element.html());\r\n    }\r\n\r\n    this.isActive = false;\r\n     if (_this.options.deepLink) {\r\n       if (window.history.replaceState) {\r\n         window.history.replaceState(\"\", document.title, window.location.pathname);\r\n       } else {\r\n         window.location.hash = '';\r\n       }\r\n     }\r\n  }\r\n\r\n  /**\r\n   * Toggles the open/closed state of a modal.\r\n   * @function\r\n   */\r\n  toggle() {\r\n    if (this.isActive) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Destroys an instance of a modal.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    if (this.options.overlay) {\r\n      this.$element.appendTo($('body')); // move $element outside of $overlay to prevent error unregisterPlugin()\r\n      this.$overlay.hide().off().remove();\r\n    }\r\n    this.$element.hide().off();\r\n    this.$anchor.off('.zf');\r\n    $(window).off(`.zf.reveal:${this.id}`);\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  };\r\n}\r\n\r\nReveal.defaults = {\r\n  /**\r\n   * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\r\n   * @option\r\n   * @example 'slide-in-left'\r\n   */\r\n  animationIn: '',\r\n  /**\r\n   * Motion-UI class to use for animated elements. If none used, defaults to simple show/hide.\r\n   * @option\r\n   * @example 'slide-out-right'\r\n   */\r\n  animationOut: '',\r\n  /**\r\n   * Time, in ms, to delay the opening of a modal after a click if no animation used.\r\n   * @option\r\n   * @example 10\r\n   */\r\n  showDelay: 0,\r\n  /**\r\n   * Time, in ms, to delay the closing of a modal after a click if no animation used.\r\n   * @option\r\n   * @example 10\r\n   */\r\n  hideDelay: 0,\r\n  /**\r\n   * Allows a click on the body/overlay to close the modal.\r\n   * @option\r\n   * @example true\r\n   */\r\n  closeOnClick: true,\r\n  /**\r\n   * Allows the modal to close if the user presses the `ESCAPE` key.\r\n   * @option\r\n   * @example true\r\n   */\r\n  closeOnEsc: true,\r\n  /**\r\n   * If true, allows multiple modals to be displayed at once.\r\n   * @option\r\n   * @example false\r\n   */\r\n  multipleOpened: false,\r\n  /**\r\n   * Distance, in pixels, the modal should push down from the top of the screen.\r\n   * @option\r\n   * @example auto\r\n   */\r\n  vOffset: 'auto',\r\n  /**\r\n   * Distance, in pixels, the modal should push in from the side of the screen.\r\n   * @option\r\n   * @example auto\r\n   */\r\n  hOffset: 'auto',\r\n  /**\r\n   * Allows the modal to be fullscreen, completely blocking out the rest of the view. JS checks for this as well.\r\n   * @option\r\n   * @example false\r\n   */\r\n  fullScreen: false,\r\n  /**\r\n   * Percentage of screen height the modal should push up from the bottom of the view.\r\n   * @option\r\n   * @example 10\r\n   */\r\n  btmOffsetPct: 10,\r\n  /**\r\n   * Allows the modal to generate an overlay div, which will cover the view when modal opens.\r\n   * @option\r\n   * @example true\r\n   */\r\n  overlay: true,\r\n  /**\r\n   * Allows the modal to remove and reinject markup on close. Should be true if using video elements w/o using provider's api, otherwise, videos will continue to play in the background.\r\n   * @option\r\n   * @example false\r\n   */\r\n  resetOnClose: false,\r\n  /**\r\n   * Allows the modal to alter the url on open/close, and allows the use of the `back` button to close modals. ALSO, allows a modal to auto-maniacally open on page load IF the hash === the modal's user-set id.\r\n   * @option\r\n   * @example false\r\n   */\r\n  deepLink: false\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Reveal, 'Reveal');\r\n\r\nfunction iPhoneSniff() {\r\n  return /iP(ad|hone|od).*OS/.test(window.navigator.userAgent);\r\n}\r\n\r\nfunction androidSniff() {\r\n  return /Android/.test(window.navigator.userAgent);\r\n}\r\n\r\nfunction mobileSniff() {\r\n  return iPhoneSniff() || androidSniff();\r\n}\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Slider module.\r\n * @module foundation.slider\r\n * @requires foundation.util.motion\r\n * @requires foundation.util.triggers\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.touch\r\n */\r\n\r\nclass Slider {\r\n  /**\r\n   * Creates a new instance of a drilldown menu.\r\n   * @class\r\n   * @param {jQuery} element - jQuery object to make into an accordion menu.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Slider.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Slider');\r\n    Foundation.Keyboard.register('Slider', {\r\n      'ltr': {\r\n        'ARROW_RIGHT': 'increase',\r\n        'ARROW_UP': 'increase',\r\n        'ARROW_DOWN': 'decrease',\r\n        'ARROW_LEFT': 'decrease',\r\n        'SHIFT_ARROW_RIGHT': 'increase_fast',\r\n        'SHIFT_ARROW_UP': 'increase_fast',\r\n        'SHIFT_ARROW_DOWN': 'decrease_fast',\r\n        'SHIFT_ARROW_LEFT': 'decrease_fast'\r\n      },\r\n      'rtl': {\r\n        'ARROW_LEFT': 'increase',\r\n        'ARROW_RIGHT': 'decrease',\r\n        'SHIFT_ARROW_LEFT': 'increase_fast',\r\n        'SHIFT_ARROW_RIGHT': 'decrease_fast'\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initilizes the plugin by reading/setting attributes, creating collections and setting the initial position of the handle(s).\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    this.inputs = this.$element.find('input');\r\n    this.handles = this.$element.find('[data-slider-handle]');\r\n\r\n    this.$handle = this.handles.eq(0);\r\n    this.$input = this.inputs.length ? this.inputs.eq(0) : $(`#${this.$handle.attr('aria-controls')}`);\r\n    this.$fill = this.$element.find('[data-slider-fill]').css(this.options.vertical ? 'height' : 'width', 0);\r\n\r\n    var isDbl = false,\r\n        _this = this;\r\n    if (this.options.disabled || this.$element.hasClass(this.options.disabledClass)) {\r\n      this.options.disabled = true;\r\n      this.$element.addClass(this.options.disabledClass);\r\n    }\r\n    if (!this.inputs.length) {\r\n      this.inputs = $().add(this.$input);\r\n      this.options.binding = true;\r\n    }\r\n    this._setInitAttr(0);\r\n    this._events(this.$handle);\r\n\r\n    if (this.handles[1]) {\r\n      this.options.doubleSided = true;\r\n      this.$handle2 = this.handles.eq(1);\r\n      this.$input2 = this.inputs.length > 1 ? this.inputs.eq(1) : $(`#${this.$handle2.attr('aria-controls')}`);\r\n\r\n      if (!this.inputs[1]) {\r\n        this.inputs = this.inputs.add(this.$input2);\r\n      }\r\n      isDbl = true;\r\n\r\n      this._setHandlePos(this.$handle, this.options.initialStart, true, function() {\r\n\r\n        _this._setHandlePos(_this.$handle2, _this.options.initialEnd, true);\r\n      });\r\n      // this.$handle.triggerHandler('click.zf.slider');\r\n      this._setInitAttr(1);\r\n      this._events(this.$handle2);\r\n    }\r\n\r\n    if (!isDbl) {\r\n      this._setHandlePos(this.$handle, this.options.initialStart, true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets the position of the selected handle and fill bar.\r\n   * @function\r\n   * @private\r\n   * @param {jQuery} $hndl - the selected handle to move.\r\n   * @param {Number} location - floating point between the start and end values of the slider bar.\r\n   * @param {Function} cb - callback function to fire on completion.\r\n   * @fires Slider#moved\r\n   * @fires Slider#changed\r\n   */\r\n  _setHandlePos($hndl, location, noInvert, cb) {\r\n    // don't move if the slider has been disabled since its initialization\r\n    if (this.$element.hasClass(this.options.disabledClass)) {\r\n      return;\r\n    }\r\n    //might need to alter that slightly for bars that will have odd number selections.\r\n    location = parseFloat(location);//on input change events, convert string to number...grumble.\r\n\r\n    // prevent slider from running out of bounds, if value exceeds the limits set through options, override the value to min/max\r\n    if (location < this.options.start) { location = this.options.start; }\r\n    else if (location > this.options.end) { location = this.options.end; }\r\n\r\n    var isDbl = this.options.doubleSided;\r\n\r\n    if (isDbl) { //this block is to prevent 2 handles from crossing eachother. Could/should be improved.\r\n      if (this.handles.index($hndl) === 0) {\r\n        var h2Val = parseFloat(this.$handle2.attr('aria-valuenow'));\r\n        location = location >= h2Val ? h2Val - this.options.step : location;\r\n      } else {\r\n        var h1Val = parseFloat(this.$handle.attr('aria-valuenow'));\r\n        location = location <= h1Val ? h1Val + this.options.step : location;\r\n      }\r\n    }\r\n\r\n    //this is for single-handled vertical sliders, it adjusts the value to account for the slider being \"upside-down\"\r\n    //for click and drag events, it's weird due to the scale(-1, 1) css property\r\n    if (this.options.vertical && !noInvert) {\r\n      location = this.options.end - location;\r\n    }\r\n\r\n    var _this = this,\r\n        vert = this.options.vertical,\r\n        hOrW = vert ? 'height' : 'width',\r\n        lOrT = vert ? 'top' : 'left',\r\n        handleDim = $hndl[0].getBoundingClientRect()[hOrW],\r\n        elemDim = this.$element[0].getBoundingClientRect()[hOrW],\r\n        //percentage of bar min/max value based on click or drag point\r\n        pctOfBar = percent(location - this.options.start, this.options.end - this.options.start).toFixed(2),\r\n        //number of actual pixels to shift the handle, based on the percentage obtained above\r\n        pxToMove = (elemDim - handleDim) * pctOfBar,\r\n        //percentage of bar to shift the handle\r\n        movement = (percent(pxToMove, elemDim) * 100).toFixed(this.options.decimal);\r\n        //fixing the decimal value for the location number, is passed to other methods as a fixed floating-point value\r\n        location = parseFloat(location.toFixed(this.options.decimal));\r\n        // declare empty object for css adjustments, only used with 2 handled-sliders\r\n    var css = {};\r\n\r\n    this._setValues($hndl, location);\r\n\r\n    // TODO update to calculate based on values set to respective inputs??\r\n    if (isDbl) {\r\n      var isLeftHndl = this.handles.index($hndl) === 0,\r\n          //empty variable, will be used for min-height/width for fill bar\r\n          dim,\r\n          //percentage w/h of the handle compared to the slider bar\r\n          handlePct =  ~~(percent(handleDim, elemDim) * 100);\r\n      //if left handle, the math is slightly different than if it's the right handle, and the left/top property needs to be changed for the fill bar\r\n      if (isLeftHndl) {\r\n        //left or top percentage value to apply to the fill bar.\r\n        css[lOrT] = `${movement}%`;\r\n        //calculate the new min-height/width for the fill bar.\r\n        dim = parseFloat(this.$handle2[0].style[lOrT]) - movement + handlePct;\r\n        //this callback is necessary to prevent errors and allow the proper placement and initialization of a 2-handled slider\r\n        //plus, it means we don't care if 'dim' isNaN on init, it won't be in the future.\r\n        if (cb && typeof cb === 'function') { cb(); }//this is only needed for the initialization of 2 handled sliders\r\n      } else {\r\n        //just caching the value of the left/bottom handle's left/top property\r\n        var handlePos = parseFloat(this.$handle[0].style[lOrT]);\r\n        //calculate the new min-height/width for the fill bar. Use isNaN to prevent false positives for numbers <= 0\r\n        //based on the percentage of movement of the handle being manipulated, less the opposing handle's left/top position, plus the percentage w/h of the handle itself\r\n        dim = movement - (isNaN(handlePos) ? this.options.initialStart/((this.options.end-this.options.start)/100) : handlePos) + handlePct;\r\n      }\r\n      // assign the min-height/width to our css object\r\n      css[`min-${hOrW}`] = `${dim}%`;\r\n    }\r\n\r\n    this.$element.one('finished.zf.animate', function() {\r\n                    /**\r\n                     * Fires when the handle is done moving.\r\n                     * @event Slider#moved\r\n                     */\r\n                    _this.$element.trigger('moved.zf.slider', [$hndl]);\r\n                });\r\n\r\n    //because we don't know exactly how the handle will be moved, check the amount of time it should take to move.\r\n    var moveTime = this.$element.data('dragging') ? 1000/60 : this.options.moveTime;\r\n\r\n    Foundation.Move(moveTime, $hndl, function() {\r\n      //adjusting the left/top property of the handle, based on the percentage calculated above\r\n      $hndl.css(lOrT, `${movement}%`);\r\n\r\n      if (!_this.options.doubleSided) {\r\n        //if single-handled, a simple method to expand the fill bar\r\n        _this.$fill.css(hOrW, `${pctOfBar * 100}%`);\r\n      } else {\r\n        //otherwise, use the css object we created above\r\n        _this.$fill.css(css);\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Fires when the value has not been change for a given time.\r\n     * @event Slider#changed\r\n     */\r\n    clearTimeout(_this.timeout);\r\n    _this.timeout = setTimeout(function(){\r\n      _this.$element.trigger('changed.zf.slider', [$hndl]);\r\n    }, _this.options.changedDelay);\r\n  }\r\n\r\n  /**\r\n   * Sets the initial attribute for the slider element.\r\n   * @function\r\n   * @private\r\n   * @param {Number} idx - index of the current handle/input to use.\r\n   */\r\n  _setInitAttr(idx) {\r\n    var id = this.inputs.eq(idx).attr('id') || Foundation.GetYoDigits(6, 'slider');\r\n    this.inputs.eq(idx).attr({\r\n      'id': id,\r\n      'max': this.options.end,\r\n      'min': this.options.start,\r\n      'step': this.options.step\r\n    });\r\n    this.handles.eq(idx).attr({\r\n      'role': 'slider',\r\n      'aria-controls': id,\r\n      'aria-valuemax': this.options.end,\r\n      'aria-valuemin': this.options.start,\r\n      'aria-valuenow': idx === 0 ? this.options.initialStart : this.options.initialEnd,\r\n      'aria-orientation': this.options.vertical ? 'vertical' : 'horizontal',\r\n      'tabindex': 0\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Sets the input and `aria-valuenow` values for the slider element.\r\n   * @function\r\n   * @private\r\n   * @param {jQuery} $handle - the currently selected handle.\r\n   * @param {Number} val - floating point of the new value.\r\n   */\r\n  _setValues($handle, val) {\r\n    var idx = this.options.doubleSided ? this.handles.index($handle) : 0;\r\n    this.inputs.eq(idx).val(val);\r\n    $handle.attr('aria-valuenow', val);\r\n  }\r\n\r\n  /**\r\n   * Handles events on the slider element.\r\n   * Calculates the new location of the current handle.\r\n   * If there are two handles and the bar was clicked, it determines which handle to move.\r\n   * @function\r\n   * @private\r\n   * @param {Object} e - the `event` object passed from the listener.\r\n   * @param {jQuery} $handle - the current handle to calculate for, if selected.\r\n   * @param {Number} val - floating point number for the new value of the slider.\r\n   * TODO clean this up, there's a lot of repeated code between this and the _setHandlePos fn.\r\n   */\r\n  _handleEvent(e, $handle, val) {\r\n    var value, hasVal;\r\n    if (!val) {//click or drag events\r\n      e.preventDefault();\r\n      var _this = this,\r\n          vertical = this.options.vertical,\r\n          param = vertical ? 'height' : 'width',\r\n          direction = vertical ? 'top' : 'left',\r\n          eventOffset = vertical ? e.pageY : e.pageX,\r\n          halfOfHandle = this.$handle[0].getBoundingClientRect()[param] / 2,\r\n          barDim = this.$element[0].getBoundingClientRect()[param],\r\n          windowScroll = vertical ? $(window).scrollTop() : $(window).scrollLeft();\r\n\r\n\r\n      var elemOffset = this.$element.offset()[direction];\r\n\r\n      // touch events emulated by the touch util give position relative to screen, add window.scroll to event coordinates...\r\n      // best way to guess this is simulated is if clientY == pageY\r\n      if (e.clientY === e.pageY) { eventOffset = eventOffset + windowScroll; }\r\n      var eventFromBar = eventOffset - elemOffset;\r\n      var barXY;\r\n      if (eventFromBar < 0) {\r\n        barXY = 0;\r\n      } else if (eventFromBar > barDim) {\r\n        barXY = barDim;\r\n      } else {\r\n        barXY = eventFromBar;\r\n      }\r\n      var offsetPct = percent(barXY, barDim);\r\n\r\n      value = (this.options.end - this.options.start) * offsetPct + this.options.start;\r\n\r\n      // turn everything around for RTL, yay math!\r\n      if (Foundation.rtl() && !this.options.vertical) {value = this.options.end - value;}\r\n\r\n      value = _this._adjustValue(null, value);\r\n      //boolean flag for the setHandlePos fn, specifically for vertical sliders\r\n      hasVal = false;\r\n\r\n      if (!$handle) {//figure out which handle it is, pass it to the next function.\r\n        var firstHndlPos = absPosition(this.$handle, direction, barXY, param),\r\n            secndHndlPos = absPosition(this.$handle2, direction, barXY, param);\r\n            $handle = firstHndlPos <= secndHndlPos ? this.$handle : this.$handle2;\r\n      }\r\n\r\n    } else {//change event on input\r\n      value = this._adjustValue(null, val);\r\n      hasVal = true;\r\n    }\r\n\r\n    this._setHandlePos($handle, value, hasVal);\r\n  }\r\n\r\n  /**\r\n   * Adjustes value for handle in regard to step value. returns adjusted value\r\n   * @function\r\n   * @private\r\n   * @param {jQuery} $handle - the selected handle.\r\n   * @param {Number} value - value to adjust. used if $handle is falsy\r\n   */\r\n  _adjustValue($handle, value) {\r\n    var val,\r\n      step = this.options.step,\r\n      div = parseFloat(step/2),\r\n      left, prev_val, next_val;\r\n    if (!!$handle) {\r\n      val = parseFloat($handle.attr('aria-valuenow'));\r\n    }\r\n    else {\r\n      val = value;\r\n    }\r\n    left = val % step;\r\n    prev_val = val - left;\r\n    next_val = prev_val + step;\r\n    if (left === 0) {\r\n      return val;\r\n    }\r\n    val = val >= prev_val + div ? next_val : prev_val;\r\n    return val;\r\n  }\r\n\r\n  /**\r\n   * Adds event listeners to the slider elements.\r\n   * @function\r\n   * @private\r\n   * @param {jQuery} $handle - the current handle to apply listeners to.\r\n   */\r\n  _events($handle) {\r\n    var _this = this,\r\n        curHandle,\r\n        timer;\r\n\r\n      this.inputs.off('change.zf.slider').on('change.zf.slider', function(e) {\r\n        var idx = _this.inputs.index($(this));\r\n        _this._handleEvent(e, _this.handles.eq(idx), $(this).val());\r\n      });\r\n\r\n      if (this.options.clickSelect) {\r\n        this.$element.off('click.zf.slider').on('click.zf.slider', function(e) {\r\n          if (_this.$element.data('dragging')) { return false; }\r\n\r\n          if (!$(e.target).is('[data-slider-handle]')) {\r\n            if (_this.options.doubleSided) {\r\n              _this._handleEvent(e);\r\n            } else {\r\n              _this._handleEvent(e, _this.$handle);\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n    if (this.options.draggable) {\r\n      this.handles.addTouch();\r\n\r\n      var $body = $('body');\r\n      $handle\r\n        .off('mousedown.zf.slider')\r\n        .on('mousedown.zf.slider', function(e) {\r\n          $handle.addClass('is-dragging');\r\n          _this.$fill.addClass('is-dragging');//\r\n          _this.$element.data('dragging', true);\r\n\r\n          curHandle = $(e.currentTarget);\r\n\r\n          $body.on('mousemove.zf.slider', function(e) {\r\n            e.preventDefault();\r\n            _this._handleEvent(e, curHandle);\r\n\r\n          }).on('mouseup.zf.slider', function(e) {\r\n            _this._handleEvent(e, curHandle);\r\n\r\n            $handle.removeClass('is-dragging');\r\n            _this.$fill.removeClass('is-dragging');\r\n            _this.$element.data('dragging', false);\r\n\r\n            $body.off('mousemove.zf.slider mouseup.zf.slider');\r\n          });\r\n      })\r\n      // prevent events triggered by touch\r\n      .on('selectstart.zf.slider touchmove.zf.slider', function(e) {\r\n        e.preventDefault();\r\n      });\r\n    }\r\n\r\n    $handle.off('keydown.zf.slider').on('keydown.zf.slider', function(e) {\r\n      var _$handle = $(this),\r\n          idx = _this.options.doubleSided ? _this.handles.index(_$handle) : 0,\r\n          oldValue = parseFloat(_this.inputs.eq(idx).val()),\r\n          newValue;\r\n\r\n      // handle keyboard event with keyboard util\r\n      Foundation.Keyboard.handleKey(e, 'Slider', {\r\n        decrease: function() {\r\n          newValue = oldValue - _this.options.step;\r\n        },\r\n        increase: function() {\r\n          newValue = oldValue + _this.options.step;\r\n        },\r\n        decrease_fast: function() {\r\n          newValue = oldValue - _this.options.step * 10;\r\n        },\r\n        increase_fast: function() {\r\n          newValue = oldValue + _this.options.step * 10;\r\n        },\r\n        handled: function() { // only set handle pos when event was handled specially\r\n          e.preventDefault();\r\n          _this._setHandlePos(_$handle, newValue, true);\r\n        }\r\n      });\r\n      /*if (newValue) { // if pressed key has special function, update value\r\n        e.preventDefault();\r\n        _this._setHandlePos(_$handle, newValue);\r\n      }*/\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Destroys the slider plugin.\r\n   */\r\n  destroy() {\r\n    this.handles.off('.zf.slider');\r\n    this.inputs.off('.zf.slider');\r\n    this.$element.off('.zf.slider');\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nSlider.defaults = {\r\n  /**\r\n   * Minimum value for the slider scale.\r\n   * @option\r\n   * @example 0\r\n   */\r\n  start: 0,\r\n  /**\r\n   * Maximum value for the slider scale.\r\n   * @option\r\n   * @example 100\r\n   */\r\n  end: 100,\r\n  /**\r\n   * Minimum value change per change event.\r\n   * @option\r\n   * @example 1\r\n   */\r\n  step: 1,\r\n  /**\r\n   * Value at which the handle/input *(left handle/first input)* should be set to on initialization.\r\n   * @option\r\n   * @example 0\r\n   */\r\n  initialStart: 0,\r\n  /**\r\n   * Value at which the right handle/second input should be set to on initialization.\r\n   * @option\r\n   * @example 100\r\n   */\r\n  initialEnd: 100,\r\n  /**\r\n   * Allows the input to be located outside the container and visible. Set to by the JS\r\n   * @option\r\n   * @example false\r\n   */\r\n  binding: false,\r\n  /**\r\n   * Allows the user to click/tap on the slider bar to select a value.\r\n   * @option\r\n   * @example true\r\n   */\r\n  clickSelect: true,\r\n  /**\r\n   * Set to true and use the `vertical` class to change alignment to vertical.\r\n   * @option\r\n   * @example false\r\n   */\r\n  vertical: false,\r\n  /**\r\n   * Allows the user to drag the slider handle(s) to select a value.\r\n   * @option\r\n   * @example true\r\n   */\r\n  draggable: true,\r\n  /**\r\n   * Disables the slider and prevents event listeners from being applied. Double checked by JS with `disabledClass`.\r\n   * @option\r\n   * @example false\r\n   */\r\n  disabled: false,\r\n  /**\r\n   * Allows the use of two handles. Double checked by the JS. Changes some logic handling.\r\n   * @option\r\n   * @example false\r\n   */\r\n  doubleSided: false,\r\n  /**\r\n   * Potential future feature.\r\n   */\r\n  // steps: 100,\r\n  /**\r\n   * Number of decimal places the plugin should go to for floating point precision.\r\n   * @option\r\n   * @example 2\r\n   */\r\n  decimal: 2,\r\n  /**\r\n   * Time delay for dragged elements.\r\n   */\r\n  // dragDelay: 0,\r\n  /**\r\n   * Time, in ms, to animate the movement of a slider handle if user clicks/taps on the bar. Needs to be manually set if updating the transition time in the Sass settings.\r\n   * @option\r\n   * @example 200\r\n   */\r\n  moveTime: 200,//update this if changing the transition time in the sass\r\n  /**\r\n   * Class applied to disabled sliders.\r\n   * @option\r\n   * @example 'disabled'\r\n   */\r\n  disabledClass: 'disabled',\r\n  /**\r\n   * Will invert the default layout for a vertical<span data-tooltip title=\"who would do this???\"> </span>slider.\r\n   * @option\r\n   * @example false\r\n   */\r\n  invertVertical: false,\r\n  /**\r\n   * Milliseconds before the `changed.zf-slider` event is triggered after value change.\r\n   * @option\r\n   * @example 500\r\n   */\r\n  changedDelay: 500\r\n};\r\n\r\nfunction percent(frac, num) {\r\n  return (frac / num);\r\n}\r\nfunction absPosition($handle, dir, clickPos, param) {\r\n  return Math.abs(($handle.position()[dir] + ($handle[param]() / 2)) - clickPos);\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(Slider, 'Slider');\r\n\r\n}(jQuery);\r\n\r\n//*********this is in case we go to static, absolute positions instead of dynamic positioning********\r\n// this.setSteps(function() {\r\n//   _this._events();\r\n//   var initStart = _this.options.positions[_this.options.initialStart - 1] || null;\r\n//   var initEnd = _this.options.initialEnd ? _this.options.position[_this.options.initialEnd - 1] : null;\r\n//   if (initStart || initEnd) {\r\n//     _this._handleEvent(initStart, initEnd);\r\n//   }\r\n// });\r\n\r\n//***********the other part of absolute positions*************\r\n// Slider.prototype.setSteps = function(cb) {\r\n//   var posChange = this.$element.outerWidth() / this.options.steps;\r\n//   var counter = 0\r\n//   while(counter < this.options.steps) {\r\n//     if (counter) {\r\n//       this.options.positions.push(this.options.positions[counter - 1] + posChange);\r\n//     } else {\r\n//       this.options.positions.push(posChange);\r\n//     }\r\n//     counter++;\r\n//   }\r\n//   cb();\r\n// };\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Sticky module.\r\n * @module foundation.sticky\r\n * @requires foundation.util.triggers\r\n * @requires foundation.util.mediaQuery\r\n */\r\n\r\nclass Sticky {\r\n  /**\r\n   * Creates a new instance of a sticky thing.\r\n   * @class\r\n   * @param {jQuery} element - jQuery object to make sticky.\r\n   * @param {Object} options - options object passed when creating the element programmatically.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Sticky.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Sticky');\r\n  }\r\n\r\n  /**\r\n   * Initializes the sticky element by adding classes, getting/setting dimensions, breakpoints and attributes\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    var $parent = this.$element.parent('[data-sticky-container]'),\r\n        id = this.$element[0].id || Foundation.GetYoDigits(6, 'sticky'),\r\n        _this = this;\r\n\r\n    if (!$parent.length) {\r\n      this.wasWrapped = true;\r\n    }\r\n    this.$container = $parent.length ? $parent : $(this.options.container).wrapInner(this.$element);\r\n    this.$container.addClass(this.options.containerClass);\r\n\r\n    this.$element.addClass(this.options.stickyClass)\r\n                 .attr({'data-resize': id});\r\n\r\n    this.scrollCount = this.options.checkEvery;\r\n    this.isStuck = false;\r\n    $(window).one('load.zf.sticky', function(){\r\n      //We calculate the container height to have correct values for anchor points offset calculation.\r\n      _this.containerHeight = _this.$element.css(\"display\") == \"none\" ? 0 : _this.$element[0].getBoundingClientRect().height;\r\n      _this.$container.css('height', _this.containerHeight);\r\n      _this.elemHeight = _this.containerHeight;\r\n      if(_this.options.anchor !== ''){\r\n        _this.$anchor = $('#' + _this.options.anchor);\r\n      }else{\r\n        _this._parsePoints();\r\n      }\r\n\r\n      _this._setSizes(function(){\r\n        _this._calc(false);\r\n      });\r\n      _this._events(id.split('-').reverse().join('-'));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * If using multiple elements as anchors, calculates the top and bottom pixel values the sticky thing should stick and unstick on.\r\n   * @function\r\n   * @private\r\n   */\r\n  _parsePoints() {\r\n    var top = this.options.topAnchor == \"\" ? 1 : this.options.topAnchor,\r\n        btm = this.options.btmAnchor== \"\" ? document.documentElement.scrollHeight : this.options.btmAnchor,\r\n        pts = [top, btm],\r\n        breaks = {};\r\n    for (var i = 0, len = pts.length; i < len && pts[i]; i++) {\r\n      var pt;\r\n      if (typeof pts[i] === 'number') {\r\n        pt = pts[i];\r\n      } else {\r\n        var place = pts[i].split(':'),\r\n            anchor = $(`#${place[0]}`);\r\n\r\n        pt = anchor.offset().top;\r\n        if (place[1] && place[1].toLowerCase() === 'bottom') {\r\n          pt += anchor[0].getBoundingClientRect().height;\r\n        }\r\n      }\r\n      breaks[i] = pt;\r\n    }\r\n\r\n\r\n    this.points = breaks;\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers for the scrolling element.\r\n   * @private\r\n   * @param {String} id - psuedo-random id for unique scroll event listener.\r\n   */\r\n  _events(id) {\r\n    var _this = this,\r\n        scrollListener = this.scrollListener = `scroll.zf.${id}`;\r\n    if (this.isOn) { return; }\r\n    if (this.canStick) {\r\n      this.isOn = true;\r\n      $(window).off(scrollListener)\r\n               .on(scrollListener, function(e) {\r\n                 if (_this.scrollCount === 0) {\r\n                   _this.scrollCount = _this.options.checkEvery;\r\n                   _this._setSizes(function() {\r\n                     _this._calc(false, window.pageYOffset);\r\n                   });\r\n                 } else {\r\n                   _this.scrollCount--;\r\n                   _this._calc(false, window.pageYOffset);\r\n                 }\r\n              });\r\n    }\r\n\r\n    this.$element.off('resizeme.zf.trigger')\r\n                 .on('resizeme.zf.trigger', function(e, el) {\r\n                     _this._setSizes(function() {\r\n                       _this._calc(false);\r\n                       if (_this.canStick) {\r\n                         if (!_this.isOn) {\r\n                           _this._events(id);\r\n                         }\r\n                       } else if (_this.isOn) {\r\n                         _this._pauseListeners(scrollListener);\r\n                       }\r\n                     });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Removes event handlers for scroll and change events on anchor.\r\n   * @fires Sticky#pause\r\n   * @param {String} scrollListener - unique, namespaced scroll listener attached to `window`\r\n   */\r\n  _pauseListeners(scrollListener) {\r\n    this.isOn = false;\r\n    $(window).off(scrollListener);\r\n\r\n    /**\r\n     * Fires when the plugin is paused due to resize event shrinking the view.\r\n     * @event Sticky#pause\r\n     * @private\r\n     */\r\n     this.$element.trigger('pause.zf.sticky');\r\n  }\r\n\r\n  /**\r\n   * Called on every `scroll` event and on `_init`\r\n   * fires functions based on booleans and cached values\r\n   * @param {Boolean} checkSizes - true if plugin should recalculate sizes and breakpoints.\r\n   * @param {Number} scroll - current scroll position passed from scroll event cb function. If not passed, defaults to `window.pageYOffset`.\r\n   */\r\n  _calc(checkSizes, scroll) {\r\n    if (checkSizes) { this._setSizes(); }\r\n\r\n    if (!this.canStick) {\r\n      if (this.isStuck) {\r\n        this._removeSticky(true);\r\n      }\r\n      return false;\r\n    }\r\n\r\n    if (!scroll) { scroll = window.pageYOffset; }\r\n\r\n    if (scroll >= this.topPoint) {\r\n      if (scroll <= this.bottomPoint) {\r\n        if (!this.isStuck) {\r\n          this._setSticky();\r\n        }\r\n      } else {\r\n        if (this.isStuck) {\r\n          this._removeSticky(false);\r\n        }\r\n      }\r\n    } else {\r\n      if (this.isStuck) {\r\n        this._removeSticky(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Causes the $element to become stuck.\r\n   * Adds `position: fixed;`, and helper classes.\r\n   * @fires Sticky#stuckto\r\n   * @function\r\n   * @private\r\n   */\r\n  _setSticky() {\r\n    var _this = this,\r\n        stickTo = this.options.stickTo,\r\n        mrgn = stickTo === 'top' ? 'marginTop' : 'marginBottom',\r\n        notStuckTo = stickTo === 'top' ? 'bottom' : 'top',\r\n        css = {};\r\n\r\n    css[mrgn] = `${this.options[mrgn]}em`;\r\n    css[stickTo] = 0;\r\n    css[notStuckTo] = 'auto';\r\n    css['left'] = this.$container.offset().left + parseInt(window.getComputedStyle(this.$container[0])[\"padding-left\"], 10);\r\n    this.isStuck = true;\r\n    this.$element.removeClass(`is-anchored is-at-${notStuckTo}`)\r\n                 .addClass(`is-stuck is-at-${stickTo}`)\r\n                 .css(css)\r\n                 /**\r\n                  * Fires when the $element has become `position: fixed;`\r\n                  * Namespaced to `top` or `bottom`, e.g. `sticky.zf.stuckto:top`\r\n                  * @event Sticky#stuckto\r\n                  */\r\n                 .trigger(`sticky.zf.stuckto:${stickTo}`);\r\n    this.$element.on(\"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", function() {\r\n      _this._setSizes();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Causes the $element to become unstuck.\r\n   * Removes `position: fixed;`, and helper classes.\r\n   * Adds other helper classes.\r\n   * @param {Boolean} isTop - tells the function if the $element should anchor to the top or bottom of its $anchor element.\r\n   * @fires Sticky#unstuckfrom\r\n   * @private\r\n   */\r\n  _removeSticky(isTop) {\r\n    var stickTo = this.options.stickTo,\r\n        stickToTop = stickTo === 'top',\r\n        css = {},\r\n        anchorPt = (this.points ? this.points[1] - this.points[0] : this.anchorHeight) - this.elemHeight,\r\n        mrgn = stickToTop ? 'marginTop' : 'marginBottom',\r\n        notStuckTo = stickToTop ? 'bottom' : 'top',\r\n        topOrBottom = isTop ? 'top' : 'bottom';\r\n\r\n    css[mrgn] = 0;\r\n\r\n    css['bottom'] = 'auto';\r\n    if(isTop) {\r\n      css['top'] = 0;\r\n    } else {\r\n      css['top'] = anchorPt;\r\n    }\r\n\r\n    css['left'] = '';\r\n    this.isStuck = false;\r\n    this.$element.removeClass(`is-stuck is-at-${stickTo}`)\r\n                 .addClass(`is-anchored is-at-${topOrBottom}`)\r\n                 .css(css)\r\n                 /**\r\n                  * Fires when the $element has become anchored.\r\n                  * Namespaced to `top` or `bottom`, e.g. `sticky.zf.unstuckfrom:bottom`\r\n                  * @event Sticky#unstuckfrom\r\n                  */\r\n                 .trigger(`sticky.zf.unstuckfrom:${topOrBottom}`);\r\n  }\r\n\r\n  /**\r\n   * Sets the $element and $container sizes for plugin.\r\n   * Calls `_setBreakPoints`.\r\n   * @param {Function} cb - optional callback function to fire on completion of `_setBreakPoints`.\r\n   * @private\r\n   */\r\n  _setSizes(cb) {\r\n    this.canStick = Foundation.MediaQuery.atLeast(this.options.stickyOn);\r\n    if (!this.canStick) {\r\n      if (cb && typeof cb === 'function') { cb(); }\r\n    }\r\n    var _this = this,\r\n        newElemWidth = this.$container[0].getBoundingClientRect().width,\r\n        comp = window.getComputedStyle(this.$container[0]),\r\n        pdng = parseInt(comp['padding-right'], 10);\r\n\r\n    if (this.$anchor && this.$anchor.length) {\r\n      this.anchorHeight = this.$anchor[0].getBoundingClientRect().height;\r\n    } else {\r\n      this._parsePoints();\r\n    }\r\n\r\n    this.$element.css({\r\n      'max-width': `${newElemWidth - pdng}px`\r\n    });\r\n\r\n    var newContainerHeight = this.$element[0].getBoundingClientRect().height || this.containerHeight;\r\n    if (this.$element.css(\"display\") == \"none\") {\r\n      newContainerHeight = 0;\r\n    }\r\n    this.containerHeight = newContainerHeight;\r\n    this.$container.css({\r\n      height: newContainerHeight\r\n    });\r\n    this.elemHeight = newContainerHeight;\r\n\r\n    if (this.isStuck) {\r\n      this.$element.css({\"left\":this.$container.offset().left + parseInt(comp['padding-left'], 10)});\r\n    } else {\r\n      if (this.$element.hasClass('is-at-bottom')) {\r\n        var anchorPt = (this.points ? this.points[1] - this.$container.offset().top : this.anchorHeight) - this.elemHeight;\r\n        this.$element.css('top', anchorPt);\r\n      }\r\n    }\r\n\r\n    this._setBreakPoints(newContainerHeight, function() {\r\n      if (cb && typeof cb === 'function') { cb(); }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Sets the upper and lower breakpoints for the element to become sticky/unsticky.\r\n   * @param {Number} elemHeight - px value for sticky.$element height, calculated by `_setSizes`.\r\n   * @param {Function} cb - optional callback function to be called on completion.\r\n   * @private\r\n   */\r\n  _setBreakPoints(elemHeight, cb) {\r\n    if (!this.canStick) {\r\n      if (cb && typeof cb === 'function') { cb(); }\r\n      else { return false; }\r\n    }\r\n    var mTop = emCalc(this.options.marginTop),\r\n        mBtm = emCalc(this.options.marginBottom),\r\n        topPoint = this.points ? this.points[0] : this.$anchor.offset().top,\r\n        bottomPoint = this.points ? this.points[1] : topPoint + this.anchorHeight,\r\n        // topPoint = this.$anchor.offset().top || this.points[0],\r\n        // bottomPoint = topPoint + this.anchorHeight || this.points[1],\r\n        winHeight = window.innerHeight;\r\n\r\n    if (this.options.stickTo === 'top') {\r\n      topPoint -= mTop;\r\n      bottomPoint -= (elemHeight + mTop);\r\n    } else if (this.options.stickTo === 'bottom') {\r\n      topPoint -= (winHeight - (elemHeight + mBtm));\r\n      bottomPoint -= (winHeight - mBtm);\r\n    } else {\r\n      //this would be the stickTo: both option... tricky\r\n    }\r\n\r\n    this.topPoint = topPoint;\r\n    this.bottomPoint = bottomPoint;\r\n\r\n    if (cb && typeof cb === 'function') { cb(); }\r\n  }\r\n\r\n  /**\r\n   * Destroys the current sticky element.\r\n   * Resets the element to the top position first.\r\n   * Removes event listeners, JS-added css properties and classes, and unwraps the $element if the JS added the $container.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this._removeSticky(true);\r\n\r\n    this.$element.removeClass(`${this.options.stickyClass} is-anchored is-at-top`)\r\n                 .css({\r\n                   height: '',\r\n                   top: '',\r\n                   bottom: '',\r\n                   'max-width': ''\r\n                 })\r\n                 .off('resizeme.zf.trigger');\r\n    if (this.$anchor && this.$anchor.length) {\r\n      this.$anchor.off('change.zf.sticky');\r\n    }\r\n    $(window).off(this.scrollListener);\r\n\r\n    if (this.wasWrapped) {\r\n      this.$element.unwrap();\r\n    } else {\r\n      this.$container.removeClass(this.options.containerClass)\r\n                     .css({\r\n                       height: ''\r\n                     });\r\n    }\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nSticky.defaults = {\r\n  /**\r\n   * Customizable container template. Add your own classes for styling and sizing.\r\n   * @option\r\n   * @example '&lt;div data-sticky-container class=\"small-6 columns\"&gt;&lt;/div&gt;'\r\n   */\r\n  container: '<div data-sticky-container></div>',\r\n  /**\r\n   * Location in the view the element sticks to.\r\n   * @option\r\n   * @example 'top'\r\n   */\r\n  stickTo: 'top',\r\n  /**\r\n   * If anchored to a single element, the id of that element.\r\n   * @option\r\n   * @example 'exampleId'\r\n   */\r\n  anchor: '',\r\n  /**\r\n   * If using more than one element as anchor points, the id of the top anchor.\r\n   * @option\r\n   * @example 'exampleId:top'\r\n   */\r\n  topAnchor: '',\r\n  /**\r\n   * If using more than one element as anchor points, the id of the bottom anchor.\r\n   * @option\r\n   * @example 'exampleId:bottom'\r\n   */\r\n  btmAnchor: '',\r\n  /**\r\n   * Margin, in `em`'s to apply to the top of the element when it becomes sticky.\r\n   * @option\r\n   * @example 1\r\n   */\r\n  marginTop: 1,\r\n  /**\r\n   * Margin, in `em`'s to apply to the bottom of the element when it becomes sticky.\r\n   * @option\r\n   * @example 1\r\n   */\r\n  marginBottom: 1,\r\n  /**\r\n   * Breakpoint string that is the minimum screen size an element should become sticky.\r\n   * @option\r\n   * @example 'medium'\r\n   */\r\n  stickyOn: 'medium',\r\n  /**\r\n   * Class applied to sticky element, and removed on destruction. Foundation defaults to `sticky`.\r\n   * @option\r\n   * @example 'sticky'\r\n   */\r\n  stickyClass: 'sticky',\r\n  /**\r\n   * Class applied to sticky container. Foundation defaults to `sticky-container`.\r\n   * @option\r\n   * @example 'sticky-container'\r\n   */\r\n  containerClass: 'sticky-container',\r\n  /**\r\n   * Number of scroll events between the plugin's recalculating sticky points. Setting it to `0` will cause it to recalc every scroll event, setting it to `-1` will prevent recalc on scroll.\r\n   * @option\r\n   * @example 50\r\n   */\r\n  checkEvery: -1\r\n};\r\n\r\n/**\r\n * Helper function to calculate em values\r\n * @param Number {em} - number of em's to calculate into pixels\r\n */\r\nfunction emCalc(em) {\r\n  return parseInt(window.getComputedStyle(document.body, null).fontSize, 10) * em;\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(Sticky, 'Sticky');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Tabs module.\r\n * @module foundation.tabs\r\n * @requires foundation.util.keyboard\r\n * @requires foundation.util.timerAndImageLoader if tabs contain images\r\n */\r\n\r\nclass Tabs {\r\n  /**\r\n   * Creates a new instance of tabs.\r\n   * @class\r\n   * @fires Tabs#init\r\n   * @param {jQuery} element - jQuery object to make into tabs.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\r\n\r\n    this._init();\r\n    Foundation.registerPlugin(this, 'Tabs');\r\n    Foundation.Keyboard.register('Tabs', {\r\n      'ENTER': 'open',\r\n      'SPACE': 'open',\r\n      'ARROW_RIGHT': 'next',\r\n      'ARROW_UP': 'previous',\r\n      'ARROW_DOWN': 'next',\r\n      'ARROW_LEFT': 'previous'\r\n      // 'TAB': 'next',\r\n      // 'SHIFT_TAB': 'previous'\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\r\n   * @private\r\n   */\r\n  _init() {\r\n    var _this = this;\r\n\r\n    this.$tabTitles = this.$element.find(`.${this.options.linkClass}`);\r\n    this.$tabContent = $(`[data-tabs-content=\"${this.$element[0].id}\"]`);\r\n\r\n    this.$tabTitles.each(function(){\r\n      var $elem = $(this),\r\n          $link = $elem.find('a'),\r\n          isActive = $elem.hasClass('is-active'),\r\n          hash = $link[0].hash.slice(1),\r\n          linkId = $link[0].id ? $link[0].id : `${hash}-label`,\r\n          $tabContent = $(`#${hash}`);\r\n\r\n      $elem.attr({'role': 'presentation'});\r\n\r\n      $link.attr({\r\n        'role': 'tab',\r\n        'aria-controls': hash,\r\n        'aria-selected': isActive,\r\n        'id': linkId\r\n      });\r\n\r\n      $tabContent.attr({\r\n        'role': 'tabpanel',\r\n        'aria-hidden': !isActive,\r\n        'aria-labelledby': linkId\r\n      });\r\n\r\n      if(isActive && _this.options.autoFocus){\r\n        $link.focus();\r\n      }\r\n    });\r\n\r\n    if(this.options.matchHeight) {\r\n      var $images = this.$tabContent.find('img');\r\n\r\n      if ($images.length) {\r\n        Foundation.onImagesLoaded($images, this._setHeight.bind(this));\r\n      } else {\r\n        this._setHeight();\r\n      }\r\n    }\r\n\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Adds event handlers for items within the tabs.\r\n   * @private\r\n   */\r\n  _events() {\r\n    this._addKeyHandler();\r\n    this._addClickHandler();\r\n    this._setHeightMqHandler = null;\r\n    \r\n    if (this.options.matchHeight) {\r\n      this._setHeightMqHandler = this._setHeight.bind(this);\r\n      \r\n      $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds click handlers for items within the tabs.\r\n   * @private\r\n   */\r\n  _addClickHandler() {\r\n    var _this = this;\r\n\r\n    this.$element\r\n      .off('click.zf.tabs')\r\n      .on('click.zf.tabs', `.${this.options.linkClass}`, function(e){\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if ($(this).hasClass('is-active')) {\r\n          return;\r\n        }\r\n        _this._handleTabChange($(this));\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Adds keyboard event handlers for items within the tabs.\r\n   * @private\r\n   */\r\n  _addKeyHandler() {\r\n    var _this = this;\r\n    var $firstTab = _this.$element.find('li:first-of-type');\r\n    var $lastTab = _this.$element.find('li:last-of-type');\r\n\r\n    this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function(e){\r\n      if (e.which === 9) return;\r\n      \r\n\r\n      var $element = $(this),\r\n        $elements = $element.parent('ul').children('li'),\r\n        $prevElement,\r\n        $nextElement;\r\n\r\n      $elements.each(function(i) {\r\n        if ($(this).is($element)) {\r\n          if (_this.options.wrapOnKeys) {\r\n            $prevElement = i === 0 ? $elements.last() : $elements.eq(i-1);\r\n            $nextElement = i === $elements.length -1 ? $elements.first() : $elements.eq(i+1);\r\n          } else {\r\n            $prevElement = $elements.eq(Math.max(0, i-1));\r\n            $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\r\n          }\r\n          return;\r\n        }\r\n      });\r\n\r\n      // handle keyboard event with keyboard util\r\n      Foundation.Keyboard.handleKey(e, 'Tabs', {\r\n        open: function() {\r\n          $element.find('[role=\"tab\"]').focus();\r\n          _this._handleTabChange($element);\r\n        },\r\n        previous: function() {\r\n          $prevElement.find('[role=\"tab\"]').focus();\r\n          _this._handleTabChange($prevElement);\r\n        },\r\n        next: function() {\r\n          $nextElement.find('[role=\"tab\"]').focus();\r\n          _this._handleTabChange($nextElement);\r\n        },\r\n        handled: function() {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Opens the tab `$targetContent` defined by `$target`.\r\n   * @param {jQuery} $target - Tab to open.\r\n   * @fires Tabs#change\r\n   * @function\r\n   */\r\n  _handleTabChange($target) {\r\n    var $tabLink = $target.find('[role=\"tab\"]'),\r\n        hash = $tabLink[0].hash,\r\n        $targetContent = this.$tabContent.find(hash),\r\n        $oldTab = this.$element.\r\n          find(`.${this.options.linkClass}.is-active`)\r\n          .removeClass('is-active')\r\n          .find('[role=\"tab\"]')\r\n          .attr({ 'aria-selected': 'false' });\r\n\r\n    $(`#${$oldTab.attr('aria-controls')}`)\r\n      .removeClass('is-active')\r\n      .attr({ 'aria-hidden': 'true' });\r\n\r\n    $target.addClass('is-active');\r\n\r\n    $tabLink.attr({'aria-selected': 'true'});\r\n\r\n    $targetContent\r\n      .addClass('is-active')\r\n      .attr({'aria-hidden': 'false'});\r\n\r\n    /**\r\n     * Fires when the plugin has successfully changed tabs.\r\n     * @event Tabs#change\r\n     */\r\n    this.$element.trigger('change.zf.tabs', [$target]);\r\n  }\r\n\r\n  /**\r\n   * Public method for selecting a content pane to display.\r\n   * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\r\n   * @function\r\n   */\r\n  selectTab(elem) {\r\n    var idStr;\r\n\r\n    if (typeof elem === 'object') {\r\n      idStr = elem[0].id;\r\n    } else {\r\n      idStr = elem;\r\n    }\r\n\r\n    if (idStr.indexOf('#') < 0) {\r\n      idStr = `#${idStr}`;\r\n    }\r\n\r\n    var $target = this.$tabTitles.find(`[href=\"${idStr}\"]`).parent(`.${this.options.linkClass}`);\r\n\r\n    this._handleTabChange($target);\r\n  };\r\n  /**\r\n   * Sets the height of each panel to the height of the tallest panel.\r\n   * If enabled in options, gets called on media query change.\r\n   * If loading content via external source, can be called directly or with _reflow.\r\n   * @function\r\n   * @private\r\n   */\r\n  _setHeight() {\r\n    var max = 0;\r\n    this.$tabContent\r\n      .find(`.${this.options.panelClass}`)\r\n      .css('height', '')\r\n      .each(function() {\r\n        var panel = $(this),\r\n            isActive = panel.hasClass('is-active');\r\n\r\n        if (!isActive) {\r\n          panel.css({'visibility': 'hidden', 'display': 'block'});\r\n        }\r\n\r\n        var temp = this.getBoundingClientRect().height;\r\n\r\n        if (!isActive) {\r\n          panel.css({\r\n            'visibility': '',\r\n            'display': ''\r\n          });\r\n        }\r\n\r\n        max = temp > max ? temp : max;\r\n      })\r\n      .css('height', `${max}px`);\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of an tabs.\r\n   * @fires Tabs#destroyed\r\n   */\r\n  destroy() {\r\n    this.$element\r\n      .find(`.${this.options.linkClass}`)\r\n      .off('.zf.tabs').hide().end()\r\n      .find(`.${this.options.panelClass}`)\r\n      .hide();\r\n\r\n    if (this.options.matchHeight) {\r\n      if (this._setHeightMqHandler != null) {\r\n         $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\r\n      }\r\n    }\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nTabs.defaults = {\r\n  /**\r\n   * Allows the window to scroll to content of active pane on load if set to true.\r\n   * @option\r\n   * @example false\r\n   */\r\n  autoFocus: false,\r\n\r\n  /**\r\n   * Allows keyboard input to 'wrap' around the tab links.\r\n   * @option\r\n   * @example true\r\n   */\r\n  wrapOnKeys: true,\r\n\r\n  /**\r\n   * Allows the tab content panes to match heights if set to true.\r\n   * @option\r\n   * @example false\r\n   */\r\n  matchHeight: false,\r\n\r\n  /**\r\n   * Class applied to `li`'s in tab link list.\r\n   * @option\r\n   * @example 'tabs-title'\r\n   */\r\n  linkClass: 'tabs-title',\r\n\r\n  /**\r\n   * Class applied to the content containers.\r\n   * @option\r\n   * @example 'tabs-panel'\r\n   */\r\n  panelClass: 'tabs-panel'\r\n};\r\n\r\nfunction checkClass($elem){\r\n  return $elem.hasClass('is-active');\r\n}\r\n\r\n// Window exports\r\nFoundation.plugin(Tabs, 'Tabs');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Toggler module.\r\n * @module foundation.toggler\r\n * @requires foundation.util.motion\r\n * @requires foundation.util.triggers\r\n */\r\n\r\nclass Toggler {\r\n  /**\r\n   * Creates a new instance of Toggler.\r\n   * @class\r\n   * @fires Toggler#init\r\n   * @param {Object} element - jQuery object to add the trigger to.\r\n   * @param {Object} options - Overrides to the default plugin settings.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Toggler.defaults, element.data(), options);\r\n    this.className = '';\r\n\r\n    this._init();\r\n    this._events();\r\n\r\n    Foundation.registerPlugin(this, 'Toggler');\r\n  }\r\n\r\n  /**\r\n   * Initializes the Toggler plugin by parsing the toggle class from data-toggler, or animation classes from data-animate.\r\n   * @function\r\n   * @private\r\n   */\r\n  _init() {\r\n    var input;\r\n    // Parse animation classes if they were set\r\n    if (this.options.animate) {\r\n      input = this.options.animate.split(' ');\r\n\r\n      this.animationIn = input[0];\r\n      this.animationOut = input[1] || null;\r\n    }\r\n    // Otherwise, parse toggle class\r\n    else {\r\n      input = this.$element.data('toggler');\r\n      // Allow for a . at the beginning of the string\r\n      this.className = input[0] === '.' ? input.slice(1) : input;\r\n    }\r\n\r\n    // Add ARIA attributes to triggers\r\n    var id = this.$element[0].id;\r\n    $(`[data-open=\"${id}\"], [data-close=\"${id}\"], [data-toggle=\"${id}\"]`)\r\n      .attr('aria-controls', id);\r\n    // If the target is hidden, add aria-hidden\r\n    this.$element.attr('aria-expanded', this.$element.is(':hidden') ? false : true);\r\n  }\r\n\r\n  /**\r\n   * Initializes events for the toggle trigger.\r\n   * @function\r\n   * @private\r\n   */\r\n  _events() {\r\n    this.$element.off('toggle.zf.trigger').on('toggle.zf.trigger', this.toggle.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Toggles the target class on the target element. An event is fired from the original trigger depending on if the resultant state was \"on\" or \"off\".\r\n   * @function\r\n   * @fires Toggler#on\r\n   * @fires Toggler#off\r\n   */\r\n  toggle() {\r\n    this[ this.options.animate ? '_toggleAnimate' : '_toggleClass']();\r\n  }\r\n\r\n  _toggleClass() {\r\n    this.$element.toggleClass(this.className);\r\n\r\n    var isOn = this.$element.hasClass(this.className);\r\n    if (isOn) {\r\n      /**\r\n       * Fires if the target element has the class after a toggle.\r\n       * @event Toggler#on\r\n       */\r\n      this.$element.trigger('on.zf.toggler');\r\n    }\r\n    else {\r\n      /**\r\n       * Fires if the target element does not have the class after a toggle.\r\n       * @event Toggler#off\r\n       */\r\n      this.$element.trigger('off.zf.toggler');\r\n    }\r\n\r\n    this._updateARIA(isOn);\r\n  }\r\n\r\n  _toggleAnimate() {\r\n    var _this = this;\r\n\r\n    if (this.$element.is(':hidden')) {\r\n      Foundation.Motion.animateIn(this.$element, this.animationIn, function() {\r\n        _this._updateARIA(true);\r\n        this.trigger('on.zf.toggler');\r\n      });\r\n    }\r\n    else {\r\n      Foundation.Motion.animateOut(this.$element, this.animationOut, function() {\r\n        _this._updateARIA(false);\r\n        this.trigger('off.zf.toggler');\r\n      });\r\n    }\r\n  }\r\n\r\n  _updateARIA(isOn) {\r\n    this.$element.attr('aria-expanded', isOn ? true : false);\r\n  }\r\n\r\n  /**\r\n   * Destroys the instance of Toggler on the element.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.$element.off('.zf.toggler');\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nToggler.defaults = {\r\n  /**\r\n   * Tells the plugin if the element should animated when toggled.\r\n   * @option\r\n   * @example false\r\n   */\r\n  animate: false\r\n};\r\n\r\n// Window exports\r\nFoundation.plugin(Toggler, 'Toggler');\r\n\r\n}(jQuery);\r\n","'use strict';\r\n\r\n!function($) {\r\n\r\n/**\r\n * Tooltip module.\r\n * @module foundation.tooltip\r\n * @requires foundation.util.box\r\n * @requires foundation.util.mediaQuery\r\n * @requires foundation.util.triggers\r\n */\r\n\r\nclass Tooltip {\r\n  /**\r\n   * Creates a new instance of a Tooltip.\r\n   * @class\r\n   * @fires Tooltip#init\r\n   * @param {jQuery} element - jQuery object to attach a tooltip to.\r\n   * @param {Object} options - object to extend the default configuration.\r\n   */\r\n  constructor(element, options) {\r\n    this.$element = element;\r\n    this.options = $.extend({}, Tooltip.defaults, this.$element.data(), options);\r\n\r\n    this.isActive = false;\r\n    this.isClick = false;\r\n    this._init();\r\n\r\n    Foundation.registerPlugin(this, 'Tooltip');\r\n  }\r\n\r\n  /**\r\n   * Initializes the tooltip by setting the creating the tip element, adding it's text, setting private variables and setting attributes on the anchor.\r\n   * @private\r\n   */\r\n  _init() {\r\n    var elemId = this.$element.attr('aria-describedby') || Foundation.GetYoDigits(6, 'tooltip');\r\n\r\n    this.options.positionClass = this.options.positionClass || this._getPositionClass(this.$element);\r\n    this.options.tipText = this.options.tipText || this.$element.attr('title');\r\n    this.template = this.options.template ? $(this.options.template) : this._buildTemplate(elemId);\r\n\r\n    this.template.appendTo(document.body)\r\n        .text(this.options.tipText)\r\n        .hide();\r\n\r\n    this.$element.attr({\r\n      'title': '',\r\n      'aria-describedby': elemId,\r\n      'data-yeti-box': elemId,\r\n      'data-toggle': elemId,\r\n      'data-resize': elemId\r\n    }).addClass(this.options.triggerClass);\r\n\r\n    //helper variables to track movement on collisions\r\n    this.usedPositions = [];\r\n    this.counter = 4;\r\n    this.classChanged = false;\r\n\r\n    this._events();\r\n  }\r\n\r\n  /**\r\n   * Grabs the current positioning class, if present, and returns the value or an empty string.\r\n   * @private\r\n   */\r\n  _getPositionClass(element) {\r\n    if (!element) { return ''; }\r\n    // var position = element.attr('class').match(/top|left|right/g);\r\n    var position = element[0].className.match(/\\b(top|left|right)\\b/g);\r\n        position = position ? position[0] : '';\r\n    return position;\r\n  };\r\n  /**\r\n   * builds the tooltip element, adds attributes, and returns the template.\r\n   * @private\r\n   */\r\n  _buildTemplate(id) {\r\n    var templateClasses = (`${this.options.tooltipClass} ${this.options.positionClass} ${this.options.templateClasses}`).trim();\r\n    var $template =  $('<div></div>').addClass(templateClasses).attr({\r\n      'role': 'tooltip',\r\n      'aria-hidden': true,\r\n      'data-is-active': false,\r\n      'data-is-focus': false,\r\n      'id': id\r\n    });\r\n    return $template;\r\n  }\r\n\r\n  /**\r\n   * Function that gets called if a collision event is detected.\r\n   * @param {String} position - positioning class to try\r\n   * @private\r\n   */\r\n  _reposition(position) {\r\n    this.usedPositions.push(position ? position : 'bottom');\r\n\r\n    //default, try switching to opposite side\r\n    if (!position && (this.usedPositions.indexOf('top') < 0)) {\r\n      this.template.addClass('top');\r\n    } else if (position === 'top' && (this.usedPositions.indexOf('bottom') < 0)) {\r\n      this.template.removeClass(position);\r\n    } else if (position === 'left' && (this.usedPositions.indexOf('right') < 0)) {\r\n      this.template.removeClass(position)\r\n          .addClass('right');\r\n    } else if (position === 'right' && (this.usedPositions.indexOf('left') < 0)) {\r\n      this.template.removeClass(position)\r\n          .addClass('left');\r\n    }\r\n\r\n    //if default change didn't work, try bottom or left first\r\n    else if (!position && (this.usedPositions.indexOf('top') > -1) && (this.usedPositions.indexOf('left') < 0)) {\r\n      this.template.addClass('left');\r\n    } else if (position === 'top' && (this.usedPositions.indexOf('bottom') > -1) && (this.usedPositions.indexOf('left') < 0)) {\r\n      this.template.removeClass(position)\r\n          .addClass('left');\r\n    } else if (position === 'left' && (this.usedPositions.indexOf('right') > -1) && (this.usedPositions.indexOf('bottom') < 0)) {\r\n      this.template.removeClass(position);\r\n    } else if (position === 'right' && (this.usedPositions.indexOf('left') > -1) && (this.usedPositions.indexOf('bottom') < 0)) {\r\n      this.template.removeClass(position);\r\n    }\r\n    //if nothing cleared, set to bottom\r\n    else {\r\n      this.template.removeClass(position);\r\n    }\r\n    this.classChanged = true;\r\n    this.counter--;\r\n  }\r\n\r\n  /**\r\n   * sets the position class of an element and recursively calls itself until there are no more possible positions to attempt, or the tooltip element is no longer colliding.\r\n   * if the tooltip is larger than the screen width, default to full width - any user selected margin\r\n   * @private\r\n   */\r\n  _setPosition() {\r\n    var position = this._getPositionClass(this.template),\r\n        $tipDims = Foundation.Box.GetDimensions(this.template),\r\n        $anchorDims = Foundation.Box.GetDimensions(this.$element),\r\n        direction = (position === 'left' ? 'left' : ((position === 'right') ? 'left' : 'top')),\r\n        param = (direction === 'top') ? 'height' : 'width',\r\n        offset = (param === 'height') ? this.options.vOffset : this.options.hOffset,\r\n        _this = this;\r\n\r\n    if (($tipDims.width >= $tipDims.windowDims.width) || (!this.counter && !Foundation.Box.ImNotTouchingYou(this.template))) {\r\n      this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\r\n      // this.$element.offset(Foundation.GetOffsets(this.template, this.$element, 'center bottom', this.options.vOffset, this.options.hOffset, true)).css({\r\n        'width': $anchorDims.windowDims.width - (this.options.hOffset * 2),\r\n        'height': 'auto'\r\n      });\r\n      return false;\r\n    }\r\n\r\n    this.template.offset(Foundation.Box.GetOffsets(this.template, this.$element,'center ' + (position || 'bottom'), this.options.vOffset, this.options.hOffset));\r\n\r\n    while(!Foundation.Box.ImNotTouchingYou(this.template) && this.counter) {\r\n      this._reposition(position);\r\n      this._setPosition();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * reveals the tooltip, and fires an event to close any other open tooltips on the page\r\n   * @fires Tooltip#closeme\r\n   * @fires Tooltip#show\r\n   * @function\r\n   */\r\n  show() {\r\n    if (this.options.showOn !== 'all' && !Foundation.MediaQuery.atLeast(this.options.showOn)) {\r\n      // console.error('The screen is too small to display this tooltip');\r\n      return false;\r\n    }\r\n\r\n    var _this = this;\r\n    this.template.css('visibility', 'hidden').show();\r\n    this._setPosition();\r\n\r\n    /**\r\n     * Fires to close all other open tooltips on the page\r\n     * @event Closeme#tooltip\r\n     */\r\n    this.$element.trigger('closeme.zf.tooltip', this.template.attr('id'));\r\n\r\n\r\n    this.template.attr({\r\n      'data-is-active': true,\r\n      'aria-hidden': false\r\n    });\r\n    _this.isActive = true;\r\n    // console.log(this.template);\r\n    this.template.stop().hide().css('visibility', '').fadeIn(this.options.fadeInDuration, function() {\r\n      //maybe do stuff?\r\n    });\r\n    /**\r\n     * Fires when the tooltip is shown\r\n     * @event Tooltip#show\r\n     */\r\n    this.$element.trigger('show.zf.tooltip');\r\n  }\r\n\r\n  /**\r\n   * Hides the current tooltip, and resets the positioning class if it was changed due to collision\r\n   * @fires Tooltip#hide\r\n   * @function\r\n   */\r\n  hide() {\r\n    // console.log('hiding', this.$element.data('yeti-box'));\r\n    var _this = this;\r\n    this.template.stop().attr({\r\n      'aria-hidden': true,\r\n      'data-is-active': false\r\n    }).fadeOut(this.options.fadeOutDuration, function() {\r\n      _this.isActive = false;\r\n      _this.isClick = false;\r\n      if (_this.classChanged) {\r\n        _this.template\r\n             .removeClass(_this._getPositionClass(_this.template))\r\n             .addClass(_this.options.positionClass);\r\n\r\n       _this.usedPositions = [];\r\n       _this.counter = 4;\r\n       _this.classChanged = false;\r\n      }\r\n    });\r\n    /**\r\n     * fires when the tooltip is hidden\r\n     * @event Tooltip#hide\r\n     */\r\n    this.$element.trigger('hide.zf.tooltip');\r\n  }\r\n\r\n  /**\r\n   * adds event listeners for the tooltip and its anchor\r\n   * TODO combine some of the listeners like focus and mouseenter, etc.\r\n   * @private\r\n   */\r\n  _events() {\r\n    var _this = this;\r\n    var $template = this.template;\r\n    var isFocus = false;\r\n\r\n    if (!this.options.disableHover) {\r\n\r\n      this.$element\r\n      .on('mouseenter.zf.tooltip', function(e) {\r\n        if (!_this.isActive) {\r\n          _this.timeout = setTimeout(function() {\r\n            _this.show();\r\n          }, _this.options.hoverDelay);\r\n        }\r\n      })\r\n      .on('mouseleave.zf.tooltip', function(e) {\r\n        clearTimeout(_this.timeout);\r\n        if (!isFocus || (_this.isClick && !_this.options.clickOpen)) {\r\n          _this.hide();\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.options.clickOpen) {\r\n      this.$element.on('mousedown.zf.tooltip', function(e) {\r\n        e.stopImmediatePropagation();\r\n        if (_this.isClick) {\r\n          //_this.hide();\r\n          // _this.isClick = false;\r\n        } else {\r\n          _this.isClick = true;\r\n          if ((_this.options.disableHover || !_this.$element.attr('tabindex')) && !_this.isActive) {\r\n            _this.show();\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.$element.on('mousedown.zf.tooltip', function(e) {\r\n        e.stopImmediatePropagation();\r\n        _this.isClick = true;\r\n      });\r\n    }\r\n\r\n    if (!this.options.disableForTouch) {\r\n      this.$element\r\n      .on('tap.zf.tooltip touchend.zf.tooltip', function(e) {\r\n        _this.isActive ? _this.hide() : _this.show();\r\n      });\r\n    }\r\n\r\n    this.$element.on({\r\n      // 'toggle.zf.trigger': this.toggle.bind(this),\r\n      // 'close.zf.trigger': this.hide.bind(this)\r\n      'close.zf.trigger': this.hide.bind(this)\r\n    });\r\n\r\n    this.$element\r\n      .on('focus.zf.tooltip', function(e) {\r\n        isFocus = true;\r\n        if (_this.isClick) {\r\n          // If we're not showing open on clicks, we need to pretend a click-launched focus isn't\r\n          // a real focus, otherwise on hover and come back we get bad behavior\r\n          if(!_this.options.clickOpen) { isFocus = false; }\r\n          return false;\r\n        } else {\r\n          _this.show();\r\n        }\r\n      })\r\n\r\n      .on('focusout.zf.tooltip', function(e) {\r\n        isFocus = false;\r\n        _this.isClick = false;\r\n        _this.hide();\r\n      })\r\n\r\n      .on('resizeme.zf.trigger', function() {\r\n        if (_this.isActive) {\r\n          _this._setPosition();\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * adds a toggle method, in addition to the static show() & hide() functions\r\n   * @function\r\n   */\r\n  toggle() {\r\n    if (this.isActive) {\r\n      this.hide();\r\n    } else {\r\n      this.show();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroys an instance of tooltip, removes template element from the view.\r\n   * @function\r\n   */\r\n  destroy() {\r\n    this.$element.attr('title', this.template.text())\r\n                 .off('.zf.trigger .zf.tootip')\r\n                //  .removeClass('has-tip')\r\n                 .removeAttr('aria-describedby')\r\n                 .removeAttr('data-yeti-box')\r\n                 .removeAttr('data-toggle')\r\n                 .removeAttr('data-resize');\r\n\r\n    this.template.remove();\r\n\r\n    Foundation.unregisterPlugin(this);\r\n  }\r\n}\r\n\r\nTooltip.defaults = {\r\n  disableForTouch: false,\r\n  /**\r\n   * Time, in ms, before a tooltip should open on hover.\r\n   * @option\r\n   * @example 200\r\n   */\r\n  hoverDelay: 200,\r\n  /**\r\n   * Time, in ms, a tooltip should take to fade into view.\r\n   * @option\r\n   * @example 150\r\n   */\r\n  fadeInDuration: 150,\r\n  /**\r\n   * Time, in ms, a tooltip should take to fade out of view.\r\n   * @option\r\n   * @example 150\r\n   */\r\n  fadeOutDuration: 150,\r\n  /**\r\n   * Disables hover events from opening the tooltip if set to true\r\n   * @option\r\n   * @example false\r\n   */\r\n  disableHover: false,\r\n  /**\r\n   * Optional addtional classes to apply to the tooltip template on init.\r\n   * @option\r\n   * @example 'my-cool-tip-class'\r\n   */\r\n  templateClasses: '',\r\n  /**\r\n   * Non-optional class added to tooltip templates. Foundation default is 'tooltip'.\r\n   * @option\r\n   * @example 'tooltip'\r\n   */\r\n  tooltipClass: 'tooltip',\r\n  /**\r\n   * Class applied to the tooltip anchor element.\r\n   * @option\r\n   * @example 'has-tip'\r\n   */\r\n  triggerClass: 'has-tip',\r\n  /**\r\n   * Minimum breakpoint size at which to open the tooltip.\r\n   * @option\r\n   * @example 'small'\r\n   */\r\n  showOn: 'small',\r\n  /**\r\n   * Custom template to be used to generate markup for tooltip.\r\n   * @option\r\n   * @example '&lt;div class=\"tooltip\"&gt;&lt;/div&gt;'\r\n   */\r\n  template: '',\r\n  /**\r\n   * Text displayed in the tooltip template on open.\r\n   * @option\r\n   * @example 'Some cool space fact here.'\r\n   */\r\n  tipText: '',\r\n  touchCloseText: 'Tap to close.',\r\n  /**\r\n   * Allows the tooltip to remain open if triggered with a click or touch event.\r\n   * @option\r\n   * @example true\r\n   */\r\n  clickOpen: true,\r\n  /**\r\n   * Additional positioning classes, set by the JS\r\n   * @option\r\n   * @example 'top'\r\n   */\r\n  positionClass: '',\r\n  /**\r\n   * Distance, in pixels, the template should push away from the anchor on the Y axis.\r\n   * @option\r\n   * @example 10\r\n   */\r\n  vOffset: 10,\r\n  /**\r\n   * Distance, in pixels, the template should push away from the anchor on the X axis, if aligned to a side.\r\n   * @option\r\n   * @example 12\r\n   */\r\n  hOffset: 12\r\n};\r\n\r\n/**\r\n * TODO utilize resize event trigger\r\n */\r\n\r\n// Window exports\r\nFoundation.plugin(Tooltip, 'Tooltip');\r\n\r\n}(jQuery);"]}